!function(){"use strict";var t=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t};var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var o=s((function(t){function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e}));var a=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var u=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e},l=s((function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e}));var h=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t},c=s((function(t){function e(i,n,r){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=e=Reflect.get:t.exports=e=function(t,e,i){var n=h(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}},e(i,n,r||i)}t.exports=e})),d=s((function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}));var f=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)},_=s((function(t){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(n,r,s){return e()?t.exports=i=Reflect.construct:t.exports=i=function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&d(r,i.prototype),r},i.apply(null,arguments)}t.exports=i})),p=function(){function t(){if(e(this,t),this.elements=[],arguments.length)for(var i=0;i<arguments.length;i++)this.elements[i]=arguments[i]}return n(t,[{key:"length",get:function(){return this.elements?this.elements.length:0}}]),n(t,[{key:"same",value:function(t){for(var e=0;e<this.length;e++)this.elements[e]=t;return this}},{key:"typeTo",value:function(t){return this.elements=new t(this.elements),this}},{key:"normalize",value:function(){for(var t=0,e=0,i=this.length;e<i;e++)t+=this.elements[e]*this.elements[e];if(!(t=Math.sqrt(t)))return this.same(0);if(1==t)return this;for(var n=0;n<this.length;n++)this.elements[n]/=t;return this}},{key:"set",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]=arguments[t];return this}},{key:"setApply",value:function(t){return t===this?this:this.set.apply(this,t.elements||t)}},{key:"clone",value:function(){return(new this.constructor).setApply(this)}},{key:"equals",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&this.length!=t.length)return!1;for(var i=e?this.length:Math.min(this.length,t.length),n=0;n<i;n++)if(this[n]!=t[n])return!1;return!0}},{key:"equalsApply",value:function(){return this.equals(arguments)}},{key:"add",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]+=arguments[t];return this}},{key:"addApply",value:function(t){return this.add.apply(this,t.elements||t)}},{key:"sub",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]-=arguments[t];return this}},{key:"subApply",value:function(t){return this.sub.apply(this,t.elements||t)}},{key:"mult",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]*=arguments[t];return this}},{key:"multApply",value:function(t){return this.mult.apply(this,t.elements||t)}},{key:"div",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]/=arguments[t];return this}},{key:"divApply",value:function(t){return this.div.apply(this,t.elements||t)}}]),t}(),m=function(t){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(this,i),u(this,l(i).call(this,t,n))}return f(i,t),n(i,[{key:"rotate",value:function(t){var e=Math.sin(t),i=Math.cos(t),n=i*this.x-e*this.y;return this.y=e*this.x+i*this.y,this.x=n,this}},{key:"dist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.x-t,n=this.y-e;return Math.sqrt(i*i+n*n)}},{key:"distVector",value:function(t){return this.dist(t.x,t.y)}},{key:"angle",value:function(t){var e=this.dist()*t.dist(),i=this.x*t.x+this.y*t.y;return Math.acos(i/e)}},{key:"inPolygon",value:function(t){if(arguments.length>1&&(t=arguments),t.length<3)return!1;for(var e=!1,i=0,n=t.length-1;i<t.length;n=i++){var r=t[i].x,s=t[i].y,o=t[n].x,a=t[n].y,u=s>this.y!=a>this.y&&this.x<(o-r)*(this.y-s)/(a-s)+r;u&&(e=!e)}return e}},{key:"multiplyMatrix4",value:function(t){var e=t.elements,i=this.elements,n=1/(e[3]*i[0]+e[7]*i[1]+e[15]);return this.set((e[0]*i[0]+e[4]*i[1]+e[12])*n,(e[1]*i[0]+e[5]*i[1]+e[13])*n)}},{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}}]),i}(p),v=function(t){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e(this,i),u(this,l(i).call(this,t,n,r))}return f(i,t),n(i,[{key:"dist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.x-t,r=this.y-e,s=this.z-i;return Math.sqrt(n*n+r*r+s*s)}},{key:"distVector",value:function(t){return this.dist(t.x,t.y,t.z)}},{key:"angle",value:function(t){var e=this.dist()*t.dist(),i=this.x*t.x+this.y*t.y+this.z*t.z;return Math.acos(i/e)}},{key:"multiplyMatrix4",value:function(t){var e=this.elements,i=t.elements,n=1/(i[3]*e[0]+i[7]*e[1]+i[11]*e[2]+i[15]);return this.set((i[0]*e[0]+i[4]*e[1]+i[8]*e[2]+i[12])*n,(i[1]*e[0]+i[5]*e[1]+i[9]*e[2]+i[13])*n,(i[2]*e[0]+i[6]*e[1]+i[10]*e[2]+i[14])*n)}},{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}},{key:"z",get:function(){return this.elements[2]},set:function(t){this.elements[2]=t}}]),i}(p),g=function(t){function i(t){var n;return e(this,i),n=u(this,l(i).call(this,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),t&&n.setApply(t),n}return f(i,t),n(i,[{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"multiply",value:function(t){var e,i,n,r,s,o,a,u;if(i=this.elements,n=this.elements,i===(r=t.elements))for(r=new Float32Array(16),e=0;e<16;++e)r[e]=i[e];for(e=0;e<4;e++)s=n[e],o=n[e+4],a=n[e+8],u=n[e+12],i[e]=s*r[0]+o*r[1]+a*r[2]+u*r[3],i[e+4]=s*r[4]+o*r[5]+a*r[6]+u*r[7],i[e+8]=s*r[8]+o*r[9]+a*r[10]+u*r[11],i[e+12]=s*r[12]+o*r[13]+a*r[14]+u*r[15];return this}},{key:"multiplyVector3",value:function(t){var e=this.elements,i=t.elements,n=i[0]*e[0]+i[1]*e[4]+i[2]*e[8]+e[12],r=i[0]*e[1]+i[1]*e[5]+i[2]*e[9]+e[13],s=i[0]*e[2]+i[1]*e[6]+i[2]*e[10]+e[14];return t.x=n,t.y=r,t.z=s,t}},{key:"transpose",value:function(){var t=this.elements;return this.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])}},{key:"invert",value:function(t){var e,n,r,s,o;if(n=t?t.elements||t:this.elements,r=this.elements,(s=i.invertHandle||(i.invertHandle=[]))[0]=n[5]*n[10]*n[15]-n[5]*n[11]*n[14]-n[9]*n[6]*n[15]+n[9]*n[7]*n[14]+n[13]*n[6]*n[11]-n[13]*n[7]*n[10],s[4]=-n[4]*n[10]*n[15]+n[4]*n[11]*n[14]+n[8]*n[6]*n[15]-n[8]*n[7]*n[14]-n[12]*n[6]*n[11]+n[12]*n[7]*n[10],s[8]=n[4]*n[9]*n[15]-n[4]*n[11]*n[13]-n[8]*n[5]*n[15]+n[8]*n[7]*n[13]+n[12]*n[5]*n[11]-n[12]*n[7]*n[9],s[12]=-n[4]*n[9]*n[14]+n[4]*n[10]*n[13]+n[8]*n[5]*n[14]-n[8]*n[6]*n[13]-n[12]*n[5]*n[10]+n[12]*n[6]*n[9],s[1]=-n[1]*n[10]*n[15]+n[1]*n[11]*n[14]+n[9]*n[2]*n[15]-n[9]*n[3]*n[14]-n[13]*n[2]*n[11]+n[13]*n[3]*n[10],s[5]=n[0]*n[10]*n[15]-n[0]*n[11]*n[14]-n[8]*n[2]*n[15]+n[8]*n[3]*n[14]+n[12]*n[2]*n[11]-n[12]*n[3]*n[10],s[9]=-n[0]*n[9]*n[15]+n[0]*n[11]*n[13]+n[8]*n[1]*n[15]-n[8]*n[3]*n[13]-n[12]*n[1]*n[11]+n[12]*n[3]*n[9],s[13]=n[0]*n[9]*n[14]-n[0]*n[10]*n[13]-n[8]*n[1]*n[14]+n[8]*n[2]*n[13]+n[12]*n[1]*n[10]-n[12]*n[2]*n[9],s[2]=n[1]*n[6]*n[15]-n[1]*n[7]*n[14]-n[5]*n[2]*n[15]+n[5]*n[3]*n[14]+n[13]*n[2]*n[7]-n[13]*n[3]*n[6],s[6]=-n[0]*n[6]*n[15]+n[0]*n[7]*n[14]+n[4]*n[2]*n[15]-n[4]*n[3]*n[14]-n[12]*n[2]*n[7]+n[12]*n[3]*n[6],s[10]=n[0]*n[5]*n[15]-n[0]*n[7]*n[13]-n[4]*n[1]*n[15]+n[4]*n[3]*n[13]+n[12]*n[1]*n[7]-n[12]*n[3]*n[5],s[14]=-n[0]*n[5]*n[14]+n[0]*n[6]*n[13]+n[4]*n[1]*n[14]-n[4]*n[2]*n[13]-n[12]*n[1]*n[6]+n[12]*n[2]*n[5],s[3]=-n[1]*n[6]*n[11]+n[1]*n[7]*n[10]+n[5]*n[2]*n[11]-n[5]*n[3]*n[10]-n[9]*n[2]*n[7]+n[9]*n[3]*n[6],s[7]=n[0]*n[6]*n[11]-n[0]*n[7]*n[10]-n[4]*n[2]*n[11]+n[4]*n[3]*n[10]+n[8]*n[2]*n[7]-n[8]*n[3]*n[6],s[11]=-n[0]*n[5]*n[11]+n[0]*n[7]*n[9]+n[4]*n[1]*n[11]-n[4]*n[3]*n[9]-n[8]*n[1]*n[7]+n[8]*n[3]*n[5],s[15]=n[0]*n[5]*n[10]-n[0]*n[6]*n[9]-n[4]*n[1]*n[10]+n[4]*n[2]*n[9]+n[8]*n[1]*n[6]-n[8]*n[2]*n[5],0===(o=n[0]*s[0]+n[1]*s[4]+n[2]*s[8]+n[3]*s[12]))return this;for(o=1/o,e=0;e<16;e++)r[e]=s[e]*o;return this}},{key:"setOrtho",value:function(t,e,i,n,r,s){var o,a,u,l;if(t===e||i===n||r===s)throw"null frustum";return a=1/(e-t),u=1/(n-i),l=1/(s-r),(o=this.elements)[0]=2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2*l,o[11]=0,o[12]=-(e+t)*a,o[13]=-(n+i)*u,o[14]=-(s+r)*l,o[15]=1,this}},{key:"setScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.mult(t,t,t,t,e,e,e,e,i,i,i,i)}},{key:"setTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.set(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1)}},{key:"translate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.elements;return n[12]+=n[0]*t+n[4]*e+n[8]*i,n[13]+=n[1]*t+n[5]*e+n[9]*i,n[14]+=n[2]*t+n[6]*e+n[10]*i,n[15]+=n[3]*t+n[7]*e+n[11]*i,this}},{key:"setRotate",value:function(t,e,i,n){var r,s,o,a,u,l,h,c,d,f,_;return this.elements,r=Math.sin(t),s=Math.cos(t),0!==e&&0===i&&0===n?(e<0&&(r=-r),this.set(1,0,0,0,0,s,-r,0,0,r,s,0,0,0,0,1)):0===e&&0!==i&&0===n?(i<0&&(r=-r),this.set(s,0,-r,0,0,1,0,0,r,0,s,0,0,0,0,1)):0===e&&0===i&&0!==n?(n<0&&(r=-r),this.set(s,r,0,0,-r,s,0,0,0,0,1,0,0,0,0,1)):(1!==(o=Math.sqrt(e*e+i*i+n*n))&&(e*=a=1/o,i*=a,n*=a),u=1-s,l=e*i,h=i*n,c=n*e,d=e*r,f=i*r,_=n*r,this.set(e*e*u+s,l*u+_,c*u-f,0,l*u-_,i*i*u+s,h*u+d,0,c*u+f,h*u-d,n*n*u+s,0,0,0,0,1))}},{key:"rotate",value:function(t,e,n,r){return this.multiply((new i).setRotate(t,e,n,r))}}]),i}(p);function y(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function w(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var T=function(t){function i(t){var n;return e(this,i),(n=u(this,l(i).call(this,1,1,1,1))).setApply(arguments.length>1?arguments:t),n}return f(i,t),n(i,[{key:"setApply",value:function(t){return"string"==typeof t?this.string=t:"number"==typeof t?this.number=t:c(l(i.prototype),"setApply",this).call(this,t),this}},{key:"number",set:function(t){y(t,this.elements)},get:function(){return w(this.elements)}},{key:"string",set:function(t){var e;y(("string"==typeof(e=t)&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)),this.elements)},get:function(){return t=(t=w(this.elements)).toString(16),t="000000".substr(0,6-t.length)+t,"#".concat(t);var t}},{key:"red",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"green",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}},{key:"blue",get:function(){return this.elements[2]},set:function(t){this.elements[2]=t}},{key:"alpha",get:function(){return this.elements[3]},set:function(t){this.elements[3]=t}}]),i}(p),b=["日","一","二","三","四","五","六"],x=function(){function t(){e(this,t),this.Date=null}return n(t,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jstimestamp";return t?t instanceof Date?this.Data=t:"object"==o(t)?this.Data=null:"function"==typeof t?this.Set(t(),e):this.Date=t>0?"jstimestamp"==e?new Date(1*t):new Date(1e3*t):"string"==typeof t?new Date(t):null:this.Date=null,this.Date||(this.Date=new Date),this}},{key:"Get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jstimestamp";switch(this.Date||(this.Date=new Date),e){case"Date":return this.Date;case"timestamp":return parseInt(this.Date.getTime()/1e3);case"jstimestamp":return this.Date.getTime()}return e.replace(/[YmdHisSwWqQ]/g,(function(e){return t[e]}))}},{key:"OneDay",value:function(t,e,i,n){return this.Set(t,i).Get("Ymd")==this.Set(e,n).Get("Ymd")}},{key:"OneWeek",value:function(t,e,i,n){return this.Set(t,i).ToWeek().Get("Ymd")==this.Set(e,n).ToWeek().Get("Ymd")}},{key:"ToWeek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.Date.setDate(this.Date.getDate()-(this.w||7)+t),this}},{key:"GetWeek",value:function(t,e){return this.ToWeek(t).Get(e)}},{key:"Y",get:function(){return this.Date.getFullYear()}},{key:"m",get:function(){return("00"+(this.Date.getMonth()+1)).slice(-2)}},{key:"d",get:function(){return("00"+this.Date.getDate()).slice(-2)}},{key:"H",get:function(){return("00"+this.Date.getHours()).slice(-2)}},{key:"i",get:function(){return("00"+this.Date.getMinutes()).slice(-2)}},{key:"s",get:function(){return("00"+this.Date.getSeconds()).slice(-2)}},{key:"S",get:function(){return("000"+this.Date.getMilliseconds()).slice(-3)}},{key:"w",get:function(){return this.Date.getDay()}},{key:"W",get:function(){return b[this.w]}},{key:"q",get:function(){return(this.Date.getMonth()+3)/3|0}},{key:"Q",get:function(){return b[this.q]}}]),t}(),k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Math.random()*t|0)+e};k.To=function(t,e){return k(e-t,t)},(k.Array=function(t){return t[k(t.length)]}).Keys=k.Keys=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var i=[],n=Object.keys(t);n.length>0&&i.length<e;)i.push(n.splice(k(n.length),1)[0]);return i},k.Array.Values=k.Values=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var i=[],n=Object.keys(t);n.length>0&&i.length<e;){var r=n.splice(k(n.length),1)[0];i.push(t[r])}return i};var A=function(){function t(){e(this,t),this.TouchHandle=new v}return n(t,[{key:"InComponent",value:function(t,e){return!!t.visible&&(!t.checkPoint||(this.TouchHandle.setApply(e),!!t.checkPoint(this.TouchHandle)||void 0))}},{key:"Recursive",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"touchTap";if(!t)return!1;if(!(t instanceof Array)){if(!t.visible)return!1;if(t.touchChildren&&t.children.length){var n=this.Recursive(t.children,e,i);if(n)return n}if(!this.InComponent(t,e))return!1;if(!t[i])return t.touchStop;var r=t[i](this.TouchHandle);return void 0===r||r}for(var s=t.length-1;s>=0;s--){var o=this.Recursive(t[s],e,i);if(o)return o}}}]),t}(),S=function(){function t(){e(this,t),this._events={}}return n(t,[{key:"listen",value:function(){for(var t=0;t<arguments.length;t++)this.on(arguments[t]);return this}},{key:"on",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i||(i=this),e||(e=i[t]),e?(this._events[t]||(this._events[t]=[]),this._events[t].push({fn:e,context:i,once:n}),this):this}},{key:"once",value:function(t,e,i){return this.on(t,e,i,!0)}},{key:"off",value:function(t,e,i){if(!this._events[t])return this;i||(i=this);var n=this._events[t].filter((function(t){return t.context!==i&&t.fn!==e}));return n.length?this._events[t]=n:delete this._events[t],this}},{key:"emit",value:function(t){if(!this._events[t])return this;for(var e=this._events[t],i=Array.prototype.splice.call(arguments,1),n=0;n<e.length;n++){var r=e[n],s=r.fn,o=r.context,a=r.once;s.apply(o,i),a&&e.splice(n--,1)}return e.length||delete this._events[t],this}}]),t}(),P=function(t){function i(t,n,r){var s;return e(this,i),(s=u(this,l(i).call(this,n,r))).start=new m(n,r),s.tick=new m(0,0),s.begin=s.over=t,s}return f(i,t),n(i,[{key:"set",value:function(t,e){return this.tick.set(t-this.x,e-this.y),c(l(i.prototype),"set",this).call(this,t,e)}},{key:"long",get:function(){return this.over-this.begin}},{key:"startX",get:function(){return this.start.x}},{key:"startY",get:function(){return this.start.y}},{key:"endX",get:function(){return this.x}},{key:"endY",get:function(){return this.y}},{key:"moveX",get:function(){return this.x-this.start.x}},{key:"moveY",get:function(){return this.y-this.start.y}},{key:"distance",get:function(){return this.distVector(this.start)}}]),i}(m),D=function(t){function i(){var t;return e(this,i),(t=u(this,l(i).call(this))).size=new m,t.offset=new m,t.touches={},t}return f(i,t),n(i,[{key:"getX",value:function(t){return(t-this.offset.x)*this.size.x}},{key:"getY",value:function(t){return(t-this.offset.y)*this.size.y}},{key:"start",value:function(t){for(var e=Date.now(),i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i],s=r.identifier;this.touches[s]=new P(e,this.getX(r.clientX),this.getY(r.clientY)),this.emit("touchStart",this.touches[s])}return this}},{key:"move",value:function(t){for(var e=0,i=t.changedTouches.length;e<i;e++){var n=t.changedTouches[e],r=n.identifier;this.touches[r]&&(this.touches[r].set(this.getX(n.clientX),this.getY(n.clientY)),this.emit("touchMove",this.touches[r]))}return this}},{key:"end",value:function(t){for(var e=Date.now(),i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i],s=r.identifier;this.touches[s]&&(this.touches[s].over=e,this.touches[s].set(this.getX(r.clientX),this.getY(r.clientY),e),this.emit("touchEnd",this.touches[s]),delete this.touches[s])}return this}}]),i}(S),C=function(){function t(){e(this,t),this.resources={}}return n(t,[{key:"Set",value:function(t){throw Error("请先挂载加载函数(Set)")}},{key:"load",value:function(t,e){var i=this;return this.Set(e).then((function(e){i.resources[t]=e}))}},{key:"preLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Object.keys(e);return Promise.all(r.map((function(r){var s=t.load(i+r,e[r]);return n?s.then(n):s})))}},{key:"loadMap",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s={};return Object.keys(e).forEach((function(o){if("_"==o){if(-1==r.indexOf(e[o]))return;var a=n.slice(0,-1),u=i+n.slice(0,-1)+"."+e[o];s[a]=u}else if("string"==typeof e[o]){if(-1==r.indexOf(e[o]))return;var l=n+o,h=i+n+o+"."+e[o];s[l]=h}else Object.assign(s,t.loadMap(e[o],i,n+o+"/",r))})),s}}]),t}(),M=function(t){function i(){var t;return e(this,i),(t=u(this,l(i).call(this))).time=t.then=t.history=Date.now(),t.interval=1e3/60,t.tick=t.move=0,t}return f(i,t),n(i,[{key:"step",value:function(){this.time=Date.now();var t=this.time-this.then;if(t<this.interval)return!1;this.tick=t/this.interval|0;var e=t%this.interval;return this.then=this.time-e,this.move=this.time-this.history,this.history=this.time,!0}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3/60;this.interval=t;var e=this,i=function t(){requestAnimationFrame(t),e.step()&&(e.emit("start"),e.emit("tick"),e.emit("end"))};return requestAnimationFrame(i),this}}]),i}(S),R=function(){function t(i){e(this,t),i.context||(i.context=i.canvas.getContext("2d")),this.context=i.context,this.canvas=i.context.canvas,this.renderArray=[]}return n(t,[{key:"update",value:function(){for(var t=0,e=this.renderArray.length;t<e;t++)this.renderArray[t].emit("update"),this.renderArray[t].update&&this.renderArray[t].update(this),this.renderArray[t].emit("updated");this.renderArray.length=0}},{key:"updateTexture",value:function(t){return t}},{key:"updateBuffer",value:function(t){if(!t)return null;var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5];return 0==e&&0==i&&n==s&&r==o?null:t}},{key:"blend",value:function(){return this}},{key:"transform",value:function(t){var e=t.elements;return this.context.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),this}},{key:"texture",value:function(t){t.needUpdate&&(t.uv=this.updateBuffer(t.source,t.uv),t.needUpdate=!1),this.beforeUvs=t.uv,this.beforeTexture=t.baseTexture.source}},{key:"draw",value:function(){var t=this.context,e=this.beforeUvs,i=this.beforeTexture;e?t.drawImage(i,e[0],e[1],e[2],e[3],-1,-1,2,2):t.drawImage(i,-1,-1,2,2)}},{key:"text",value:function(){}}]),t}(),E=function t(i,n,r,s,o){e(this,t),this.baseTexture=i,this.width=s,this.height=o,this.source=[n,r,s,o,i.width,i.height],this.needUpdate=!0,this.uv=null},O=function(){function t(i){e(this,t),this.width=i.width,this.height=i.height,this.source=i,this.needUpdate=!0,this.texture=null}return n(t,[{key:"getTexture",value:function(t,e,i,n){return new E(this,t,e,i,n)}}]),t}();var I=function(t){function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(this,i),(t=u(this,l(i).call(this))).id=i.id?++i.id:i.id=1,t.visible=!0,t.parent=null,t.children=[],t.touchChildren=!0,!1===n.visible&&(t.visible=!1),n.children&&n.children.length&&t.add(n.children),t.worldMatrix=new g,t._updateMatrix=!0,t._updateMatrixInvert=!0,t.on("updateMatrix",(function(){this._updateMatrix=!0;for(var t=0,e=this.children.length;t<e;t++)this.children[t].emit("updateMatrix")})),t.radian=0,n.angle&&(t.angle=n.angle),t._zIndex=0,t.define("zIndex",a(t),"_zIndex"),n.zIndex&&(t.zIndex=n.zIndex),t.position=new m,n.position&&t.position.setApply(n.position),t.define("x",t.position,"x","updateMatrix"),n.x&&(t.x=n.x),t.define("y",t.position,"y","updateMatrix"),n.y&&(t.y=n.y),t.scale=new m(1,1),n.scale&&t.scale.same(n.scale),t.define("scaleX",t.scale,"x","updateMatrix"),n.scaleX&&(t.scaleX=n.scaleX),t.define("scaleY",t.scale,"y","updateMatrix"),n.scaleY&&(t.scaleY=n.scaleY),t.anchor=new m(0,0),t.define("anchorX",t.anchor,"x","updateMatrix"),n.anchorX&&(t.anchorX=n.anchorX),t.define("anchorY",t.anchor,"y","updateMatrix"),n.anchorY&&(t.anchorY=n.anchorY),t.size=new m,n.size&&t.size.setApply(n.size),t.define("width",t.size,"x","updateMatrix"),void 0!==n.width&&(t.width=n.width),t.define("height",t.size,"y","updateMatrix"),void 0!==n.height&&(t.height=n.height),t.define("angle",a(t),"radian","updateMatrix",(function(t){var e=t*Math.PI/180;return e==this.radian?this:(this.radian=e,this.emit("updateMatrix"),this)}),(function(){return 180*this.radian/Math.PI})),void 0!==n.angle&&(t.angle=n.angle),t}return f(i,t),n(i,[{key:"define",value:function(t,e,i,n,r,s){var o=t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase();this["set"+o]=r||function(r){return e[i]==r?this:(e[i]=r,n&&this.emit(n,t,r),this)},this["get"+o]=s||function(t){return e[i]},Object.defineProperty(this,t,{set:this["set"+o],get:this["get"+o]})}}]),n(i,[{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScale",value:function(t,e){return this.scaleX=t,this.scaleY=e,this}},{key:"center",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.width*t+e}},{key:"middle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.height*t+e}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.center(t-.5,e)}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.center(t+.5,e)}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.middle(t-.5,e)}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.middle(t+.5,e)}},{key:"put",value:function(t){return t.add(this)}},{key:"add",value:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.add(arguments[e]);else if(t instanceof Array)for(var i=0;i<t.length;i++)this.add(t[i]);else t&&(t.emit("create"),t.parent&&t.remove(this),this.children.push(t),t.parent=this,t.emit("created"));return this}},{key:"remove",value:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);else if(t instanceof Array)for(var i=0;i<t.length;i++)this.remove(t[i]);else if(t){t.emit("destroy",this),t.clear();var n=this.children.indexOf(t);this.children.splice(n,1),t.parent=null,t.emit("destroyd",this)}return this}},{key:"clear",value:function(){return this.remove(this.children)}},{key:"preUpdate",value:function(t){if(!this.visible)return!0;this._updateMatrix&&this.updateTransform(),t.renderArray.push(this);for(var e=0,i=this.children.length;e<i;e++)this.children[e].preUpdate(t)}},{key:"updateTransform",value:function(t){return this._updateMatrix=!1,t?this.worldMatrix.setApply(t):this.parent?(this.parent._updateMatrix&&this.parent.updateTransform(),this.worldMatrix.setApply(this.parent.worldMatrix)):this.worldMatrix.identity(),this.worldMatrix.translate(this.x,this.y,0),this.worldMatrix.rotate(this.radian,0,0,1),this.worldMatrix.scale(this.scaleX,this.scaleY,1),this.worldMatrix.translate(-this.anchorX,-this.anchorY,0),this._updateMatrixInvert=!0,this}},{key:"getWorldVector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._updateMatrix&&this.updateTransform(),t?e&&(t=t.clone()):t=new m,t.multiplyMatrix4(this.worldMatrix)}},{key:"getLocalVector",value:function(t){return this._updateMatrixInvert&&(this._updateMatrix&&this.updateTransform(),this.worldMatrixInvert||(this.worldMatrixInvert=new g),this.worldMatrixInvert.setApply(this.worldMatrix).invert(),this._updateMatrixInvert=!1),t.multiplyMatrix4(this.worldMatrixInvert)}},{key:"updateMatrix",get:function(){return this._updateMatrix},set:function(t){t?this.emit("updateMatrix"):this._updateMatrix=t}}]),i}(S),L=function(t){function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,i),(n=u(this,l(i).call(this,r))).localMatrix=new g,n.setTexture(t),r.width&&(n.width=r.width),r.height&&(n.height=r.height),n._color=new T(1,1,1,1),n.define("color",a(n),"_color",null,(function(t){return this._color.setApply(t),this})),void 0!==r.color&&(n.color=r.color),n.define("alpha",n._color,"alpha"),void 0!==r.alpha&&(n.alpha=r.alpha),n.define("red",n._color,"red"),void 0!==r.red&&(n.red=r.red),n.define("green",n._color,"green"),void 0!==r.green&&(n.green=r.green),n.define("blue",n._color,"blue"),void 0!==r.blue&&(n.blue=r.blue),n}return f(i,t),n(i,[{key:"checkPoint",value:function(t){return this.getLocalVector(t),t.x>=-this.width/2&&t.y>=-this.height/2&&t.x<=this.width/2&&t.y<=this.height/2}},{key:"setTexture",value:function(t){return t?(this.texture=t,this.width=t.width,this.height=t.height):(this.texture=null,this.width=0,this.height=0),this}},{key:"update",value:function(t){this.texture&&(t.blend(this.color),t.transform(this.localMatrix),t.texture(this.texture),t.draw())}},{key:"updateTransform",value:function(t){c(l(i.prototype),"updateTransform",this).call(this,t),this.texture&&this.localMatrix.setApply(this.worldMatrix).scale(this.width/2,this.height/2)}}]),i}(I),F=function(t){function i(){var t;return e(this,i),(t=u(this,l(i).call(this))).needSplit=!0,t.textures=[],t}return f(i,t),n(i,[{key:"addTexture",value:function(t){this.textures.push(t),this.width+=t.width,t.anchorX=-t.width/2,t.anchorY=-t.height/2}},{key:"align",value:function(t){for(var e=0;e<this.textures.length;e++){var i=this.textures[e];i.y-=(i.height-this.height)*t}}},{key:"updateTransform",value:function(t){c(l(i.prototype),"updateTransform",this).call(this,t);for(var e=0;e<this.textures.length;e++)this.textures[e].updateTransform(this.worldMatrix)}},{key:"update",value:function(t){for(var e=0;e<this.textures.length;e++)this.textures[e].update(t)}}]),i}(I),B=function(t){function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,i),(n=u(this,l(i).call(this,r))).family=r.family||"36px 微软雅黑",n.color=r.color||"#FFFFFF",n.stroke=r.stroke||0,n.anchorY=-n.height/2,n.values=t,n}return f(i,t),n(i,[{key:"addValue",value:function(t,e){this.values+=t,this.width+=e,this.anchorX=-this.width/2}},{key:"update",value:function(t){t.transform(this.worldMatrix);var e=t.context;e.font!=this.family&&(e.font=this.family),"center"!=e.textAlign&&(e.textAlign="center"),"middle"!=e.textBaseline&&(e.textBaseline="middle"),this.stroke>0?(e.lineWidth!=this.stroke&&(e.lineWidth=this.stroke),e.strokeStyle!=this.color&&(e.strokeStyle=this.color),t.context.strokeText(this.values,0,0)):(e.fillStyle!=this.color&&(e.fillStyle=this.color),t.context.fillText(this.values,0,0))}}]),i}(I),z=function(t){function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(this,i),(t=u(this,l(i).call(this,n))).font=t.defaultFont(n.font),t.value="",t.textures=[],t.icons=Object.assign({},n.icons),t.wrapWidth=n.wrapWidth||-1,n.lineHeight>0?(t.lineHeight=n.lineHeight,t.autoLineHeight=!1):(t.lineHeight=t.font.size,t.autoLineHeight=!0),n.value&&t.setValue(n.value),t}return f(i,t),n(i,[{key:"defaultFont",value:function(t){return Object.assign({},t)}}]),n(i,[{key:"setValue",value:function(t){return t==this.value?this:(this.textures.length=0,this.value=0===t?"0":t?t.toString():"",this.value?(this.updateText(this.value),this):this)}},{key:"updateText",value:function(t){for(var e={},i={size:this.font.size,family:this.font.family,weight:this.font.weight,lineWidth:this.font.lineWidth||0,strokeStyle:this.font.strokeStyle||"#000000",fillStyle:this.font.fillStyle||"#FFFFFF"},n=Object.assign({},i),r=null,s=this.icons,o=t.replace(/\<(fillStyle|strokeStyle|lineWidth|family|weight|size|i)\=(\S+?)\>/g,(function(t,i,n,r){return"i"==i?(s[n]&&(e[r]={action:i,arg:s[n],length:t.length-1}),t):(e[r]={action:i,arg:n,length:t.length-1},t)})),a=0,u=o.length;a<u;a++){var l=o[a];e[a]?("i"!=e[a].action?(n[e[a].action]="@"==e[a].arg?i[e[a].action]:e[a].arg,r&&(r.needSplit=!0)):this.linePushSpecial(r,e[a].arg)&&(r=(new F).setSize(0,this.lineHeight).setPosition(0,r?r.y+r.height:0),this.textures.push(r),this.linePushSpecial(r,e[a].arg)),a+=e[a].length):"\n"===l?(r=(new F).setSize(0,this.lineHeight).setPosition(0,r?r.y+r.height:0),this.textures.push(r)):this.linePush(r,n,l)&&(r=(new F).setSize(0,this.lineHeight).setPosition(0,r?r.y+r.height:0),this.textures.push(r),this.linePush(r,n,l))}this.updateTextures()}},{key:"getElement",value:function(){throw"请设置getElement函数"}},{key:"linePushSpecial",value:function(t,e){if(this.lineWrapCheck(t,e.width))return!0;this.autoLineHeight&&e.height>t.height&&(t.height=e.height),t.addTexture(this.getElement(e,!1,{x:t.width},!0)),t.needSplit=!0}},{key:"linePush",value:function(t,e,i,n){if(!t)return!0;if(n);else{var r=this.getElement(t.needSplit,i,e),s=r.baseTexture?r.width*e.size/r.baseTexture.size:r.width;if(this.lineWrapCheck(t,s))return!0;if(t.needSplit){this.autoLineHeight&&e.size>t.height&&(t.height=e.size);var o={family:e.size+"px "+e.family,color:e.fillStyle,width:s,height:e.size,x:t.width};t.addTexture(this.getElement(r,i,o,!0)),t.needSplit=this.allFontSplit}else t.textures[t.textures.length-1].addValue(i,s),t.width+=s}}},{key:"lineWrapCheck",value:function(t,e){return this.wrapWidth>=0&&t.width+e>this.wrapWidth}},{key:"updateTextures",value:function(){var t=this.textures.map((function(t){return t.width}));this.width=Math.max.apply(null,t),this.height=this.textures.reduce((function(t,e){return t+e.height}),0);for(var e=0;e<this.textures.length;e++){var i=this.textures[e];i.x-=.5*this.width,i.y-=.5*this.height,i.x-=.5*(i.width-this.width),i.align(.5)}this.updateMatrix=!0}},{key:"updateTransform",value:function(){if(c(l(i.prototype),"updateTransform",this).call(this),this.textures&&this.textures.length)for(var t=0;t<this.textures.length;t++){this.textures[t].updateTransform(this.worldMatrix)}}},{key:"update",value:function(t){if(this.textures&&this.textures.length)for(var e=0;e<this.textures.length;e++){this.textures[e].update(t)}}},{key:"allFontSplit",get:function(){return!0}}]),i}(I),j=function(i){function r(){var i,n;e(this,r);for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return n=u(this,(i=l(r)).call.apply(i,[this].concat(o))),t(a(n),"Scenes",{}),t(a(n),"CurrentScene",null),n}return f(r,i),n(r,[{key:"Go",value:function(t){this.remove(this.CurrentScene);for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return this.CurrentScene=this.Scenes[t]?_(this.Scenes[t],i):null,this.add(this.CurrentScene,0),this}},{key:"setScenes",value:function(t){return Object.assign(this.Scenes,t),this}},{key:"look",value:function(t){return this.worldMatrix.setApply(t),this.updateMatrix=!1,this}}]),r}(I),H=s((function(t,e){
/*!
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
!function(){var t=function(){this.init()};t.prototype={init:function(){var t=this||i;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||i;if(t=parseFloat(t),e.ctx||c(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),s=0;s<r.length;s++){var o=e._howls[n]._soundById(r[s]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||i;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),s=0;s<r.length;s++){var o=e._howls[n]._soundById(r[s]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||i,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||i)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||i;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||i,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),s=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(s||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||i;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(i){for(var n=0;n<t.html5PoolSize;n++)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(i){t.noAudio=!0}for(n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var s=t._howls[n]._getSoundIds(),o=0;o<s.length;o++){var a=t._howls[n]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||i;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){})),new Audio},_releaseHtml5Audio:function(t){var e=this||i;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&i.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&i.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var i=new t,n=function(t){t.src&&0!==t.src.length&&this.init(t)};n.prototype={init:function(t){var e=this;return i.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=i.usingWebAudio&&!e._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,r;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n&&i.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&a(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var s=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(s++,r=n._sounds[o]._id);1===s?t=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!a._paused)return e||n._loadQueue("play"),a._id;n._webAudio&&i._autoResume();var l=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-l),c=1e3*h/Math.abs(a._rate),d=n._sprite[t][0]/1e3,f=(n._sprite[t][0]+n._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var _=function(){a._paused=!1,a._seek=l,a._start=d,a._stop=f,a._loop=!(!a._loop&&!n._sprite[t][2])};if(!(l>=f)){var p=a._node;if(n._webAudio){var m=function(){n._playLock=!1,_(),n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;p.gain.setValueAtTime(t,i.ctx.currentTime),a._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?a._loop?p.bufferSource.noteGrainOn(0,l,86400):p.bufferSource.noteGrainOn(0,l,h):a._loop?p.bufferSource.start(0,l,86400):p.bufferSource.start(0,l,h),c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),e||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===i.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(a._id))}else{var v=function(){p.currentTime=l,p.muted=a._muted||n._muted||i._muted||p.muted,p.volume=a._volume*i.volume(),p.playbackRate=a._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,_(),r.then((function(){n._playLock=!1,p._unlocked=!0,e||(n._emit("play",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(n._playLock=!1,_(),n._emit("play",a._id),n._loadQueue()),p.playbackRate=a._rate,p.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c):(n._endTimers[a._id]=function(){n._ended(a),p.removeEventListener("ended",n._endTimers[a._id],!1)},p.addEventListener("ended",n._endTimers[a._id],!1))}catch(t){n._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var g=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||g)v();else{n._playLock=!0;var y=function(){v(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),n=0;n<i.length;n++){e._clearTimer(i[n]);var r=e._soundById(i[n]);if(r&&!r._paused&&(r._seek=e.seek(i[n]),r._rateSeek=0,r._paused=!0,e._stopFade(i[n]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var n=i._getSoundIds(t),r=0;r<n.length;r++){i._clearTimer(n[r]);var s=i._soundById(n[r]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,i._stopFade(n[r]),s._node&&(i._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&i._clearSound(s._node))),e||i._emit("stop",s._id))}return i},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),s=0;s<r.length;s++){var o=n._soundById(r[s]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,i.ctx.currentTime):o._node&&(o._node.muted=!!i._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,r=this,s=arguments;if(0===s.length)return r._volume;if(1===s.length||2===s.length&&void 0===s[1]){var o=r._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else s.length>=2&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,s)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(n=r._soundById(e[u]))&&(n._volume=t,s[2]||r._stopFade(e[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*i.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(t,e,n,r)}}),s;t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),s.volume(t,r);for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if(r||s._stopFade(o[a]),s._webAudio&&!u._muted){var l=i.ctx.currentTime,h=l+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,h)}s._startFadeInterval(u,t,e,n,o[a],void 0===r)}}return s},_startFadeInterval:function(t,e,i,n,r,s){var o=this,a=e,u=i-e,l=Math.abs(u/.01),h=Math.max(4,l>0?n/l:n),c=Date.now();t._fadeTo=i,t._interval=setInterval((function(){var r=(Date.now()-c)/n;c=Date.now(),a+=u*r,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,o._webAudio?t._volume=a:o.volume(a,t._id,!0),s&&(o._volume=a),(i<e&&a<=i||i>e&&a>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(i,t._id),o._emit("fade",t._id))}),h)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(i=n._soundById(parseInt(r[0],10)))&&i._loop;t=r[0],n._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var s=n._getSoundIds(e),o=0;o<s.length;o++)(i=n._soundById(s[o]))&&(i._loop=t,n._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return n},rate:function(){var t,e,n,r=this,s=arguments;if(0===s.length)e=r._sounds[0]._id;else if(1===s.length){var o=r._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else 2===s.length&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if("number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,s)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)if(n=r._soundById(e[u])){r.playing(e[u])&&(n._rateSeek=r.seek(e[u]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,i.ctx.currentTime):n._node&&(n._node.playbackRate=t);var l=r.seek(e[u]),h=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,c=1e3*h/Math.abs(n._rate);!r._endTimers[e[u]]&&n._paused||(r._clearTimer(e[u]),r._endTimers[e[u]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var s=n._getSoundIds(),o=s.indexOf(r[0]);o>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?i.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+u*Math.abs(a._rate))}return a._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var c=function(){n._emit("seek",e),h&&n.play(e,!0)};if(h&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,i=this._soundById(t);return i&&(e=this._sprite[i._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(i._canPlayEvent,e[n]._loadFn,!1),i._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=i._howls.indexOf(t);r>=0&&i._howls.splice(r,1);var s=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===t._src||t._src.indexOf(i._howls[n]._src)>=0){s=!1;break}return o&&s&&delete o[t._src],i.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,n){var r=this["_on"+t];return"function"==typeof e&&r.push(n?{id:i,fn:e,once:n}:{id:i,fn:e}),this},off:function(t,e,i){var n=this["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<n.length;r++){var s=i===n[r].id;if(e===n[r].fn&&s||!e&&s){n.splice(r,1);break}}else if(t)this["_on"+t]=[];else{var o=Object.keys(this);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[])}return this},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var n=this["_on"+t],r=n.length-1;r>=0;r--)n[r].id&&n[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(this,n[r].fn),0),n[r].once&&this.off(t,n[r].fn,n[r].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=i.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),i._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,i=0;if(!(this._sounds.length<t)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&e++;for(i=this._sounds.length-1;i>=0;i--){if(e<=t)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=i.ctx.createBufferSource(),t._node.bufferSource.buffer=o[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,i.ctx.currentTime),this},_cleanBuffer:function(t){var e=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=i._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=i._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(e,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*i.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var o={},a=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);l(n.buffer,t)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=t._xhrWithCredentials,s.responseType="arraybuffer",s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?l(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},u(s)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(o[e._src]=t,h(e,t)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(t).then(r).catch(n):i.ctx.decodeAudioData(t,r,n)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(t){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),e=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!r||i._navigator&&!i._navigator.standalone&&!r)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};e.Howler=i,e.Howl=n,"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=i,window.Howl=n,window.Sound=s):void 0!==r&&(r.HowlerGlobal=t,r.Howler=i,r.Howl=n,r.Sound=s)}(),
/*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
function(){var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,i){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof t?this._pos:(this._pos=[t,e,i],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,i,n,r,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return e="number"!=typeof e?o[1]:e,i="number"!=typeof i?o[2]:i,n="number"!=typeof n?o[3]:n,r="number"!=typeof r?o[4]:r,s="number"!=typeof s?o[5]:s,"number"!=typeof t?o:(this._orientation=[t,e,i,n,r,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,i,n,r,s),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,i)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var s=n._getSoundIds(i),o=0;o<s.length;o++){var a=n._soundById(s[o]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,r),"spatial"===r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,i,n,r)}}),s;if(i="number"!=typeof i?0:i,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof t)return s._pos;s._pos=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,i,n],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setPosition(t,i,n)),s._emit("pos",u._id)}}return s},Howl.prototype.orientation=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,i,n,r)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,n="number"!=typeof n?s._orientation[2]:n,void 0===r){if("number"!=typeof t)return s._orientation;s._orientation=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,i,n],u._node&&(u._panner||(u._pos||(u._pos=s._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setOrientation(t,i,n)),s._emit("orientation",u._id)}}return s},Howl.prototype.pannerAttr=function(){var t,i,n,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(n=r._soundById(parseInt(s[0],10)))?n._pannerAttr:r._pannerAttr;t=s[0],void 0===i&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===s.length&&(t=s[0],i=parseInt(s[1],10));for(var o=r._getSoundIds(i),a=0;a<o.length;a++)if(n=r._soundById(o[a])){var u=n._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var l=n._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(n._pos||(n._pos=r._pos||[0,0,-.5]),e(n,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()})),N=H.Howler,U=H.Howl;function G(t){return{identifier:0,changedTouches:[{clientX:t.clientX,clientY:t.clientY}]}}var V=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}},q=Object.prototype.toString;function X(t){return"[object Array]"===q.call(t)}function W(t){return void 0===t}function Y(t){return null!==t&&"object"==typeof t}function Q(t){return"[object Function]"===q.call(t)}function $(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),X(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var Z={isArray:X,isArrayBuffer:function(t){return"[object ArrayBuffer]"===q.call(t)},isBuffer:function(t){return null!==t&&!W(t)&&null!==t.constructor&&!W(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Y,isUndefined:W,isDate:function(t){return"[object Date]"===q.call(t)},isFile:function(t){return"[object File]"===q.call(t)},isBlob:function(t){return"[object Blob]"===q.call(t)},isFunction:Q,isStream:function(t){return Y(t)&&Q(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:$,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,r=arguments.length;n<r;n++)$(arguments[n],i);return e},deepMerge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]="object"==typeof i?t({},i):i}for(var n=0,r=arguments.length;n<r;n++)$(arguments[n],i);return e},extend:function(t,e,i){return $(e,(function(e,n){t[n]=i&&"function"==typeof e?V(e,i):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function J(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var K=function(t,e,i){if(!e)return t;var n;if(i)n=i(e);else if(Z.isURLSearchParams(e))n=e.toString();else{var r=[];Z.forEach(e,(function(t,e){null!=t&&(Z.isArray(t)?e+="[]":t=[t],Z.forEach(t,(function(t){Z.isDate(t)?t=t.toISOString():Z.isObject(t)&&(t=JSON.stringify(t)),r.push(J(e)+"="+J(t))})))})),n=r.join("&")}if(n){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function tt(){this.handlers=[]}tt.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},tt.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},tt.prototype.forEach=function(t){Z.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var et=tt,it=function(t,e,i){return Z.forEach(i,(function(i){t=i(t,e)})),t},nt=function(t){return!(!t||!t.__CANCEL__)},rt=function(t,e){Z.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))},st=function(t,e,i,n,r){return function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,i,n,r)},ot=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],at=Z.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var n=t;if(/(\b)(on\w+)=|javascript|(<\s*)(\/*)script/gi.test(t))throw new Error("URL contains XSS injection attempt");return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=Z.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0},ut=Z.isStandardBrowserEnv()?{write:function(t,e,i,n,r,s){var o=[];o.push(t+"="+encodeURIComponent(e)),Z.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),Z.isString(n)&&o.push("path="+n),Z.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},lt=function(t){return new Promise((function(e,i){var n=t.data,r=t.headers;Z.isFormData(n)&&delete r["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",a=t.auth.password||"";r.Authorization="Basic "+btoa(o+":"+a)}var u,l,h=(u=t.baseURL,l=t.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(u,l):l);if(s.open(t.method.toUpperCase(),K(h,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var n,r,o,a,u,l="getAllResponseHeaders"in s?(n=s.getAllResponseHeaders(),u={},n?(Z.forEach(n.split("\n"),(function(t){if(a=t.indexOf(":"),r=Z.trim(t.substr(0,a)).toLowerCase(),o=Z.trim(t.substr(a+1)),r){if(u[r]&&ot.indexOf(r)>=0)return;u[r]="set-cookie"===r?(u[r]?u[r]:[]).concat([o]):u[r]?u[r]+", "+o:o}})),u):u):null,h={data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:l,config:t,request:s};!function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(st("Request failed with status code "+i.status,i.config,null,i.request,i))}(e,i,h),s=null}},s.onabort=function(){s&&(i(st("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){i(st("Network Error",t,null,s)),s=null},s.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(st(e,t,"ECONNABORTED",s)),s=null},Z.isStandardBrowserEnv()){var c=ut,d=(t.withCredentials||at(h))&&t.xsrfCookieName?c.read(t.xsrfCookieName):void 0;d&&(r[t.xsrfHeaderName]=d)}if("setRequestHeader"in s&&Z.forEach(r,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:s.setRequestHeader(e,t)})),Z.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),t.responseType)try{s.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),i(t),s=null)})),void 0===n&&(n=null),s.send(n)}))},ht={"Content-Type":"application/x-www-form-urlencoded"};function ct(t,e){!Z.isUndefined(t)&&Z.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var dt,ft={adapter:("undefined"!=typeof XMLHttpRequest?dt=lt:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(dt=lt),dt),transformRequest:[function(t,e){return rt(e,"Accept"),rt(e,"Content-Type"),Z.isFormData(t)||Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)?t:Z.isArrayBufferView(t)?t.buffer:Z.isURLSearchParams(t)?(ct(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Z.isObject(t)?(ct(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};ft.headers={common:{Accept:"application/json, text/plain, */*"}},Z.forEach(["delete","get","head"],(function(t){ft.headers[t]={}})),Z.forEach(["post","put","patch"],(function(t){ft.headers[t]=Z.merge(ht)}));var _t=ft;function pt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var mt=function(t){return pt(t),t.headers=t.headers||{},t.data=it(t.data,t.headers,t.transformRequest),t.headers=Z.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Z.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||_t.adapter)(t).then((function(e){return pt(t),e.data=it(e.data,e.headers,t.transformResponse),e}),(function(e){return nt(e)||(pt(t),e&&e.response&&(e.response.data=it(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},vt=function(t,e){e=e||{};var i={},n=["url","method","params","data"],r=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Z.forEach(n,(function(t){void 0!==e[t]&&(i[t]=e[t])})),Z.forEach(r,(function(n){Z.isObject(e[n])?i[n]=Z.deepMerge(t[n],e[n]):void 0!==e[n]?i[n]=e[n]:Z.isObject(t[n])?i[n]=Z.deepMerge(t[n]):void 0!==t[n]&&(i[n]=t[n])})),Z.forEach(s,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])}));var o=n.concat(r).concat(s),a=Object.keys(e).filter((function(t){return-1===o.indexOf(t)}));return Z.forEach(a,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])})),i};function gt(t){this.defaults=t,this.interceptors={request:new et,response:new et}}gt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=vt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[mt,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)i=i.then(e.shift(),e.shift());return i},gt.prototype.getUri=function(t){return t=vt(this.defaults,t),K(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Z.forEach(["delete","get","head","options"],(function(t){gt.prototype[t]=function(e,i){return this.request(Z.merge(i||{},{method:t,url:e}))}})),Z.forEach(["post","put","patch"],(function(t){gt.prototype[t]=function(e,i,n){return this.request(Z.merge(n||{},{method:t,url:e,data:i}))}}));var yt=gt;function wt(t){this.message=t}wt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},wt.prototype.__CANCEL__=!0;var Tt=wt;function bt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new Tt(t),e(i.reason))}))}bt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},bt.source=function(){var t;return{token:new bt((function(e){t=e})),cancel:t}};var xt=bt;function kt(t){var e=new yt(t),i=V(yt.prototype.request,e);return Z.extend(i,yt.prototype,e),Z.extend(i,e),i}var At=kt(_t);At.Axios=yt,At.create=function(t){return kt(vt(At.defaults,t))},At.Cancel=Tt,At.CancelToken=xt,At.isCancel=nt,At.all=function(t){return Promise.all(t)},At.spread=function(t){return function(e){return t.apply(null,e)}};var St=At,Pt=At;St.default=Pt;var Dt=St,Ct="undefined"!=typeof window?window:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:{},Mt=function(t){var e={},i=t.document,n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(n.TweenLite)return n.TweenLite;var r,s,o,a,u,l=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},h=l("com.greensock"),c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),_={},p=function(t,i,r,s){this.sc=_[t]?_[t].sc:[],_[t]=this,this.gsClass=null,this.func=r;var o=[];this.check=function(a){for(var u,h,c,d,f=i.length,m=f;--f>-1;)(u=_[i[f]]||new p(i[f],[])).gsClass?(o[f]=u.gsClass,m--):a&&u.sc.push(this);if(0===m&&r)for(c=(h=("com.greensock."+t).split(".")).pop(),d=l(h.join("."))[c]=this.gsClass=r.apply(r,o),s&&(n[c]=e[c]=d),f=0;f<this.sc.length;f++)this.sc[f].check()},this.check(!0)},m=t._gsDefine=function(t,e,i,n){return new p(t,e,i,n)},v=h._class=function(t,e,i){return e=e||function(){},m(t,[],(function(){return e}),i),e};m.globals=n;var g=[0,0,1,1],y=v("easing.Ease",(function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?g.concat(e):g}),!0),w=y.map={},T=y.register=function(t,e,i,n){for(var r,s,o,a,u=e.split(","),l=u.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=u[l],r=n?v("easing."+s,null,!0):h.easing[s]||{},o=c.length;--o>-1;)a=c[o],w[s+"."+a]=w[a+s]=r[a]=t.getRatio?t:t[a]||new t};for((o=y.prototype)._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},s=(r=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--s>-1;)o=r[s]+",Power"+s,T(new y(null,null,1,s),o,"easeOut",!0),T(new y(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),T(new y(null,null,3,s),o,"easeInOut");w.linear=h.easing.Linear.easeIn,w.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",(function(t){this._listeners={},this._eventTarget=t||this}));(o=b.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var s,o,l=this._listeners[t],h=0;for(this!==a||u||a.wake(),null==l&&(this._listeners[t]=l=[]),o=l.length;--o>-1;)(s=l[o]).c===e&&s.s===i?l.splice(o,1):0===h&&s.pr<r&&(h=o+1);l.splice(h,0,{c:e,s:i,up:n,pr:r})},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var x=t.requestAnimationFrame,k=t.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},S=A();for(s=(r=["ms","moz","webkit","o"]).length;--s>-1&&!x;)x=t[r[s]+"RequestAnimationFrame"],k=t[r[s]+"CancelAnimationFrame"]||t[r[s]+"CancelRequestAnimationFrame"];v("Ticker",(function(t,e){var n,r,s,o,l,h=this,c=A(),f=!(!1===e||!x)&&"auto",_=500,p=33,m=function(t){var e,i,a=A()-S;a>_&&(c+=a-p),S+=a,h.time=(S-c)/1e3,e=h.time-l,(!n||e>0||!0===t)&&(h.frame++,l+=e+(e>=o?.004:o-e),i=!0),!0!==t&&(s=r(m)),i&&h.dispatchEvent("tick")};b.call(h),h.time=h.frame=0,h.tick=function(){m(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return _<1e8;_=t||1e8,p=Math.min(e,_,0)},h.sleep=function(){null!=s&&(f&&k?k(s):clearTimeout(s),r=d,s=null,h===a&&(u=!1))},h.wake=function(t){null!==s?h.sleep():t?c+=-S+(S=A()):h.frame>10&&(S=A()-_+5),r=0===n?d:f&&x?x:function(t){return setTimeout(t,1e3*(l-h.time)+1|0)},h===a&&(u=!0),m(2)},h.fps=function(t){if(!arguments.length)return n;o=1/((n=t)||60),l=this.time+o,h.wake()},h.useRAF=function(t){if(!arguments.length)return f;h.sleep(),f=t,h.fps(n)},h.fps(t),setTimeout((function(){"auto"===f&&h.frame<5&&"hidden"!==(i||{}).visibilityState&&h.useRAF(!1)}),1500)})),(o=h.Ticker.prototype=new h.events.EventDispatcher).constructor=h.Ticker;var P=v("core.Animation",(function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!!e.immediateRender,this.data=e.data,this._reversed=!!e.reversed,W){u||a.wake();var i=this.vars.useFrames?X:W;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));a=P.ticker=new h.Ticker,(o=P.prototype)._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var D=function(){u&&A()-S>2e3&&("hidden"!==(i||{}).visibilityState||!a.lagSmoothing())&&a.wake();var t=setTimeout(D,2e3);t.unref&&t.unref()};D(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-8},o._enabled=function(t,e){return u||a.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(u||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(E.length&&Q(),this.render(t,e,!1),E.length&&Q())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(u||t||a.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var C=v("core.SimpleTimeline",(function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0}));(o=C.prototype=new P).constructor=C,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},o.rawTime=function(){return u||a.wake(),this._totalTime};var M=v("TweenLite",(function(e,i,n){if(P.call(this,i,n),this.render=M.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:M.selector(e)||e;var r,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?q[M.defaultOverwrite]:"number"==typeof u?u>>0:q[u],(a||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=o=c(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(s=o[r])?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(c(s))):(this._siblings[r]=$(s,this,!1),1===u&&this._siblings[r].length>1&&J(s,this,null,1,this._siblings[r])):"string"==typeof(s=o[r--]=M.selector(s))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===u&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),R=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(o=M.prototype=new P).constructor=M,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,M.version="2.1.3",M.defaultEase=o._ease=new y(null,null,1,1),M.defaultOverwrite="auto",M.ticker=a,M.autoSleep=120,M.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},M.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(M.selector=n,n(e)):(i||(i=t.document),i?i.querySelectorAll?i.querySelectorAll(e):i.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var E=[],O={},I=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,L=/[\+-]=-?[\.\d]/,F=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},B=function(t){return(1e3*t|0)/1e3+""},z=function(t,e,i,n){var r,s,o,a,u,l,h,c=[],d=0,f="",_=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(I)||[],s=e.match(I)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),u=s.length,a=0;a<u;a++)h=s[a],f+=(l=e.substr(d,e.indexOf(h,d)-d))||!a?l:",",d+=l.length,_?_=(_+1)%5:"rgba("===l.substr(-5)&&(_=1),h===r[a]||r.length<=a?f+=h:(f&&(c.push(f),f=""),o=parseFloat(r[a]),c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-o)||0,f:0,m:_&&_<4?Math.round:B}),d+=h.length;return(f+=e.substr(d))&&c.push(f),c.setRatio=F,L.test(e)&&(c.end=null),c},j=function(t,e,i,n,r,s,o,a,u){"function"==typeof n&&(n=n(u||0,t));var l=typeof t[e],h="function"!==l?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==i?i:h?o?t[h](o):t[h]():t[e],d="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:c,f:"function"===l,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};if(("number"!=typeof c||"number"!=typeof n&&!d)&&(o||isNaN(c)||!d&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(f.fp=o,f={t:z(c,d?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,a||M.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(c),d||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},H=M._internals={isArray:f,isSelector:R,lazyTweens:E,blobDif:z},N=M._plugins={},U=H.tweenLookup={},G=0,V=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=P._rootFramesTimeline=new C,W=P._rootTimeline=new C,Y=30,Q=H.lazyRender=function(){var t,e,i=E.length;for(O={},t=0;t<i;t++)(e=E[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);E.length=0};W._startTime=a.time,X._startTime=a.frame,W._active=X._active=!0,setTimeout(Q,1),P._updateRoot=M.render=function(){var t,e,i;if(E.length&&Q(),W.render((a.time-W._startTime)*W._timeScale,!1,!1),X.render((a.frame-X._startTime)*X._timeScale,!1,!1),E.length&&Q(),a.frame>=Y){for(i in Y=a.frame+(parseInt(M.autoSleep,10)||120),U){for(t=(e=U[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[i]}if((!(i=W._first)||i._paused)&&M.autoSleep&&!X._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",P._updateRoot);var $=function(t,e,i){var n,r,s=t._gsTweenID;if(U[s||(t._gsTweenID=s="t"+G++)]||(U[s]={target:t,tweens:[]}),e&&((n=U[s].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return U[s].tweens},Z=function(t,e,i,n){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),(o=M.onOverwrite)&&(s=o(t,e,i,n)),!1!==r&&!1!==s},J=function(t,e,i,n,r){var s,o,a,u;if(1===n||n>=4){for(u=r.length,s=0;s<u;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var l,h=e._startTime+1e-8,c=[],d=0,f=0===e._duration;for(s=r.length;--s>-1;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||K(e,0,f),0===K(a,l,f)&&(c[d++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((f||!a._initted)&&h-a._startTime<=2e-8||(c[d++]=a)));for(s=d;--s>-1;)if(u=(a=c[s])._firstPT,2===n&&a._kill(i,t,e)&&(o=!0),2!==n||!a._firstPT&&a._initted&&u){if(2!==n&&!Z(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},K=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(s/=r)>e?s-e:i&&s===e||!t._initted&&s-e<2e-8?1e-8:(s+=t.totalDuration()/t._timeScale/r)>e+1e-8?0:s-e-1e-8};o._init=function(){var t,e,i,n,r,s,o=this.vars,a=this._overwrittenProps,u=this._duration,l=!!o.immediateRender,h=o.ease,c=this._startAt;if(o.startAt){for(n in c&&(c.render(-1,!0),c.kill()),r={},o.startAt)r[n]=o.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=M.to(this.target||{},0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(o.runBackwards&&0!==u)if(c)c.render(-1,!0),c.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},o)V[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==o.lazy,i.immediateRender=l,this._startAt=M.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,o.easeParams):w[h]||M.defaultEase:M.defaultEase,o.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&M._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,i,n,r,s){var o,a,u,l,h,c;if(null==e)return!1;for(o in O[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&N.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)V[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!N[i]||N[i]&&N[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,e),this.vars)if(c=this.vars[o],V[o])c&&(c instanceof Array||c.push&&f(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(N[o]&&(l=new N[o])._onInitTween(e,this.vars[o],this,s)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[o]=j.call(this,e,o,"get",c,o,0,null,this.vars.stringFilter,s);return r&&this._kill(r,e)?this._initProps(e,i,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&J(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(O[e._gsTweenID]=!0),u)},o.render=function(t,e,i){var n,r,s,o,a=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-8&&t>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-8||1e-8===l&&"isPause"!==this.data)&&l!==t&&(i=!0,l>1e-8&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||l===t?t:1e-8);else if(t<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===u&&l>0)&&(r="onReverseComplete",n=this._reversed),t>-1e-8?t=0:t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(1e-8!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||l===t?t:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/u,c=this._easeType,d=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===d?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:t/u<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,E.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===u&&1e-8===this._rawPrevTime&&1e-8!==o&&(this._rawPrevTime=0)))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:M.selector(e)||e;var n,r,s,o,a,u,l,h,c,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,_=this._firstPT;if((f(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(M.onOverwrite||this.vars.onOverwrite)){for(s in l)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!Z(this,i,e,c))return!1}for(s in l)(o=a[s])&&(d&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,u=!0),o.pg&&o.t._kill(l)&&(u=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&_&&this._enabled(!1,!1)}}return u},o.invalidate=function(){this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(t,!1,!1!==this.vars.lazy)),this},o._enabled=function(t,e){if(u||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=$(n[i],this,!0);else this._siblings=$(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(t?"_onEnable":"_onDisable",this)},M.to=function(t,e,i){return new M(t,e,i)},M.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(t,e,i)},M.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new M(t,e,n)},M.delayedCall=function(t,e,i,n,r){return new M(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},M.set=function(t,e){return new M(t,0,e)},M.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,s;if(t="string"!=typeof t?t:M.selector(t)||t,(f(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(M.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=$(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},M.killTweensOf=M.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=M.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var tt=v("plugins.TweenPlugin",(function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=tt.prototype}),!0);if(o=tt.prototype,tt.version="1.19.0",tt.API=2,o._firstPT=null,o._addTween=j,o.setRatio=F,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},M._onPluginEvent=function(t,e){var i,n,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},tt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===tt.API&&(N[(new t[e])._propName]=t[e]);return!0},m.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){tt.call(this,i,n),this._overwriteProps=r||[]}),!0===t.global),a=o.prototype=new tt(i);for(e in a.constructor=o,o.API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,tt.activate([o]),o},r=t._gsQueue){for(s=0;s<r.length;s++)r[s]();for(o in _)_[o].func||t.console.log("GSAP encountered missing dependency: "+o)}return u=!1,M}(Ct),Rt=Ct.GreenSockGlobals,Et=Rt.com.greensock,Ot=Et.core.SimpleTimeline,It=Et.core.Animation,Lt=Rt.Ease,Ft=Rt.Linear;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   *
   * @author: Jack Doyle, jack@greensock.com
   */Rt.Power1,Rt.Power2,Rt.Power3,Rt.Power4,Rt.TweenPlugin,Et.events.EventDispatcher;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */
Ct._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var t=function(t){Ot.call(this,t);var e,i,n=this.vars;for(i in this._labels={},this.autoRemoveChildren=!!n.autoRemoveChildren,this.smoothChildTiming=!!n.smoothChildTiming,this._sortChildren=!0,this._onUpdate=n.onUpdate,n)e=n[i],r(e)&&-1!==e.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(e));r(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},e=Mt._internals,i=t._internals={},n=e.isSelector,r=e.isArray,s=e.lazyTweens,o=e.lazyRender,a=Ct._gsDefine.globals,u=function(t){var e,i={};for(e in t)i[e]=t[e];return i},l=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i],e):r[i%r.length];delete t.cycle},h=i.pauseCallback=function(){},c=function(t,e,i,n){var r="immediateRender";return r in e||(e[r]=!(i&&!1===i[r]||n)),e},d=function(t){if("function"==typeof t)return t;var e="object"==typeof t?t:{each:t},i=e.ease,n=e.from||0,r=e.base||0,s={},o=isNaN(n),a=e.axis,u={center:.5,end:1}[n]||0;return function(t,l,h){var c,d,f,_,p,m,v,g,y,w=(h||e).length,T=s[w];if(!T){if(!(y="auto"===e.grid?0:(e.grid||[1/0])[0])){for(v=-1/0;v<(v=h[y++].getBoundingClientRect().left)&&y<w;);y--}for(T=s[w]=[],c=o?Math.min(y,w)*u-.5:n%y,d=o?w*u/y-.5:n/y|0,v=0,g=1/0,m=0;m<w;m++)f=m%y-c,_=d-(m/y|0),T[m]=p=a?Math.abs("y"===a?_:f):Math.sqrt(f*f+_*_),p>v&&(v=p),p<g&&(g=p);T.max=v-g,T.min=g,T.v=w=e.amount||e.each*(y>w?w-1:a?"y"===a?w/y:y:Math.max(y,w/y))||0,T.b=w<0?r-w:r}return w=(T[t]-T.min)/T.max,T.b+(i?i.getRatio(w):w)*T.v}},f=t.prototype=new Ot;return t.version="2.1.3",t.distribute=d,f.constructor=t,f.kill()._gc=f._forcingPlayhead=f._hasPause=!1,f.to=function(t,e,i,n){var r=i.repeat&&a.TweenMax||Mt;return e?this.add(new r(t,e,i),n):this.set(t,i,n)},f.from=function(t,e,i,n){return this.add((i.repeat&&a.TweenMax||Mt).from(t,e,c(0,i)),n)},f.fromTo=function(t,e,i,n,r){var s=n.repeat&&a.TweenMax||Mt;return n=c(0,n,i),e?this.add(s.fromTo(t,e,i,n),r):this.set(t,n,r)},f.staggerTo=function(e,i,r,s,o,a,h,c){var f,_,p=new t({onComplete:a,onCompleteParams:h,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),m=d(r.stagger||s),v=r.startAt,g=r.cycle;for("string"==typeof e&&(e=Mt.selector(e)||e),n(e=e||[])&&(e=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i}(e)),_=0;_<e.length;_++)f=u(r),v&&(f.startAt=u(v),v.cycle&&l(f.startAt,e,_)),g&&(l(f,e,_),null!=f.duration&&(i=f.duration,delete f.duration)),p.to(e[_],i,f,m(_,e[_],e));return this.add(p,o)},f.staggerFrom=function(t,e,i,n,r,s,o,a){return i.runBackwards=!0,this.staggerTo(t,e,c(0,i),n,r,s,o,a)},f.staggerFromTo=function(t,e,i,n,r,s,o,a,u){return n.startAt=i,this.staggerTo(t,e,c(0,n,i),r,s,o,a,u)},f.call=function(t,e,i,n){return this.add(Mt.delayedCall(0,t,e,i),n)},f.set=function(t,e,i){return this.add(new Mt(t,0,c(0,e,null,!0)),i)},t.exportRoot=function(e,i){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var n,r,s,o,a=new t(e),u=a._timeline;for(null==i&&(i=!0),u._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=u._time,s=u._first;s;)o=s._next,i&&s instanceof Mt&&s.target===s.vars.onComplete||((r=s._startTime-s._delay)<0&&(n=1),a.add(s,r)),s=o;return u.add(a,0),n&&a.totalDuration(),a},f.add=function(e,i,n,s){var o,a,u,l,h,c;if("number"!=typeof i&&(i=this._parseTimeOrLabel(i,0,!0,e)),!(e instanceof It)){if(e instanceof Array||e&&e.push&&r(e)){for(n=n||"normal",s=s||0,o=i,a=e.length,u=0;u<a;u++)r(l=e[u])&&(l=new t({tweens:l})),this.add(l,o),"string"!=typeof l&&"function"!=typeof l&&("sequence"===n?o=l._startTime+l.totalDuration()/l._timeScale:"start"===n&&(l._startTime-=l.delay())),o+=s;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,i);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=Mt.delayedCall(0,e)}if(Ot.prototype.add.call(this,e,i),(e._time||!e._duration&&e._initted)&&(o=(this.rawTime()-e._startTime)*e._timeScale,(!e._duration||Math.abs(Math.max(0,Math.min(e.totalDuration(),o)))-e._totalTime>1e-5)&&e.render(o,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(c=(h=this).rawTime()>e._startTime;h._timeline;)c&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},f.remove=function(t){if(t instanceof It){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?It._rootFramesTimeline:It._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&r(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},f._remove=function(t,e){return Ot.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},f.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},f.insert=f.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},f.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},f.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},f.addPause=function(t,e,i,n){var r=Mt.delayedCall(0,h,i,n||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},f.removeLabel=function(t){return delete this._labels[t],this},f.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},f._parseTimeOrLabel=function(t,e,i,n){var s,o;if(n instanceof It&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&r(n)))for(o=n.length;--o>-1;)n[o]instanceof It&&n[o].timeline===this&&this.remove(n[o]);if(s="number"!=typeof t||e?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-s:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=s);else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=s+e:e:this._labels[t]+e;e=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,i):s}return Number(t)+e},f.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},f.stop=function(){return this.paused(!0)},f.gotoAndPlay=function(t,e){return this.play(t,e)},f.gotoAndStop=function(t,e){return this.pause(t,e)},f.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,a,u,l,h,c,d,f=this._time,_=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,m=this._timeScale,v=this._paused;if(f!==this._time&&(t+=this._time-f),this._hasPause&&!this._forcingPlayhead&&!e){if(t>f)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=this._totalTime=t=h._startTime,d=this._startTime+(this._reversed?this._duration-t:t)/this._timeScale)}if(t>=_-1e-8&&t>=0)this._totalTime=this._time=_,this._reversed||this._hasPausedChild()||(r=!0,u="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>1e-8&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,t=_+1e-4;else if(t<1e-8)if(this._totalTime=this._time=0,t>-1e-8&&(t=0),(0!==f||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(u="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,u="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==f&&this._first||i||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(c=this._time)>=f)for(n=this._first;n&&(a=n._next,c===this._time&&(!this._paused||v));)(n._active||n._startTime<=c&&!n._paused&&!n._gc)&&(h===n&&(this.pause(),this._pauseTime=d),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,c===this._time&&(!this._paused||v));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause(),this._pauseTime=d}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(s.length&&o(),this._callback("onUpdate"))),u&&(this._gc||p!==this._startTime&&m===this._timeScale||(0===this._time||_>=this.totalDuration())&&(r&&(s.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))}},f._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof t&&e._hasPausedChild())return!0;e=e._next}return!1},f.getChildren=function(t,e,i,n){n=n||-9999999999;for(var r=[],s=this._first,o=0;s;)s._startTime<n||(s instanceof Mt?!1!==e&&(r[o++]=s):(!1!==i&&(r[o++]=s),!1!==t&&(o=(r=r.concat(s.getChildren(!0,e,i))).length))),s=s._next;return r},f.getTweensOf=function(t,e){var i,n,r=this._gc,s=[],o=0;for(r&&this._enabled(!0,!0),n=(i=Mt.getTweensOf(t)).length;--n>-1;)(i[n].timeline===this||e&&this._contains(i[n]))&&(s[o++]=i[n]);return r&&this._enabled(!1,!0),s},f.recent=function(){return this._recent},f._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},f.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},f._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},f.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},f.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return It.prototype.invalidate.call(this)},f._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return Ot.prototype._enabled.call(this,t,e)},f.totalTime=function(t,e,i){this._forcingPlayhead=!0;var n=It.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},f.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},f.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this,s=r._last,o=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&r._sortChildren&&!s._paused&&!r._calculatingDuration?(r._calculatingDuration=1,r.add(s,s._startTime-s._delay),r._calculatingDuration=0):o=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,r._timeline.smoothChildTiming&&(r._startTime+=s._startTime/r._timeScale,r._time-=s._startTime,r._totalTime-=s._startTime,r._rawPrevTime-=s._startTime),r.shiftChildren(-s._startTime,!1,-9999999999),o=0),(i=s._startTime+s._totalDuration/s._timeScale)>n&&(n=i),s=e;r._duration=r._totalDuration=n,r._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},f.paused=function(t){if(!1===t&&this._paused)for(var e=this._first;e;)e._startTime===this._time&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return It.prototype.paused.apply(this,arguments)},f.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===It._rootFramesTimeline},f.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},t}),!0);var Bt=Rt.TimelineLite;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */Ct._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var t=function(t){Bt.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},e=Mt._internals,i=e.lazyTweens,n=e.lazyRender,r=Ct._gsDefine.globals,s=new Lt(null,null,1,0),o=t.prototype=new Bt;return o.constructor=t,o.kill()._gc=!1,t.version="2.1.3",o.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),Bt.prototype.invalidate.call(this)},o.addCallback=function(t,e,i,n){return this.add(Mt.delayedCall(0,t,i,n),e)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},o.removePause=function(t){return this.removeCallback(Bt._internals.pauseCallback,t)},o.tweenTo=function(t,e){e=e||{};var i,n,o,a={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},u=e.repeat&&r.TweenMax||Mt;for(n in e)a[n]=e[n];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new u(this,i,a),a.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||i!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||o,e.onStartParams||[])},o},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var s,o,a,u,l,h,c,d,f,_=this._time,p=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,v=this._totalTime,g=this._startTime,y=this._timeScale,w=this._rawPrevTime,T=this._paused,b=this._cycle;if(_!==this._time&&(t+=this._time-_),t>=p-1e-8&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,u="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||w<0||1e-8===w)&&w!==t&&this._first&&(l=!0,w>1e-8&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,this._yoyo&&1&this._cycle?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,t>-1e-8&&(t=0),(0!==_||0===m&&1e-8!==w&&(w>0||t<0&&w>=0)&&!this._locked)&&(u="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,u="onReverseComplete"):w>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&o)for(s=this._first;s&&0===s._startTime;)s._duration||(o=!1),s=s._next;t=0,this._initted||(l=!0)}else 0===m&&w<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,this._cycle&&this._cycle===this._totalTime/h&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&1&this._cycle&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time));if(this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>_||this._repeat&&b!==this._cycle)for(s=this._first;s&&s._startTime<=t&&!c;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(c=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!c;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(c=s),s=s._prev;c&&(f=this._startTime+(this._reversed?this._duration-c._startTime:c._startTime)/this._timeScale,c._startTime<m&&(this._time=this._rawPrevTime=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==b&&!this._locked){var x=this._yoyo&&0!=(1&b),k=x===(this._yoyo&&0!=(1&this._cycle)),A=this._totalTime,S=this._cycle,P=this._rawPrevTime,D=this._time;if(this._totalTime=b*m,this._cycle<b?x=!x:this._totalTime+=m,this._time=_,this._rawPrevTime=0===m?w-1e-4:w,this._cycle=b,this._locked=!0,_=x?0:m,this.render(_,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=S,this._locked=!1,this._callback("onRepeat")),_!==this._time)return;if(k&&(this._cycle=b,this._locked=!0,_=x?m+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!T)return;this._time=D,this._totalTime=A,this._cycle=S,this._rawPrevTime=P}if(this._time!==_&&this._first||r||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=_)for(s=this._first;s&&(a=s._next,d===this._time&&(!this._paused||T));)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(c===s&&(this.pause(),this._pauseTime=f),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,r):s.render((t-s._startTime)*s._timeScale,e,r)),s=a;else for(s=this._last;s&&(a=s._prev,d===this._time&&(!this._paused||T));){if(s._active||s._startTime<=_&&!s._paused&&!s._gc){if(c===s){for(c=s._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,r),c=c._prev;c=null,this.pause(),this._pauseTime=f}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,r):s.render((t-s._startTime)*s._timeScale,e,r)}s=a}this._onUpdate&&(e||(i.length&&n(),this._callback("onUpdate"))),u&&(this._locked||this._gc||g!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(i.length&&n(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))}else v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.getActive=function(t,e,i){var n,r,s=[],o=this.getChildren(t||null==t,e||null==t,!!i),a=0,u=o.length;for(n=0;n<u;n++)(r=o[n]).isActive()&&(s[a++]=r);return s},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort((function(t,e){return t.time-e.time})),e},o.invalidate=function(){return this._locked=!1,Bt.prototype.invalidate.call(this)},o.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},o.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(Bt.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,n=this._cycle,r=n*(i+this._repeatDelay);return t>i&&(t=i),this.totalTime(this._yoyo&&1&n?i-t+r:this._repeat?t+r:t,e)},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},t}),!0);var zt,jt,Ht=Rt.TimelineMax,Nt=(s((function(t,e){var i;t.exports=((i=function(){var t=0,e=document.createElement("div");function n(t){return e.appendChild(t.dom),t}function r(i){for(var n=0;n<e.children.length;n++)e.children[n].style.display=n===i?"block":"none";t=i}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",(function(i){i.preventDefault(),r(++t%e.children.length)}),!1);var s=(performance||Date).now(),o=s,a=0,u=n(new i.Panel("FPS","#0ff","#002")),l=n(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=n(new i.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){s=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(l.update(t-s,200),o+1e3<=t&&(u.update(1e3*a/(t-o),100),o=t,a=0,h)){var e=performance.memory;h.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){s=this.end()},domElement:e,setMode:r}}).Panel=function(t,e,i){var n=1/0,r=0,s=Math.round,o=s(window.devicePixelRatio||1),a=80*o,u=48*o,l=3*o,h=2*o,c=3*o,d=15*o,f=74*o,_=30*o,p=document.createElement("canvas");p.width=a,p.height=u,p.style.cssText="width:80px;height:48px";var m=p.getContext("2d");return m.font="bold "+9*o+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=i,m.fillRect(0,0,a,u),m.fillStyle=e,m.fillText(t,l,h),m.fillRect(c,d,f,_),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(c,d,f,_),{dom:p,update:function(u,v){n=Math.min(n,u),r=Math.max(r,u),m.fillStyle=i,m.globalAlpha=1,m.fillRect(0,0,a,d),m.fillStyle=e,m.fillText(s(u)+" "+t+" ("+s(n)+"-"+s(r)+")",l,h),m.drawImage(p,c+o,d,f-o,_,c,d,f-o,_),m.fillRect(c+f-o,d,o,_),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(c+f-o,d,o,s((1-u/v)*_))}}},i)})),{});Nt.Canvas=function t(e,i){if(t.main||document.body.appendChild(t.main=document.createElement("canvas")),"main"==e)return t.main;var n=document.createElement("canvas");return e>0&&(n.width=e),i>0&&(n.height=i),n},Nt.System=function t(){return t.pixel=window.devicePixelRatio||2,t.width=document.body.clientWidth,t.height=document.body.clientHeight,t.ratio=t.width/t.height,t}(),Nt.Req=Dt,Nt.Vector=p,Nt.Vector2=m,Nt.Vector3=v,Nt.Matrix4=g,Nt.Random=k,Nt.Time=x,Nt.Clock=M,Nt.Event=S,Nt.Container=I,Nt.Sprite=function(t){function i(){return e(this,i),u(this,l(i).apply(this,arguments))}return f(i,t),n(i,[{key:"setTexture",value:function(t){return c(l(i.prototype),"setTexture",this).call(this,"string"==typeof t?Nt.Image.get(t):t)}}]),i}(L),Nt.Text=(jt=zt=function(t){function i(){return e(this,i),u(this,l(i).apply(this,arguments))}return f(i,t),n(i,[{key:"defaultFont",value:function(t){return Object.assign({},i.defaultFont,t)}},{key:"getElement",value:function(t,e,i,n){return n?e?new B(e,i):new Nt.Sprite(t,i):(t&&Nt.Font.update(this.precision||i.size+"px "+i.family+(i.weight?" bold":"")),Nt.Font.get(e,i.size))}},{key:"allFontSplit",get:function(){return!1}},{key:"precision",get:function(){return 0}}]),i}(z),t(zt,"defaultFont",{family:"微软雅黑",size:36,weight:""}),jt),Mt.defaultEase=Ft.easeNone,Nt.TWEEN=Ht,Nt.Image=new(function(t,i){return function(t){function r(){return e(this,r),u(this,l(r).apply(this,arguments))}return f(r,t),n(r,[{key:"Set",value:function(t){return c(l(r.prototype),"Set",this).call(this,t).then((function(t){var e=new i(t);return e.getTexture(0,0,e.width,e.height)}))}},{key:"SetClip",value:function(t,e,i,n,r,s){if(!this.resources[t])return this;var o=this.resources[t].baseTexture;return this.resources[t+"//"+e]=o.getTexture(i,n,r,s),this}}]),r}(t)}(function(t){return function(t){function i(){return e(this,i),u(this,l(i).apply(this,arguments))}return f(i,t),n(i,[{key:"Set",value:function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=function(t){i(t)},n.key=n.src=t}))}},{key:"get",value:function(t){return this.resources[t]||i.Error||(i.Error=new Image)}}]),i}(t)}(C),O)),Nt.Render=new R({canvas:Nt.Canvas("main")}),Nt.Font={test:Nt.Canvas().getContext("2d"),update:function(t){this.test.font=t},get:function(t,e){var i=this.test.measureText(t);return i.size=e,i}},Nt.Audio=new(function(i){return function(i){function r(){var i,n;e(this,r);for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return n=u(this,(i=l(r)).call.apply(i,[this].concat(o))),t(a(n),"_mute",!1),n}return f(r,i),n(r,[{key:"get",value:function(t){return this.resources[t]||r.Error||(r.Error=new U({}))}},{key:"Set",value:function(t){return new Promise((function(e,i){var n=new U({src:t,loop:!1,autoplay:!1});n.once("load",(function(){n.key=t,e(n)}))}))}},{key:"mute",get:function(){return this._mute},set:function(t){this._mute=t,N.mute(t)}},{key:"volume",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;N.volume(t)},get:function(){return N.volume()}}]),r}(i)}(C)),Nt.Collision=new A,Nt.Touch=new D,(!("ontouchstart"in window)?function(t){var e=!1;window.document.body.addEventListener("mousedown",(function(i){return e=!0,t.start(G(i))}),{passive:!0}),window.document.body.addEventListener("mousemove",(function(i){return e&&t.move(G(i))}),{passive:!0}),window.document.body.addEventListener("mouseup",(function(i){return e&&(e=!1,t.end(G(i)))}),{passive:!0}),window.document.body.addEventListener("mouseout",(function(i){return e&&(e=!1,t.end(G(i)))}),{passive:!0})}:function(t){window.document.body.addEventListener("touchstart",(function(e){return t.start(e)}),{passive:!0}),window.document.body.addEventListener("touchmove",(function(e){return t.move(e)}),{passive:!0}),window.document.body.addEventListener("touchend",(function(e){return t.end(e)}),{passive:!0}),window.document.body.addEventListener("touchcancel",(function(e){return t.end(e)}),{passive:!0})})(Nt.Touch),Nt.Touch.on("touchEnd",(function(t){t.long>200||t.distance>12||Nt.Collision.Recursive(Nt.Director,Nt.Director.getWorldVector(t,!0))})),Nt.SetSize=function(t,e){var i,n,r,s,o,a,u,l,h=(i=Nt.Render.canvas,n=Nt.System.width,r=Nt.System.height,s=n,o=0,a=r,u=0,(l=n/r)<.4?(u=(r-(a=n/750*1334))/2,l=750/1334):l>.8&&(o=(n-(s=r/1334*750))/2,l=750/1334),i.style.position="absolute",i.style.top=u+"px",i.style.left=o+"px",i.style.width=s+"px",i.style.height=a+"px",{x:o,y:u,width:s,height:a,ratio:l});e=e||t/h.ratio,Nt.Render.canvas.width=t,Nt.Render.canvas.height=e,Nt.Director.size.set(t,e),Nt.Touch.size.set(t/h.width,e/h.height),Nt.Touch.offset.set(h.x+h.width/2,h.y+h.height/2),Nt.Director.look((new Nt.Matrix4).translate(t/2,e/2))},Nt.Director=new j,Nt.Render.Clock=(new Nt.Clock).on("tick",(function(){return Nt.Director.preUpdate(Nt.Render),Nt.Render.update()})),Nt.Render.Clock.run(1e3/60),document.body.style.background="green";var Ut=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";e(this,i),t(this,"Name","default_default"),t(this,"Data",null),this.Name=n+"_"+r}return n(i,[{key:"Get",value:function(t){return void 0===t?this.Data:this.Data?this.Data[t]:void 0}},{key:"Set",value:function(t,e){return this.Data&&(this.Data[t]=e),this}},{key:"Add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.Data[t]+=e,this}},{key:"GetString",value:function(){return JSON.stringify(this.Data)}},{key:"SetString",value:function(t){try{this.Data=JSON.parse(t)}catch(t){this.Data=null}return this}},{key:"Execute",value:function(t){var e=t(this.Data,this);return e&&(this.Data=e),this}},{key:"SetStorage",value:function(){var t,e,i,n=this;return(t={key:this.Name,data:this.GetString()},e=t.key,i=t.data,window.localStorage.setItem(e,i),Promise.resolve()).then((function(){return n.Data}))}},{key:"GetStorage",value:function(t){var e,i=this;return(e=this.Name,Promise.resolve({data:window.localStorage.getItem(e)})).catch((function(t){return t})).then((function(e){return i.SetString(e.data,t)}))}},{key:"DelStorage",value:function(){var t,e=this;return(t=this.Name,window.localStorage.removeItem(t),Promise.resolve()).then((function(){return e.SetString()}))}}]),i}(),Gt=function(i){function r(i){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2?arguments[2]:void 0;if(e(this,r),n=u(this,l(r).call(this,i,s)),t(a(n),"Data",[]),o){var h=o instanceof Ut?o.Data:o;h&&n.Merge(h)}return n}return f(r,i),n(r,[{key:"Merge",value:function(t){return this.Data=this.Data.concat(t),this}},{key:"MergeTo",value:function(t){return t.concat(this.Data)}},{key:"SetString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.Data;return c(l(r.prototype),"SetString",this).call(this,t),!this.Data instanceof Array&&(this.Data=[]),e&&(this.Data=i.concat(this.Data)),this}},{key:"Insert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return-1==e?this.Data.push(t):0==e?this.Data.unshift(t):this.Data.splice(e,0,t),this}},{key:"length",get:function(){return this.Data.length}},{key:"keys",get:function(){return Object.keys(this.Data)}}]),r}(Ut),Vt=function(i){function r(i){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2?arguments[2]:void 0;if(e(this,r),n=u(this,l(r).call(this,i,s)),t(a(n),"Data",{}),o){var h=o instanceof Ut?o.Data:o;h&&n.Merge(h)}return n}return f(r,i),n(r,[{key:"MergeTo",value:function(t){return Object.assign(t,this.Data)}},{key:"Merge",value:function(t){return this.Data=Object.assign(this.Data||{},t||{}),this}},{key:"SetString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.Data;return c(l(r.prototype),"SetString",this).call(this,t),"object"!=o(this.Data)&&(this.Data={}),e&&(this.Data=Object.assign(i,this.Data)),this}}]),r}(Ut),qt=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";e(this,i),t(this,"Name","default"),t(this,"Data",{}),this.Name=n}return n(i,[{key:"Map",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]instanceof Vt?this.Data[t]:(this.Data[t]=new Vt(this.Name,t,this.Data[t]),this.Data[t])}},{key:"Arr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]instanceof Gt?this.Data[t]:(this.Data[t]=new Gt(this.Name,t,this.Data[t]),this.Data[t])}},{key:"Table",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]||(this.Data[t]=new Ut(this.Name,t)),this.Data[t]}},{key:"MergeMap",value:function(t,e){return this.Map(t).Merge(e)}},{key:"MergeArr",value:function(t,e){return this.Arr(t).Merge(e)}},{key:"GetString",value:function(){for(var t=arguments.length?arguments:Object.keys(this.Data),e={},i=0;i<t.length;i++)e[t[i]]=this.Data[t[i]].GetString();return JSON.stringify(e)}},{key:"SetString",value:function(t){var e=this;try{t=JSON.parse(t)}catch(t){return this}return Object.keys(t).forEach((function(i){e.Data[i]=e.Table(i).SetString(t[i])})),this}}]),i}(),Xt=function(i){function n(){var i;return e(this,n),i=u(this,l(n).call(this,"load/bar")),t(a(i),"Progress",0),i}return f(n,i),n}(Nt.Sprite),Wt=function(i){function n(i){var r,s;return e(this,n),(r=s=u(this,l(n).call(this)),t(a(s),"Bar",(new Xt).setPosition(Nt.Director.width/2,Nt.Director.height-300)),t(a(s),"Desc",new Nt.Text({color:"#A398C0"}).setPosition(Nt.Director.width/2,Nt.Director.height-256)),r).add(new Nt.Sprite("load/cloud"),s.Bar,s.Desc),s.on("loading",(function(t){s.Bar.Progress=t.progress})),i.extend(a(s)),s}return f(n,i),n}(Nt.Container),Yt=function(i){function r(){var i;e(this,r),i=u(this,l(r).call(this)),t(a(i),"Background",new Nt.Sprite("play/bg").setSize(Nt.Director.width,Nt.Director.height)),t(a(i),"Play",new Nt.Sprite("play/Common//button").setSize(200,100).setPosition(-200,-100)),t(a(i),"Rank",new Nt.Sprite("play/Common//button").setSize(200,100).setPosition(200,-100)),t(a(i),"Share",new Nt.Sprite("play/Common//button").setSize(200,100).setPosition(-200,100)),t(a(i),"Audio",new Nt.Sprite("play/Common//button").setSize(200,100).setPosition(200,100)),i.Play.name="Play",i.Rank.name="Rank",i.Share.name="Share",i.Audio.name="Audio",i.Background.name="Background",new Nt.Text({font:{size:30,fillStyle:"#ff0000"},icons:{s:Nt.Image.get("load/shadow")},value:"开始<fillStyle=#FFFFFF>游戏<fillStyle=@><i=s>\n富文<size=26>本<i=s>测<fillStyle=#E0A0FF>试"}).put(i.Play),i.Play.touchTap=function(){Nt.Director.Go("Play")},new Nt.Text({font:{size:36,fillStyle:"#00ff00"},value:"排行榜"}).put(i.Rank),i.Rank.touchTap=function(){},new Nt.Text({font:{size:36,fillStyle:"#ff00ff"},value:"分享"}).put(i.Share),i.Share.touchTap=function(){};var n=new Nt.Text({font:{size:26}});return n.setValue(Nt.Audio.mute?"声音:关":"声音:开").put(i.Audio),i.Audio.touchTap=function(){return Nt.Audio.mute=!Nt.Audio.mute,n.setValue(Nt.Audio.mute?"声音:关":"声音:开"),"refresh"},i.add(i.Background,i.Play,i.Rank,i.Share,i.Audio),i}return f(r,i),n(r,[{key:"create",value:function(){Nt.Audio.get("home").play()}},{key:"destroy",value:function(){Nt.Audio.get("home").stop()}}]),r}(Nt.Container),Qt=function(i){function r(){var i,n;e(this,r);for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return n=u(this,(i=l(r)).call.apply(i,[this].concat(o))),t(a(n),"Animation",new Nt.TWEEN({paused:!0}).to(a(n),3,{y:Nt.Director.height}).set(a(n),{visible:!1})),n}return f(r,i),n(r,[{key:"Reset",value:function(){return this.x=Nt.Random(375,-375),this.y=-Nt.Director.height/2,this.Animation.play(0),this.visible=!0,this}},{key:"destory",value:function(){this.Animation.kill()}}]),r}(Nt.Sprite),$t=function(i){function r(){var i,n;e(this,r);for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return n=u(this,(i=l(r)).call.apply(i,[this].concat(o))),t(a(n),"_Slow",!0),t(a(n),"Total",1),n}return f(r,i),n(r,[{key:"Collision",value:function(t){for(var e=0,i=0;i<this.children.length;i++){var n=this.children[i];if(n.visible&&(e++,n.position.y>=Nt.Director.height&&n.Reset(),Nt.Collision.InComponent(n,t)))return Nt.Director.Go("Home")}e<this.Total&&this.Send()}},{key:"Send",value:function(){var t=this.children.find((function(t){return!t.visible}));t||this.add(t=new Qt("play/enemy")),t.Animation.timeScale(this.Slow?.1:1),t.Reset()}},{key:"Slow",set:function(t){t?this.children.forEach((function(t){return t.Animation.timeScale(.1)})):this.children.forEach((function(t){return t.Animation.timeScale(1)})),this._Slow=t},get:function(){return this._Slow}}]),r}(Nt.Container),Zt=function(t){function i(){return e(this,i),u(this,l(i).apply(this,arguments))}return f(i,t),n(i,[{key:"preUpdate",value:function(t){return this.y-=this.parent.Slow?1:10,this.y<-Nt.Director.height/2&&(this.visible=!1),c(l(i.prototype),"preUpdate",this).call(this,t)}},{key:"Collision",value:function(t,e){if(this.visible)for(var i=this.getWorldVector(),n=0;n<t.length;n++)if(t[n].visible&&Nt.Collision.InComponent(t[n],i))return t[n].visible=!1,this.visible=!1,Nt.Audio.get("boom").play(),Nt.Director.CurrentScene.emit("Boom",i.clone())}}]),i}(Nt.Sprite),Jt=function(i){function r(){var i,n;e(this,r);for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return n=u(this,(i=l(r)).call.apply(i,[this].concat(o))),t(a(n),"Slow",!0),n}return f(r,i),n(r,[{key:"Send",value:function(t){var e=this.children.find((function(t){return!t.visible}));e||this.add(e=new Zt("play/bullet",{scale:.3})),e.x=t.x,e.y=t.y-35,e.visible=!0,Nt.Audio.get("bullet").play()}},{key:"Collision",value:function(t){for(var e=0;e<this.children.length;e++)this.children[e].Collision(t,e)}}]),r}(Nt.Container),Kt=function(i){function r(){var i;return e(this,r),i=u(this,l(r).call(this)),t(a(i),"Background1",new Nt.Sprite("play/bg").setSize(Nt.Director.width,Nt.Director.height)),t(a(i),"Background2",new Nt.Sprite("play/bg").setSize(Nt.Director.width,Nt.Director.height).setPosition(0,-Nt.Director.height)),i.add(i.Background1,i.Background2),i}return f(r,i),n(r,[{key:"preUpdate",value:function(t){this.y++,this.y>=Nt.Director.height&&(this.y=0),c(l(r.prototype),"preUpdate",this).call(this,t)}}]),r}(Nt.Container),te=function(i){function r(){var i;return e(this,r),i=u(this,l(r).call(this,null,{scale:5})),t(a(i),"State",20),t(a(i),"Textures",Array.apply(null,{length:19}).map((function(t,e){return"play/explosion"+(e+1)}))),i}return f(r,i),n(r,[{key:"preUpdate",value:function(t){return this.State>=this.Textures.length||(this.State++,this.setTexture(this.Textures[this.State]),c(l(r.prototype),"preUpdate",this).call(this,t))}}]),r}(Nt.Sprite),ee=function(t){function i(){return e(this,i),u(this,l(i).apply(this,arguments))}return f(i,t),n(i,[{key:"Boom",value:function(t){var e=this.children.find((function(t){return t.State>=t.Textures.length}));e||this.add(e=new te),e.position.setApply(this.getLocalVector(t)),e.State=0}}]),i}(Nt.Container),ie=function(i){function r(){var i,n;return e(this,r),(i=n=u(this,l(r).call(this)),t(a(n),"Background",new Kt),t(a(n),"Player",new Nt.Sprite("play/hero").setPosition(0,Nt.Director.height/2-200)),t(a(n),"Enemys",new $t),t(a(n),"Bullets",new Jt),t(a(n),"Booms",new ee),t(a(n),"Animation",new Nt.TWEEN({repeat:-1}).addCallback((function(){return n.Bullets.Send(n.Player.position)}),.2)),t(a(n),"Level",new Nt.TWEEN({repeat:-1}).addCallback((function(){return n.Enemys.Total++}),30)),i).add(n.Background,n.Player,n.Enemys,n.Bullets,n.Booms),(new Nt.Container).setPosition(-n.Player.width/3,-n.Player.height/3).put(n.Player),(new Nt.Container).setPosition(n.Player.width/3,-n.Player.height/3).put(n.Player),n.Animation.timeScale(.1),n.Level.timeScale(.1),n.Bullets.Slow=!0,n.Enemys.Slow=!0,n.listen("create","destroy"),n.on("Boom",n.Booms.Boom,n.Booms),document.addEventListener("keydown",(function(t){32==t.keyCode&&(Nt.Render.Clock.interval=1e7)})),n}return f(r,i),n(r,[{key:"preUpdate",value:function(t){return this.Enemys.Collision(this.Player.getWorldVector(new Nt.Vector2(-60,-40))),this.Enemys.Collision(this.Player.getWorldVector(new Nt.Vector2(60,-40))),this.Bullets.Collision(this.Enemys.children),c(l(r.prototype),"preUpdate",this).call(this,t)}},{key:"TouchStart",value:function(t){this.Animation.timeScale(1),this.Level.timeScale(1),this.Bullets.Slow=!1,this.Enemys.Slow=!1,Nt.Collision.InComponent(this.Player,Nt.Director.getWorldVector(t,!0))&&(this.Player.Moving=!0)}},{key:"TouchMove",value:function(t){this.Player.Moving&&(this.Player.x=t.x,this.Player.y=t.y)}},{key:"TouchEnd",value:function(t){this.Animation.timeScale(.1),this.Level.timeScale(.1),this.Bullets.Slow=!0,this.Enemys.Slow=!0,this.Player.Moving=!1}},{key:"create",value:function(){Nt.Audio.get("bgm").play(),Nt.Audio.get("bgm").loop(),Nt.Touch.on("touchStart",this.TouchStart,this),Nt.Touch.on("touchMove",this.TouchMove,this),Nt.Touch.on("touchEnd",this.TouchEnd,this)}},{key:"destroy",value:function(){Nt.Audio.get("bgm").stop(),Nt.Touch.off("touchStart",this.TouchStart,this),Nt.Touch.off("touchMove",this.TouchMove,this),Nt.Touch.off("touchEnd",this.TouchEnd,this),this.Animation.kill(),this.Level.kill()}}]),r}(Nt.Container);var ne=function(t){function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e(this,i),(t=u(this,l(i).call(this))).name=n,t.full=r||0,t.current=s,t}return f(i,t),n(i,[{key:"progress",get:function(){return this._full?this._current/this._full:1}}]),n(i,[{key:"full",set:function(t){this._full=t,this.emit("loading")}},{key:"current",set:function(t){this._current=t,this.emit("loading")},get:function(){return this._current}}]),i}(Nt.Event),re=function(t){function i(){var t;return e(this,i),(t=u(this,l(i).call(this))).loading=null,t.progresses=[],t}return f(i,t),n(i,[{key:"add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.progresses.length,r=new ne(t,e,i);return this.progresses.push(r),this.tagNext(n),r}},{key:"tagNext",value:function(t){var e=this;if(this.loading)return this.loading.emit("loading");for(var i=function(t){var i=e.progresses[t];if(i.finish)return"continue";e.loading=i,i.on("loading",(function(){return e.emit("loading",i)})),i.once("finish",(function(){e.loading=null,i.finish=!0,i.off("loading"),e.tagNext(t)}))},n=t;n<this.progresses.length;n++)i(n)}},{key:"extendLoading",value:function(t){this.emit("loading",t)}},{key:"extend",value:function(t){var e=this;this.on("loading",this.extendLoading,t),t.once("destroy",(function(){return e.off("loading",e.extendLoading,t)})),this.loading&&this.loading.emit("loading",this.loading)}},{key:"destroy",value:function(){this.off("loading"),this.loading=null,this.progresses.length=0,this.emit("finish")}}]),i}(Nt.Event);Nt.Data=new qt("global_production"),Nt.Data.Map("Setting").Merge({Audio:!0,Shock:!0}),Nt.Director.setScenes({Load:Wt,Home:Yt,Play:ie}),Nt.SetSize(750);var se=new re;Promise.all([Promise.all([Nt.Image.preLoad(Nt.Image.loadMap({load:{bar:"png",cloud:"png",shadow:"png",shadowpx:"png"},share:"png"},"resource/local/","",["png","jpg"])),Nt.Data.Map("Setting").GetStorage(!0).then((function(){return Nt.Audio.mute=!Nt.Data.Map("Setting").Get("Audio")}))]).then((function(){return Nt.Director.Go("Load",se)})),Promise.resolve(se.add("资源包下载",100)).then((function(t){return e="resource/remote",function(e){return t.current=e}(100),Promise.resolve({assetsUrl:e,resourceMap:{audio:{bgm:"mp3",boom:"mp3",bullet:"mp3",home:"mp3"},modal:{add:"png",close:"png",title:"png"},play:{Common:"png",bg:"jpg",bullet:"png",enemy:"png",explosion1:"png",explosion10:"png",explosion11:"png",explosion12:"png",explosion13:"png",explosion14:"png",explosion15:"png",explosion16:"png",explosion17:"png",explosion18:"png",explosion19:"png",explosion2:"png",explosion3:"png",explosion4:"png",explosion5:"png",explosion6:"png",explosion7:"png",explosion8:"png",explosion9:"png",hero:"png"}}});var e})).then((function(t){var e=Nt.Image.loadMap(t.resourceMap,t.assetsUrl+"/","",["png","jpg"]),i=se.add("图片预读",Object.keys(e).length),n=Nt.Audio.loadMap(t.resourceMap.audio,t.assetsUrl+"/audio/","",["mp3"]),r=se.add("音频加载",Object.keys(n).length);return Promise.all([Nt.Image.preLoad(e,"",(function(){return i.current++})),Nt.Audio.preLoad(n,"",(function(){return r.current++}))])})).then((function(){Nt.Image.SetClip("play/Common","button",121,7.3,37,21.7)}))]).then((function(){return se.destroy()})).then((function(){return Nt.Director.Go("Home")})).catch((function(t){}))}();
