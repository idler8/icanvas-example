!function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t},n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var s=r((function(t){function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e}));var o=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var a=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?o(t):e},u=r((function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e})),l=r((function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}));var h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)};var c=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t},d=r((function(t){function e(i,n,r){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=e=Reflect.get:t.exports=e=function(t,e,i){var n=c(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}},e(i,n,r||i)}t.exports=e})),f=r((function(t){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(n,r,s){return e()?t.exports=i=Reflect.construct:t.exports=i=function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&l(r,i.prototype),r},i.apply(null,arguments)}t.exports=i}));var _=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}};var p=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var m=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var v=function(t){return _(t)||p(t)||m()};var g=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},y=function(){function e(){if(t(this,e),this.elements=[],arguments.length)for(var i=0;i<arguments.length;i++)this.elements[i]=arguments[i]}return i(e,[{key:"length",get:function(){return this.elements?this.elements.length:0}}]),i(e,[{key:"same",value:function(t){for(var e=0;e<this.length;e++)this.elements[e]=t;return this}},{key:"typeTo",value:function(t){return this.elements=new t(this.elements),this}},{key:"normalize",value:function(){for(var t=0,e=0,i=this.length;e<i;e++)t+=this.elements[e]*this.elements[e];if(!(t=Math.sqrt(t)))return this.same(0);if(1==t)return this;for(var n=0;n<this.length;n++)this.elements[n]/=t;return this}},{key:"set",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]=arguments[t];return this}},{key:"setApply",value:function(t){return t===this?this:this.set.apply(this,t.elements||t)}},{key:"clone",value:function(){return(new this.constructor).setApply(this)}},{key:"equals",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&this.length!=t.length)return!1;for(var i=e?this.length:Math.min(this.length,t.length),n=0;n<i;n++)if(this[n]!=t[n])return!1;return!0}},{key:"equalsApply",value:function(){return this.equals(arguments)}},{key:"add",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]+=arguments[t];return this}},{key:"addApply",value:function(t){return this.add.apply(this,t.elements||t)}},{key:"sub",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]-=arguments[t];return this}},{key:"subApply",value:function(t){return this.sub.apply(this,t.elements||t)}},{key:"mult",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]*=arguments[t];return this}},{key:"multApply",value:function(t){return this.mult.apply(this,t.elements||t)}},{key:"div",value:function(){if(!arguments.length)return this;for(var t=0;t<arguments.length;t++)this.elements[t]/=arguments[t];return this}},{key:"divApply",value:function(t){return this.div.apply(this,t.elements||t)}}]),e}(),T=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(this,n),a(this,u(n).call(this,e,i))}return h(n,e),i(n,[{key:"rotate",value:function(t){var e=Math.sin(t),i=Math.cos(t),n=i*this.x-e*this.y;return this.y=e*this.x+i*this.y,this.x=n,this}},{key:"dist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.x-t,n=this.y-e;return Math.sqrt(i*i+n*n)}},{key:"distVector",value:function(t){return this.dist(t.x,t.y)}},{key:"angle",value:function(t){var e=this.dist()*t.dist(),i=this.x*t.x+this.y*t.y;return Math.acos(i/e)}},{key:"inPolygon",value:function(t){if(arguments.length>1&&(t=arguments),t.length<3)return!1;for(var e=!1,i=0,n=t.length-1;i<t.length;n=i++){var r=t[i].x,s=t[i].y,o=t[n].x,a=t[n].y,u=s>this.y!=a>this.y&&this.x<(o-r)*(this.y-s)/(a-s)+r;u&&(e=!e)}return e}},{key:"multiplyMatrix4",value:function(t){var e=t.elements,i=this.elements,n=1/(e[3]*i[0]+e[7]*i[1]+e[15]);return this.set((e[0]*i[0]+e[4]*i[1]+e[12])*n,(e[1]*i[0]+e[5]*i[1]+e[13])*n)}},{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}}]),n}(y),w=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t(this,n),a(this,u(n).call(this,e,i,r))}return h(n,e),i(n,[{key:"dist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.x-t,r=this.y-e,s=this.z-i;return Math.sqrt(n*n+r*r+s*s)}},{key:"distVector",value:function(t){return this.dist(t.x,t.y,t.z)}},{key:"angle",value:function(t){var e=this.dist()*t.dist(),i=this.x*t.x+this.y*t.y+this.z*t.z;return Math.acos(i/e)}},{key:"multiplyMatrix4",value:function(t){var e=this.elements,i=t.elements,n=1/(i[3]*e[0]+i[7]*e[1]+i[11]*e[2]+i[15]);return this.set((i[0]*e[0]+i[4]*e[1]+i[8]*e[2]+i[12])*n,(i[1]*e[0]+i[5]*e[1]+i[9]*e[2]+i[13])*n,(i[2]*e[0]+i[6]*e[1]+i[10]*e[2]+i[14])*n)}},{key:"x",get:function(){return this.elements[0]},set:function(t){this.elements[0]=t}},{key:"y",get:function(){return this.elements[1]},set:function(t){this.elements[1]=t}},{key:"z",get:function(){return this.elements[2]},set:function(t){this.elements[2]=t}}]),n}(y),b=function(e){function n(e){var i;return t(this,n),i=a(this,u(n).call(this,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),e&&i.setApply(e),i}return h(n,e),i(n,[{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"multiply",value:function(t){var e,i,n,r,s,o,a,u;if(i=this.elements,n=this.elements,i===(r=t.elements))for(r=new Float32Array(16),e=0;e<16;++e)r[e]=i[e];for(e=0;e<4;e++)s=n[e],o=n[e+4],a=n[e+8],u=n[e+12],i[e]=s*r[0]+o*r[1]+a*r[2]+u*r[3],i[e+4]=s*r[4]+o*r[5]+a*r[6]+u*r[7],i[e+8]=s*r[8]+o*r[9]+a*r[10]+u*r[11],i[e+12]=s*r[12]+o*r[13]+a*r[14]+u*r[15];return this}},{key:"multiplyVector3",value:function(t){var e=this.elements,i=t.elements,n=i[0]*e[0]+i[1]*e[4]+i[2]*e[8]+e[12],r=i[0]*e[1]+i[1]*e[5]+i[2]*e[9]+e[13],s=i[0]*e[2]+i[1]*e[6]+i[2]*e[10]+e[14];return t.x=n,t.y=r,t.z=s,t}},{key:"transpose",value:function(){var t=this.elements;return this.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])}},{key:"invert",value:function(t){var e,i,r,s,o;if(i=t?t.elements||t:this.elements,r=this.elements,(s=n.invertHandle||(n.invertHandle=[]))[0]=i[5]*i[10]*i[15]-i[5]*i[11]*i[14]-i[9]*i[6]*i[15]+i[9]*i[7]*i[14]+i[13]*i[6]*i[11]-i[13]*i[7]*i[10],s[4]=-i[4]*i[10]*i[15]+i[4]*i[11]*i[14]+i[8]*i[6]*i[15]-i[8]*i[7]*i[14]-i[12]*i[6]*i[11]+i[12]*i[7]*i[10],s[8]=i[4]*i[9]*i[15]-i[4]*i[11]*i[13]-i[8]*i[5]*i[15]+i[8]*i[7]*i[13]+i[12]*i[5]*i[11]-i[12]*i[7]*i[9],s[12]=-i[4]*i[9]*i[14]+i[4]*i[10]*i[13]+i[8]*i[5]*i[14]-i[8]*i[6]*i[13]-i[12]*i[5]*i[10]+i[12]*i[6]*i[9],s[1]=-i[1]*i[10]*i[15]+i[1]*i[11]*i[14]+i[9]*i[2]*i[15]-i[9]*i[3]*i[14]-i[13]*i[2]*i[11]+i[13]*i[3]*i[10],s[5]=i[0]*i[10]*i[15]-i[0]*i[11]*i[14]-i[8]*i[2]*i[15]+i[8]*i[3]*i[14]+i[12]*i[2]*i[11]-i[12]*i[3]*i[10],s[9]=-i[0]*i[9]*i[15]+i[0]*i[11]*i[13]+i[8]*i[1]*i[15]-i[8]*i[3]*i[13]-i[12]*i[1]*i[11]+i[12]*i[3]*i[9],s[13]=i[0]*i[9]*i[14]-i[0]*i[10]*i[13]-i[8]*i[1]*i[14]+i[8]*i[2]*i[13]+i[12]*i[1]*i[10]-i[12]*i[2]*i[9],s[2]=i[1]*i[6]*i[15]-i[1]*i[7]*i[14]-i[5]*i[2]*i[15]+i[5]*i[3]*i[14]+i[13]*i[2]*i[7]-i[13]*i[3]*i[6],s[6]=-i[0]*i[6]*i[15]+i[0]*i[7]*i[14]+i[4]*i[2]*i[15]-i[4]*i[3]*i[14]-i[12]*i[2]*i[7]+i[12]*i[3]*i[6],s[10]=i[0]*i[5]*i[15]-i[0]*i[7]*i[13]-i[4]*i[1]*i[15]+i[4]*i[3]*i[13]+i[12]*i[1]*i[7]-i[12]*i[3]*i[5],s[14]=-i[0]*i[5]*i[14]+i[0]*i[6]*i[13]+i[4]*i[1]*i[14]-i[4]*i[2]*i[13]-i[12]*i[1]*i[6]+i[12]*i[2]*i[5],s[3]=-i[1]*i[6]*i[11]+i[1]*i[7]*i[10]+i[5]*i[2]*i[11]-i[5]*i[3]*i[10]-i[9]*i[2]*i[7]+i[9]*i[3]*i[6],s[7]=i[0]*i[6]*i[11]-i[0]*i[7]*i[10]-i[4]*i[2]*i[11]+i[4]*i[3]*i[10]+i[8]*i[2]*i[7]-i[8]*i[3]*i[6],s[11]=-i[0]*i[5]*i[11]+i[0]*i[7]*i[9]+i[4]*i[1]*i[11]-i[4]*i[3]*i[9]-i[8]*i[1]*i[7]+i[8]*i[3]*i[5],s[15]=i[0]*i[5]*i[10]-i[0]*i[6]*i[9]-i[4]*i[1]*i[10]+i[4]*i[2]*i[9]+i[8]*i[1]*i[6]-i[8]*i[2]*i[5],0===(o=i[0]*s[0]+i[1]*s[4]+i[2]*s[8]+i[3]*s[12]))return this;for(o=1/o,e=0;e<16;e++)r[e]=s[e]*o;return this}},{key:"setOrtho",value:function(t,e,i,n,r,s){var o,a,u,l;if(t===e||i===n||r===s)throw"null frustum";return a=1/(e-t),u=1/(n-i),l=1/(s-r),(o=this.elements)[0]=2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2*l,o[11]=0,o[12]=-(e+t)*a,o[13]=-(n+i)*u,o[14]=-(s+r)*l,o[15]=1,this}},{key:"setScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.mult(t,t,t,t,e,e,e,e,i,i,i,i)}},{key:"setTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.set(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1)}},{key:"translate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.elements;return n[12]+=n[0]*t+n[4]*e+n[8]*i,n[13]+=n[1]*t+n[5]*e+n[9]*i,n[14]+=n[2]*t+n[6]*e+n[10]*i,n[15]+=n[3]*t+n[7]*e+n[11]*i,this}},{key:"setRotate",value:function(t,e,i,n){var r,s,o,a,u,l,h,c,d,f,_;return this.elements,r=Math.sin(t),s=Math.cos(t),0!==e&&0===i&&0===n?(e<0&&(r=-r),this.set(1,0,0,0,0,s,-r,0,0,r,s,0,0,0,0,1)):0===e&&0!==i&&0===n?(i<0&&(r=-r),this.set(s,0,-r,0,0,1,0,0,r,0,s,0,0,0,0,1)):0===e&&0===i&&0!==n?(n<0&&(r=-r),this.set(s,r,0,0,-r,s,0,0,0,0,1,0,0,0,0,1)):(1!==(o=Math.sqrt(e*e+i*i+n*n))&&(e*=a=1/o,i*=a,n*=a),u=1-s,l=e*i,h=i*n,c=n*e,d=e*r,f=i*r,_=n*r,this.set(e*e*u+s,l*u+_,c*u-f,0,l*u-_,i*i*u+s,h*u+d,0,c*u+f,h*u-d,n*n*u+s,0,0,0,0,1))}},{key:"rotate",value:function(t,e,i,r){return this.multiply((new n).setRotate(t,e,i,r))}}]),n}(y),x=["日","一","二","三","四","五","六"],k=function(){function e(){t(this,e),this.Date=null}return i(e,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jstimestamp";return t?t instanceof Date?this.Data=t:"object"==s(t)?this.Data=null:"function"==typeof t?this.Set(t(),e):this.Date=t>0?"jstimestamp"==e?new Date(1*t):new Date(1e3*t):"string"==typeof t?new Date(t):null:this.Date=null,this.Date||(this.Date=new Date),this}},{key:"Get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jstimestamp";switch(this.Date||(this.Date=new Date),e){case"Date":return this.Date;case"timestamp":return parseInt(this.Date.getTime()/1e3);case"jstimestamp":return this.Date.getTime()}return e.replace(/[YmdHisSwWqQ]/g,(function(e){return t[e]}))}},{key:"OneDay",value:function(t,e,i,n){return this.Set(t,i).Get("Ymd")==this.Set(e,n).Get("Ymd")}},{key:"OneWeek",value:function(t,e,i,n){return this.Set(t,i).ToWeek().Get("Ymd")==this.Set(e,n).ToWeek().Get("Ymd")}},{key:"ToWeek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.Date.setDate(this.Date.getDate()-(this.w||7)+t),this}},{key:"GetWeek",value:function(t,e){return this.ToWeek(t).Get(e)}},{key:"Y",get:function(){return this.Date.getFullYear()}},{key:"m",get:function(){return("00"+(this.Date.getMonth()+1)).slice(-2)}},{key:"d",get:function(){return("00"+this.Date.getDate()).slice(-2)}},{key:"H",get:function(){return("00"+this.Date.getHours()).slice(-2)}},{key:"i",get:function(){return("00"+this.Date.getMinutes()).slice(-2)}},{key:"s",get:function(){return("00"+this.Date.getSeconds()).slice(-2)}},{key:"S",get:function(){return("000"+this.Date.getMilliseconds()).slice(-3)}},{key:"w",get:function(){return this.Date.getDay()}},{key:"W",get:function(){return x[this.w]}},{key:"q",get:function(){return(this.Date.getMonth()+3)/3|0}},{key:"Q",get:function(){return x[this.q]}}]),e}(),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Math.random()*t|0)+e};A.To=function(t,e){return A(e-t,t)},(A.Array=function(t){return t[A(t.length)]}).Keys=A.Keys=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var i=[],n=Object.keys(t);n.length>0&&i.length<e;)i.push(n.splice(A(n.length),1)[0]);return i},A.Array.Values=A.Values=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var i=[],n=Object.keys(t);n.length>0&&i.length<e;){var r=n.splice(A(n.length),1)[0];i.push(t[r])}return i};var S=function(){function e(){t(this,e),this.TouchHandle=new w}return i(e,[{key:"InComponent",value:function(t,e){return!!t.visible&&(!t.checkPoint||(this.TouchHandle.setApply(e),!!t.checkPoint(this.TouchHandle)||void 0))}},{key:"Recursive",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"touchTap";if(!t)return!1;if(!(t instanceof Array)){if(!t.visible)return!1;if(t.touchChildren&&t.children.length){var n=this.Recursive(t.children,e,i);if(n)return n}if(!this.InComponent(t,e))return!1;if(!t[i])return t.touchStop;var r=t[i](this.TouchHandle);return void 0===r||r}for(var s=t.length-1;s>=0;s--){var o=this.Recursive(t[s],e,i);if(o)return o}}}]),e}(),P=function(){function e(){t(this,e),this._events={}}return i(e,[{key:"listen",value:function(){for(var t=0;t<arguments.length;t++)this.on(arguments[t]);return this}},{key:"on",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i||(i=this),e||(e=i[t]),e?(this._events[t]||(this._events[t]=[]),this._events[t].push({fn:e,context:i,once:n}),this):this}},{key:"once",value:function(t,e,i){return this.on(t,e,i,!0)}},{key:"off",value:function(t,e,i){if(!this._events[t])return this;i||(i=this);var n=this._events[t].filter((function(t){return t.context!==i&&t.fn!==e}));return n.length?this._events[t]=n:delete this._events[t],this}},{key:"emit",value:function(t){if(!this._events[t])return this;for(var e=this._events[t],i=Array.prototype.splice.call(arguments,1),n=0;n<e.length;n++){var r=e[n],s=r.fn,o=r.context,a=r.once;s.apply(o,i),a&&e.splice(n--,1)}return e.length||delete this._events[t],this}}]),e}(),D=function(e){function n(e,i,r,s){var o;return t(this,n),(o=a(this,u(n).call(this,r,s))).start=new T(r,s),o.tick=new T(0,0),o.begin=o.over=i,o.id=e,o}return h(n,e),i(n,[{key:"set",value:function(t,e){return this.tick.set(t-this.x,e-this.y),d(u(n.prototype),"set",this).call(this,t,e)}},{key:"long",get:function(){return this.over-this.begin}},{key:"startX",get:function(){return this.start.x}},{key:"startY",get:function(){return this.start.y}},{key:"endX",get:function(){return this.x}},{key:"endY",get:function(){return this.y}},{key:"moveX",get:function(){return this.x-this.start.x}},{key:"moveY",get:function(){return this.y-this.start.y}},{key:"distance",get:function(){return this.distVector(this.start)}}]),n}(T),E=function(e){function n(){var e;return t(this,n),(e=a(this,u(n).call(this))).size=new T,e.offset=new T,e.touches={},e}return h(n,e),i(n,[{key:"getX",value:function(t){return(t-this.offset.x)*this.size.x}},{key:"getY",value:function(t){return(t-this.offset.y)*this.size.y}},{key:"start",value:function(t){for(var e=Date.now(),i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i],s=r.identifier;this.touches[s]=new D(s,e,this.getX(r.clientX),this.getY(r.clientY)),this.emit("touchStart",this.touches[s])}return this}},{key:"move",value:function(t){for(var e=0,i=t.changedTouches.length;e<i;e++){var n=t.changedTouches[e],r=n.identifier;this.touches[r]&&(this.touches[r].set(this.getX(n.clientX),this.getY(n.clientY)),this.emit("touchMove",this.touches[r]))}return this}},{key:"end",value:function(t){for(var e=Date.now(),i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i],s=r.identifier;this.touches[s]&&(this.touches[s].over=e,this.touches[s].set(this.getX(r.clientX),this.getY(r.clientY),e),this.emit("touchEnd",this.touches[s]),delete this.touches[s])}return this}}]),n}(P),C=function(e){function n(){var e;return t(this,n),(e=a(this,u(n).call(this))).time=e.then=e.history=Date.now(),e.interval=1e3/60,e.tick=e.move=0,e}return h(n,e),i(n,[{key:"step",value:function(){this.time=Date.now();var t=this.time-this.then;if(t<this.interval)return!1;this.tick=t/this.interval|0;var e=t%this.interval;return this.then=this.time-e,this.move=this.time-this.history,this.history=this.time,!0}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3/60;this.interval=t;var e=this,i=function t(){requestAnimationFrame(t),e.step()&&(e.emit("start"),e.emit("tick"),e.emit("end"))};return requestAnimationFrame(i),this}}]),n}(P),R=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;t(this,e),this.collect=[],this.used=[],this.running=!1,this.interval=i,this.tickid=0}return i(e,[{key:"add",value:function(t){t.destroy&&this.collect.push(t)}},{key:"use",value:function(t){this.running&&this.used.push(t)}},{key:"dispose",value:function(){var t=this,e=arguments;this.running&&(this.collect.forEach((function(i){-1===t.used.indexOf(i)&&i.destroy.apply(i,e)})),this.collect=[].concat(this.used),this.used.length=0,this.running=!1)}},{key:"tick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tickid+=t,this.tickid<=this.interval||(this.tickid=0,this.running=!0)}}]),e}(),I=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=a(this,u(n).call(this))).id=n.id?++n.id:n.id=1,e.parent=null,e.children=[],e.touchChildren=!0,e.visible=!(!1===i.visible),e.zIndex=i.zIndex||0,e.transformParentId=0,e.transformId=1,e.needUpdateTransform=!0,e.matrix=new b,e.position=new T(i.x||0,i.y||0),e.scale=new T(i.scaleX||1,i.scaleY||1),e.angle=i.angle||0,i.radian&&(e.radian=i.radian),e.on("destroy",(function(){for(var t=0;t<this.children.length;t++)this.children[t].emit("destroy")})),e}return h(n,e),i(n,[{key:"updateTransform",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.parent){if(t&&this.parent.updateTransform(t),!this.needUpdateTransform&&this.transformParentId==this.parent.transformId)return;this.matrix.setApply(this.parent.matrix)}else{if(!this.needUpdateTransform)return;this.matrix.identity()}this.matrix.translate(this.x,this.y,0),this.matrix.rotate(this.radian,0,0,1),this.matrix.scale(this.scaleX,this.scaleY,1),this.needUpdateTransform=!1,this.transformId++,this.transformParentId=this.parent?this.parent.transformId:0}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScale",value:function(t,e){return this.scaleX=t,this.scaleY=e,this}},{key:"setRadian",value:function(t){return this.radian=t,this}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"getWorldVector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t=e?t.clone():t).multiplyMatrix4(this.matrix)}},{key:"put",value:function(t){return this.parent&&this.parent.remove(this),t?(this.emit("create"),t.children.push(this),this.parent=t,this.transformParentId=0,this.emit("created"),this):this}},{key:"add",value:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.add(arguments[e]);else if(t instanceof Array)for(var i=0;i<t.length;i++)this.add(t[i]);else t&&t.put(this);return this}},{key:"remove",value:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);else if(t instanceof Array)for(var i=0;i<t.length;i++)this.remove(t[i]);else if(t){t.emit("destroy",this);var n=this.children.indexOf(t);this.children.splice(n,1),t.parent=null,t.emit("destroyed",this)}return this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++)this.children[t].emit("destroy",this),this.children[t].parent=null,this.children[t].emit("destroyed",this);return this.children.length=0,this}},{key:"pushTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.visible){this.updateTransform(!1),this.emit("check",t);for(var e=0,i=this.children.length;e<i;e++)this.children[e].pushTo(t)}}},{key:"x",get:function(){return this.position.x},set:function(t){this.position.x!=t&&(this.position.x=t,this.needUpdateTransform=!0)}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y!=t&&(this.position.y=t,this.needUpdateTransform=!0)}},{key:"scaleX",get:function(){return this.scale.x},set:function(t){this.scale.x!=t&&(this.scale.x=t,this.needUpdateTransform=!0)}},{key:"scaleY",get:function(){return this.scale.y},set:function(t){this.scale.y!=t&&(this.scale.y=t,this.needUpdateTransform=!0)}},{key:"radian",get:function(){return this._radian},set:function(t){t!=this._radian&&(this._radian=t,this.needUpdateTransform=!0)}},{key:"angle",get:function(){return 180*this.radian/Math.PI},set:function(t){var e=t*Math.PI/180;e!=this._radian&&(this._radian=e,this.needUpdateTransform=!0)}}]),n}(P),M=function(e){function n(e){var i;return t(this,n),(i=a(this,u(n).call(this,e))).scenes={},i.needUpdateTransform=!1,i.widthCache={},i.heightCache={},i}return h(n,e),i(n,[{key:"getX",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.widthCache[t]||(this.widthCache[t]=this._width*t)}},{key:"getY",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.heightCache[t]||(this.heightCache[t]=this._height*t)}},{key:"set",value:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.set(arguments[e]);else if(t instanceof Array)for(var i=0;i<t.length;i++)this.set(t[i]);else"[object Function]"==Object.prototype.toString.call(t)&&t.constructor&&t.name&&(this.scenes[t.name]=t);return this}},{key:"go",value:function(t){var e=Object.prototype.toString.call(t);if("[object String]"==e)this.scenes[t]&&this.clear().add(f(this.scenes[t],v(Array.prototype.splice(1))));else if("[object Function]"==e)if(t.constructor)this.clear().add(f(t,v(Array.prototype.splice(1))));else{var i=t.apply(void 0,v(Array.prototype.splice(1)));i instanceof I&&this.clear().add(i)}else"[object Object]"==e&&t instanceof I&&this.clear().add(t);return this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.widthCache={}}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.heightCache={}}},{key:"center",get:function(){return this.getX(.5)}},{key:"middle",get:function(){return this.getY(.5)}}]),n}(I),O=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=a(this,u(n).call(this,i))).morph=i.morph||"Rectangle",e.anchor=new T(i.anchorX||0,i.anchorY||0),e.size=new T(i.width||0,i.height||0),e.staticWidth=!!i.width,e.staticHeight=!!i.height,e.clip=null,e.texture=i.texture,e.invertMatrixId=0,e.invertMatrix=new b,e.on("check",(function(t){this.visible&&this.texture&&t.push(this)})),e}return h(n,e),i(n,[{key:"updateTransformInvert",value:function(){this.invertMatrixId!=this.transformId&&(this.invertMatrix.invert(this.matrix),this.invertMatrixId=this.transformId)}},{key:"setClip",value:function(t){return this.clip=[t.x,t.y,t.width,t.height],this.staticWidth||(this.size.x=t.width),this.staticHeight||(this.size.y=t.height),this.needUpdate=!0,this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"setAnchor",value:function(t,e){return this.anchorX=t,this.anchorY=e,this}},{key:"setAnchorSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.anchorX=this.width*t,this.anchorY=this.height*e,this}},{key:"checkPoint",value:function(t){return this.updateTransformInvert(),t.multiplyMatrix4(this.invertMatrix),t.x>=-this.width/2&&t.y>=-this.height/2&&t.x<=this.width/2&&t.y<=this.height/2}},{key:"texture",get:function(){return this._texture},set:function(t){if(this._texture=t,!t)return this.needUpdate=!1;this.staticWidth||(this.size.x=t.width),this.staticHeight||(this.size.y=t.height),this.needUpdate=!0}},{key:"morph",set:function(t){this._morph=t,this.needUpdate=!0},get:function(){return this._morph}},{key:"width",set:function(t){this.size.x=t,this.staticWidth=!0,this.needUpdate=!0},get:function(){return this.size.x}},{key:"height",set:function(t){this.size.y=t,this.staticHeight=!0,this.needUpdate=!0},get:function(){return this.size.y}},{key:"anchorX",set:function(t){this.anchor.x=t,this.needUpdate=!0},get:function(){return this.anchor.x}},{key:"anchorY",set:function(t){this.anchor.y=t,this.needUpdate=!0},get:function(){return this.anchor.y}},{key:"left",get:function(){return-this.size.x/2-this.anchor.x}},{key:"right",get:function(){return this.size.x/2-this.anchor.x}},{key:"top",get:function(){return-this.size.y/2-this.anchor.y}},{key:"bottom",get:function(){return this.size.y/2-this.anchor.y}}]),n}(I),L=function(){function e(i){t(this,e),this.resources={},this.loader=i}return i(e,[{key:"loads",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Object.keys(e);return Promise.all(r.map((function(r){var s=t.load(i+r,e[r]);return n?s.then(n):s})))}},{key:"get",value:function(t){return this.resources[t]}}]),e}(),B=function(e){function n(){return t(this,n),a(this,u(n).apply(this,arguments))}return h(n,e),i(n,[{key:"load",value:function(t,e){var i=this;return this.loader.load(e).then((function(e){i.resources[t]=e}))}}]),n}(L),U=function(e){function n(){var e,i;t(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return i=a(this,(e=u(n)).call.apply(e,[this].concat(s))),g(o(i),"_mute",!1),i}return h(n,e),i(n,[{key:"load",value:function(t,e){var i=this;return this.loader.load(e).then((function(e){return i.resources[t]=e}))}},{key:"mute",get:function(){return this._mute},set:function(t){this._mute=t,this.loader.mute(t)}},{key:"volume",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loader.volume(t)},get:function(){return this.loader.volume()}}]),n}(L),F=function(){function e(i,n){t(this,e);var r=i.left,s=i.top,o=i.right,a=i.bottom,u=0,l=0,h=1,c=1;i.clip&&(u=i.clip[0]/i.texture.width,l=i.clip[1]/i.texture.height,h=(i.clip[0]+i.clip[2])/i.texture.width,c=(i.clip[1]+i.clip[3])/i.texture.height),this.vectices=new Float32Array([r,s,u,l,o,s,h,l,r,a,u,c,o,a,h,c]),this.bufferLength=this.vectices.length/4,this.drawType=n.TRIANGLE_STRIP,i.needUpdate=!1}return i(e,[{key:"createTexture",value:function(t,e){this.texture&&this.deleteTexture(t),e.texture&&(this.texture=e.texture),this.texture=e.texture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),this.texture.forever=e.src||e.forever,e.needUpdate=!1}},{key:"createBuffer",value:function(t){this.buffer||(this.buffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.vectices,t.STATIC_DRAW)}},{key:"updateTexture",value:function(t,e){this.texture===e.texture&&e.texture&&e.needUpdate&&(t.bindTexture(t.TEXTURE_2D,e.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),e.needUpdate=!1)}},{key:"draw",value:function(t){t.shader.texture(this.texture),t.shader.buffer(this.buffer,2,2,0,4),t.drawArrays(this.drawType,0,this.bufferLength)}},{key:"destroy",value:function(t){this.buffer&&t.deleteBuffer(this.buffer),this.buffer=null,this.texture&&!this.texture.forever&&t.deleteTexture(this.texture),this.texture=null,this.destroyed=!0}}]),e}(),N=function(){function e(i,n){t(this,e);var r=(i.width+i.height)/20|0,s=2*Math.PI/r,o=-i.anchorX,a=-i.anchor.y,u=.5*i.width,l=.5*i.height,h=.5,c=.5,d=.5,f=.5;i.clip&&(h=.5*i.clip[2],c=.5*i.clip[3],d=i.clip[0]+h,f=i.clip[1]+c);for(var _=[o,a,d,f],p=0;p<=r;p++){var m=p*s,v=Math.cos(m),g=Math.sin(m);_.push(u*v+o,l*g+a,h*v+d,c*g+f)}this.vectices=new Float32Array(_),this.bufferLength=this.vectices.length/4,this.drawType=n.TRIANGLE_STRIP,i.needUpdate=!1}return i(e,[{key:"createTexture",value:function(t,e){this.texture&&this.deleteTexture(t),e.texture&&(this.texture=e.texture),this.texture=e.texture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),this.texture.forever=e.src||e.forever,e.needUpdate=!1}},{key:"createBuffer",value:function(t){this.buffer||(this.buffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.vectices,t.STATIC_DRAW)}},{key:"updateTexture",value:function(t,e){this.texture===e.texture&&e.texture&&e.needUpdate&&(t.bindTexture(t.TEXTURE_2D,e.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),e.needUpdate=!1)}},{key:"draw",value:function(t){t.shader.texture(this.texture),t.shader.buffer(this.buffer,2,2,0,4),t.drawArrays(this.drawType,0,this.bufferLength)}},{key:"destroy",value:function(t){this.buffer&&t.deleteBuffer(this.buffer),this.buffer=null,this.texture&&!this.texture.forever&&t.deleteTexture(this.texture),this.texture=null,this.destroyed=!0}}]),e}(),H=Object.freeze({__proto__:null,Rectangle:F,Circle:N,Polygon:function e(){t(this,e)}});var j=function(e){function n(){return t(this,n),a(this,u(n).apply(this,arguments))}return h(n,e),i(n,[{key:"buffer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,s=this.gl,o=this.attributes;s.BufferRecord!==t&&(s.BufferRecord=t,s.bindBuffer(s.ARRAY_BUFFER,t),s.vertexAttribPointer(o.aPosition,e,s.FLOAT,!1,(e+i)*r,n*r),s.enableVertexAttribArray(o.aPosition),s.vertexAttribPointer(o.aTextureCoord,i,s.FLOAT,!1,(e+i)*r,(n+e)*r),s.enableVertexAttribArray(o.aTextureCoord))}},{key:"texture",value:function(t){var e=this.gl,i=this.uniforms;e.TextureRecord!==t&&(e.TextureRecord=t,e.bindTexture(e.TEXTURE_2D,t),e.uniform1i(i.uSampler,0))}},{key:"transform",value:function(t){var e=this.gl,i=this.uniforms;e.uniformMatrix4fv(i.uModelMatrix,!1,t.elements)}},{key:"blend",value:function(t){var e=this.gl,i=this.uniforms;t?e.uniform4f(i.uColor,t.elements[0],t.elements[1],t.elements[2],t.elements[3]):e.uniform4f(i.uColor,1,1,1,1)}},{key:"vert",get:function(){return["attribute vec4 aPosition;","attribute vec2 aTextureCoord;","uniform mat4 uModelMatrix;","varying vec2 vTextureCoord;","void main()","{","gl_Position = uModelMatrix * aPosition;","vTextureCoord = aTextureCoord;","}"].join("\n")}},{key:"frag",get:function(){return["precision highp float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform vec4 uColor;","void main()","{","vec4 color;","color = texture2D(uSampler,vTextureCoord);","gl_FragColor = uColor * color;","}"].join("\n")}}]),n}(function(){function e(i){t(this,e),this.gl=i,this.attributes={},this.uniforms={},this.createProgram(),this.getActiveAttrib(),this.getActiveUniform()}return i(e,[{key:"createShader",value:function(t,e){var i=this.gl,n=i.createShader(i[t]);return i.shaderSource(n,e),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(i.deleteShader(n),null)}},{key:"getActiveAttrib",value:function(){for(var t=this.gl,e=this.program,i=this.attributes,n=0,r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);n<r;n++){var s=t.getActiveAttrib(e,n),o=i[s.name]=t.getAttribLocation(e,s.name);t.enableVertexAttribArray(o)}}},{key:"getActiveUniform",value:function(){for(var t=this.gl,e=this.program,i=this.uniforms,n=0,r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);n<r;n++){var s=t.getActiveUniform(e,n);i[s.name]=t.getUniformLocation(e,s.name)}}},{key:"createProgram",value:function(){var t=this.gl,e=t.createProgram();if(t.attachShader(e,this.createShader("VERTEX_SHADER",this.vert)),t.attachShader(e,this.createShader("FRAGMENT_SHADER",this.frag)),t.linkProgram(e),!t.getProgramParameter(e,t.LINK_STATUS))throw t.deleteProgram(e),t.deleteShader(e),t.deleteShader(e),"链接程序失败";this.program=e}},{key:"vert",get:function(){return""}},{key:"frag",get:function(){return""}}]),e}()),z=r((function(t,e){
/*!
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
!function(){var t=function(){this.init()};t.prototype={init:function(){var t=this||i;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||i;if(t=parseFloat(t),e.ctx||c(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),s=0;s<r.length;s++){var o=e._howls[n]._soundById(r[s]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||i;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),s=0;s<r.length;s++){var o=e._howls[n]._soundById(r[s]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||i,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||i)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||i;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||i,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),s=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(s||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||i;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(i){for(var n=0;n<t.html5PoolSize;n++)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(i){t.noAudio=!0}for(n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var s=t._howls[n]._getSoundIds(),o=0;o<s.length;o++){var a=t._howls[n]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||i;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){})),new Audio},_releaseHtml5Audio:function(t){var e=this||i;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&i.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&i.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var i=new t,r=function(t){t.src&&0!==t.src.length&&this.init(t)};r.prototype={init:function(t){var e=this;return i.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=i.usingWebAudio&&!e._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,r;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n&&i.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&a(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var s=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(s++,r=n._sounds[o]._id);1===s?t=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!a._paused)return e||n._loadQueue("play"),a._id;n._webAudio&&i._autoResume();var l=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-l),c=1e3*h/Math.abs(a._rate),d=n._sprite[t][0]/1e3,f=(n._sprite[t][0]+n._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var _=function(){a._paused=!1,a._seek=l,a._start=d,a._stop=f,a._loop=!(!a._loop&&!n._sprite[t][2])};if(!(l>=f)){var p=a._node;if(n._webAudio){var m=function(){n._playLock=!1,_(),n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;p.gain.setValueAtTime(t,i.ctx.currentTime),a._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?a._loop?p.bufferSource.noteGrainOn(0,l,86400):p.bufferSource.noteGrainOn(0,l,h):a._loop?p.bufferSource.start(0,l,86400):p.bufferSource.start(0,l,h),c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),e||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===i.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(a._id))}else{var v=function(){p.currentTime=l,p.muted=a._muted||n._muted||i._muted||p.muted,p.volume=a._volume*i.volume(),p.playbackRate=a._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,_(),r.then((function(){n._playLock=!1,p._unlocked=!0,e||(n._emit("play",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(n._playLock=!1,_(),n._emit("play",a._id),n._loadQueue()),p.playbackRate=a._rate,p.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c):(n._endTimers[a._id]=function(){n._ended(a),p.removeEventListener("ended",n._endTimers[a._id],!1)},p.addEventListener("ended",n._endTimers[a._id],!1))}catch(t){n._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var g=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||g)v();else{n._playLock=!0;var y=function(){v(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),n=0;n<i.length;n++){e._clearTimer(i[n]);var r=e._soundById(i[n]);if(r&&!r._paused&&(r._seek=e.seek(i[n]),r._rateSeek=0,r._paused=!0,e._stopFade(i[n]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var n=i._getSoundIds(t),r=0;r<n.length;r++){i._clearTimer(n[r]);var s=i._soundById(n[r]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,i._stopFade(n[r]),s._node&&(i._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&i._clearSound(s._node))),e||i._emit("stop",s._id))}return i},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),s=0;s<r.length;s++){var o=n._soundById(r[s]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,i.ctx.currentTime):o._node&&(o._node.muted=!!i._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,r=this,s=arguments;if(0===s.length)return r._volume;if(1===s.length||2===s.length&&void 0===s[1]){var o=r._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else s.length>=2&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,s)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(n=r._soundById(e[u]))&&(n._volume=t,s[2]||r._stopFade(e[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*i.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(t,e,n,r)}}),s;t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),s.volume(t,r);for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if(r||s._stopFade(o[a]),s._webAudio&&!u._muted){var l=i.ctx.currentTime,h=l+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,h)}s._startFadeInterval(u,t,e,n,o[a],void 0===r)}}return s},_startFadeInterval:function(t,e,i,n,r,s){var o=this,a=e,u=i-e,l=Math.abs(u/.01),h=Math.max(4,l>0?n/l:n),c=Date.now();t._fadeTo=i,t._interval=setInterval((function(){var r=(Date.now()-c)/n;c=Date.now(),a+=u*r,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,o._webAudio?t._volume=a:o.volume(a,t._id,!0),s&&(o._volume=a),(i<e&&a<=i||i>e&&a>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(i,t._id),o._emit("fade",t._id))}),h)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(i=n._soundById(parseInt(r[0],10)))&&i._loop;t=r[0],n._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var s=n._getSoundIds(e),o=0;o<s.length;o++)(i=n._soundById(s[o]))&&(i._loop=t,n._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return n},rate:function(){var t,e,n,r=this,s=arguments;if(0===s.length)e=r._sounds[0]._id;else if(1===s.length){var o=r._getSoundIds(),a=o.indexOf(s[0]);a>=0?e=parseInt(s[0],10):t=parseFloat(s[0])}else 2===s.length&&(t=parseFloat(s[0]),e=parseInt(s[1],10));if("number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,s)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)if(n=r._soundById(e[u])){r.playing(e[u])&&(n._rateSeek=r.seek(e[u]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,i.ctx.currentTime):n._node&&(n._node.playbackRate=t);var l=r.seek(e[u]),h=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,c=1e3*h/Math.abs(n._rate);!r._endTimers[e[u]]&&n._paused||(r._clearTimer(e[u]),r._endTimers[e[u]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var s=n._getSoundIds(),o=s.indexOf(r[0]);o>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?i.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+u*Math.abs(a._rate))}return a._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var c=function(){n._emit("seek",e),h&&n.play(e,!0)};if(h&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,i=this._soundById(t);return i&&(e=this._sprite[i._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(i._canPlayEvent,e[n]._loadFn,!1),i._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=i._howls.indexOf(t);r>=0&&i._howls.splice(r,1);var s=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===t._src||t._src.indexOf(i._howls[n]._src)>=0){s=!1;break}return o&&s&&delete o[t._src],i.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,n){var r=this["_on"+t];return"function"==typeof e&&r.push(n?{id:i,fn:e,once:n}:{id:i,fn:e}),this},off:function(t,e,i){var n=this["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<n.length;r++){var s=i===n[r].id;if(e===n[r].fn&&s||!e&&s){n.splice(r,1);break}}else if(t)this["_on"+t]=[];else{var o=Object.keys(this);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[])}return this},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var n=this["_on"+t],r=n.length-1;r>=0;r--)n[r].id&&n[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(this,n[r].fn),0),n[r].once&&this.off(t,n[r].fn,n[r].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=i.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),i._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,i=0;if(!(this._sounds.length<t)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&e++;for(i=this._sounds.length-1;i>=0;i--){if(e<=t)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=i.ctx.createBufferSource(),t._node.bufferSource.buffer=o[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,i.ctx.currentTime),this},_cleanBuffer:function(t){var e=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=i._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=i._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(e,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*i.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var o={},a=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);l(n.buffer,t)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=t._xhrWithCredentials,s.responseType="arraybuffer",s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?l(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},u(s)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(o[e._src]=t,h(e,t)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(t).then(r).catch(n):i.ctx.decodeAudioData(t,r,n)},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(t){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),e=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!r||i._navigator&&!i._navigator.standalone&&!r)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};e.Howler=i,e.Howl=r,"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=i,window.Howl=r,window.Sound=s):void 0!==n&&(n.HowlerGlobal=t,n.Howler=i,n.Howl=r,n.Sound=s)}(),
/*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
function(){var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,i){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof t?this._pos:(this._pos=[t,e,i],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,i,n,r,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return e="number"!=typeof e?o[1]:e,i="number"!=typeof i?o[2]:i,n="number"!=typeof n?o[3]:n,r="number"!=typeof r?o[4]:r,s="number"!=typeof s?o[5]:s,"number"!=typeof t?o:(this._orientation=[t,e,i,n,r,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,i,n,r,s),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,i)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var s=n._getSoundIds(i),o=0;o<s.length;o++){var a=n._soundById(s[o]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,r),"spatial"===r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,i,n,r)}}),s;if(i="number"!=typeof i?0:i,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof t)return s._pos;s._pos=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,i,n],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setPosition(t,i,n)),s._emit("pos",u._id)}}return s},Howl.prototype.orientation=function(t,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,i,n,r)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,n="number"!=typeof n?s._orientation[2]:n,void 0===r){if("number"!=typeof t)return s._orientation;s._orientation=[t,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,i,n],u._node&&(u._panner||(u._pos||(u._pos=s._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setOrientation(t,i,n)),s._emit("orientation",u._id)}}return s},Howl.prototype.pannerAttr=function(){var t,i,n,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(n=r._soundById(parseInt(s[0],10)))?n._pannerAttr:r._pannerAttr;t=s[0],void 0===i&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===s.length&&(t=s[0],i=parseInt(s[1],10));for(var o=r._getSoundIds(i),a=0;a<o.length;a++)if(n=r._soundById(o[a])){var u=n._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var l=n._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(n._pos||(n._pos=r._pos||[0,0,-.5]),e(n,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()})),G=z.Howler,X=z.Howl;function V(t){return{identifier:0,changedTouches:[{clientX:t.clientX,clientY:t.clientY}]}}function W(t){return t?function(t){var e=!1;window.document.body.addEventListener("mousedown",(function(i){return e=!0,t.start(V(i))}),{passive:!0}),window.document.body.addEventListener("mousemove",(function(i){return e&&t.move(V(i))}),{passive:!0}),window.document.body.addEventListener("mouseup",(function(i){return e&&(e=!1,t.end(V(i)))}),{passive:!0}),window.document.body.addEventListener("mouseout",(function(i){return e&&(e=!1,t.end(V(i)))}),{passive:!0})}:function(t){window.document.body.addEventListener("touchstart",(function(e){return t.start(e)}),{passive:!0}),window.document.body.addEventListener("touchmove",(function(e){return t.move(e)}),{passive:!0}),window.document.body.addEventListener("touchend",(function(e){return t.end(e)}),{passive:!0}),window.document.body.addEventListener("touchcancel",(function(e){return t.end(e)}),{passive:!0})}}var q=function(){function e(){t(this,e)}return i(e,[{key:"load",value:function(t){return new Promise((function(e,i){var n=new window.Image;n.onload=function(){e(n)},n.onerror=function(t){i(t)},n.key=n.src=t}))}}]),e}(),Y=function(){function e(){t(this,e)}return i(e,[{key:"load",value:function(t){return new Promise((function(e,i){var n=new X({src:t,loop:!1,autoplay:!1});n.once("load",(function(){n.key=t,e(n)}))}))}},{key:"mute",value:function(t){return G.mute(t)}},{key:"volume",value:function(t){return G.volume(t)}}]),e}();var Q=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}},$=Object.prototype.toString;function Z(t){return"[object Array]"===$.call(t)}function J(t){return void 0===t}function K(t){return null!==t&&"object"==typeof t}function tt(t){return"[object Function]"===$.call(t)}function et(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Z(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var it={isArray:Z,isArrayBuffer:function(t){return"[object ArrayBuffer]"===$.call(t)},isBuffer:function(t){return null!==t&&!J(t)&&null!==t.constructor&&!J(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:K,isUndefined:J,isDate:function(t){return"[object Date]"===$.call(t)},isFile:function(t){return"[object File]"===$.call(t)},isBlob:function(t){return"[object Blob]"===$.call(t)},isFunction:tt,isStream:function(t){return K(t)&&tt(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:et,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,r=arguments.length;n<r;n++)et(arguments[n],i);return e},deepMerge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]="object"==typeof i?t({},i):i}for(var n=0,r=arguments.length;n<r;n++)et(arguments[n],i);return e},extend:function(t,e,i){return et(e,(function(e,n){t[n]=i&&"function"==typeof e?Q(e,i):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function nt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var rt=function(t,e,i){if(!e)return t;var n;if(i)n=i(e);else if(it.isURLSearchParams(e))n=e.toString();else{var r=[];it.forEach(e,(function(t,e){null!=t&&(it.isArray(t)?e+="[]":t=[t],it.forEach(t,(function(t){it.isDate(t)?t=t.toISOString():it.isObject(t)&&(t=JSON.stringify(t)),r.push(nt(e)+"="+nt(t))})))})),n=r.join("&")}if(n){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function st(){this.handlers=[]}st.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},st.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},st.prototype.forEach=function(t){it.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var ot=st,at=function(t,e,i){return it.forEach(i,(function(i){t=i(t,e)})),t},ut=function(t){return!(!t||!t.__CANCEL__)},lt=function(t,e){it.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))},ht=function(t,e,i,n,r){return function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,i,n,r)},ct=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],dt=it.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=it.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0},ft=it.isStandardBrowserEnv()?{write:function(t,e,i,n,r,s){var o=[];o.push(t+"="+encodeURIComponent(e)),it.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),it.isString(n)&&o.push("path="+n),it.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},_t=function(t){return new Promise((function(e,i){var n=t.data,r=t.headers;it.isFormData(n)&&delete r["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",a=t.auth.password||"";r.Authorization="Basic "+btoa(o+":"+a)}var u,l,h=(u=t.baseURL,l=t.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(u,l):l);if(s.open(t.method.toUpperCase(),rt(h,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var n,r,o,a,u,l="getAllResponseHeaders"in s?(n=s.getAllResponseHeaders(),u={},n?(it.forEach(n.split("\n"),(function(t){if(a=t.indexOf(":"),r=it.trim(t.substr(0,a)).toLowerCase(),o=it.trim(t.substr(a+1)),r){if(u[r]&&ct.indexOf(r)>=0)return;u[r]="set-cookie"===r?(u[r]?u[r]:[]).concat([o]):u[r]?u[r]+", "+o:o}})),u):u):null,h={data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:l,config:t,request:s};!function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(ht("Request failed with status code "+i.status,i.config,null,i.request,i))}(e,i,h),s=null}},s.onabort=function(){s&&(i(ht("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){i(ht("Network Error",t,null,s)),s=null},s.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(ht(e,t,"ECONNABORTED",s)),s=null},it.isStandardBrowserEnv()){var c=ft,d=(t.withCredentials||dt(h))&&t.xsrfCookieName?c.read(t.xsrfCookieName):void 0;d&&(r[t.xsrfHeaderName]=d)}if("setRequestHeader"in s&&it.forEach(r,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:s.setRequestHeader(e,t)})),it.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),t.responseType)try{s.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),i(t),s=null)})),void 0===n&&(n=null),s.send(n)}))},pt={"Content-Type":"application/x-www-form-urlencoded"};function mt(t,e){!it.isUndefined(t)&&it.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var vt,gt={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(vt=_t),vt),transformRequest:[function(t,e){return lt(e,"Accept"),lt(e,"Content-Type"),it.isFormData(t)||it.isArrayBuffer(t)||it.isBuffer(t)||it.isStream(t)||it.isFile(t)||it.isBlob(t)?t:it.isArrayBufferView(t)?t.buffer:it.isURLSearchParams(t)?(mt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):it.isObject(t)?(mt(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};gt.headers={common:{Accept:"application/json, text/plain, */*"}},it.forEach(["delete","get","head"],(function(t){gt.headers[t]={}})),it.forEach(["post","put","patch"],(function(t){gt.headers[t]=it.merge(pt)}));var yt=gt;function Tt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var wt=function(t){return Tt(t),t.headers=t.headers||{},t.data=at(t.data,t.headers,t.transformRequest),t.headers=it.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),it.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||yt.adapter)(t).then((function(e){return Tt(t),e.data=at(e.data,e.headers,t.transformResponse),e}),(function(e){return ut(e)||(Tt(t),e&&e.response&&(e.response.data=at(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},bt=function(t,e){e=e||{};var i={},n=["url","method","params","data"],r=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];it.forEach(n,(function(t){void 0!==e[t]&&(i[t]=e[t])})),it.forEach(r,(function(n){it.isObject(e[n])?i[n]=it.deepMerge(t[n],e[n]):void 0!==e[n]?i[n]=e[n]:it.isObject(t[n])?i[n]=it.deepMerge(t[n]):void 0!==t[n]&&(i[n]=t[n])})),it.forEach(s,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])}));var o=n.concat(r).concat(s),a=Object.keys(e).filter((function(t){return-1===o.indexOf(t)}));return it.forEach(a,(function(n){void 0!==e[n]?i[n]=e[n]:void 0!==t[n]&&(i[n]=t[n])})),i};function xt(t){this.defaults=t,this.interceptors={request:new ot,response:new ot}}xt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=bt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[wt,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)i=i.then(e.shift(),e.shift());return i},xt.prototype.getUri=function(t){return t=bt(this.defaults,t),rt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},it.forEach(["delete","get","head","options"],(function(t){xt.prototype[t]=function(e,i){return this.request(it.merge(i||{},{method:t,url:e}))}})),it.forEach(["post","put","patch"],(function(t){xt.prototype[t]=function(e,i,n){return this.request(it.merge(n||{},{method:t,url:e,data:i}))}}));var kt=xt;function At(t){this.message=t}At.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},At.prototype.__CANCEL__=!0;var St=At;function Pt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new St(t),e(i.reason))}))}Pt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Pt.source=function(){var t;return{token:new Pt((function(e){t=e})),cancel:t}};var Dt=Pt;function Et(t){var e=new kt(t),i=Q(kt.prototype.request,e);return it.extend(i,kt.prototype,e),it.extend(i,e),i}var Ct=Et(yt);Ct.Axios=kt,Ct.create=function(t){return Et(bt(Ct.defaults,t))},Ct.Cancel=St,Ct.CancelToken=Dt,Ct.isCancel=ut,Ct.all=function(t){return Promise.all(t)},Ct.spread=function(t){return function(e){return t.apply(null,e)}};var Rt=Ct,It=Ct;Rt.default=It;var Mt=Rt,Ot="undefined"!=typeof window?window:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:{},Lt=function(t){var e={},i=t.document,n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(n.TweenLite)return n.TweenLite;var r,s,o,a,u,l=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},h=l("com.greensock"),c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),_={},p=function(t,i,r,s){this.sc=_[t]?_[t].sc:[],_[t]=this,this.gsClass=null,this.func=r;var o=[];this.check=function(a){for(var u,h,c,d,f=i.length,m=f;--f>-1;)(u=_[i[f]]||new p(i[f],[])).gsClass?(o[f]=u.gsClass,m--):a&&u.sc.push(this);if(0===m&&r)for(c=(h=("com.greensock."+t).split(".")).pop(),d=l(h.join("."))[c]=this.gsClass=r.apply(r,o),s&&(n[c]=e[c]=d),f=0;f<this.sc.length;f++)this.sc[f].check()},this.check(!0)},m=t._gsDefine=function(t,e,i,n){return new p(t,e,i,n)},v=h._class=function(t,e,i){return e=e||function(){},m(t,[],(function(){return e}),i),e};m.globals=n;var g=[0,0,1,1],y=v("easing.Ease",(function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?g.concat(e):g}),!0),T=y.map={},w=y.register=function(t,e,i,n){for(var r,s,o,a,u=e.split(","),l=u.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=u[l],r=n?v("easing."+s,null,!0):h.easing[s]||{},o=c.length;--o>-1;)a=c[o],T[s+"."+a]=T[a+s]=r[a]=t.getRatio?t:t[a]||new t};for((o=y.prototype)._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},s=(r=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--s>-1;)o=r[s]+",Power"+s,w(new y(null,null,1,s),o,"easeOut",!0),w(new y(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),w(new y(null,null,3,s),o,"easeInOut");T.linear=h.easing.Linear.easeIn,T.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",(function(t){this._listeners={},this._eventTarget=t||this}));(o=b.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var s,o,l=this._listeners[t],h=0;for(this!==a||u||a.wake(),null==l&&(this._listeners[t]=l=[]),o=l.length;--o>-1;)(s=l[o]).c===e&&s.s===i?l.splice(o,1):0===h&&s.pr<r&&(h=o+1);l.splice(h,0,{c:e,s:i,up:n,pr:r})},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var x=t.requestAnimationFrame,k=t.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},S=A();for(s=(r=["ms","moz","webkit","o"]).length;--s>-1&&!x;)x=t[r[s]+"RequestAnimationFrame"],k=t[r[s]+"CancelAnimationFrame"]||t[r[s]+"CancelRequestAnimationFrame"];v("Ticker",(function(t,e){var n,r,s,o,l,h=this,c=A(),f=!(!1===e||!x)&&"auto",_=500,p=33,m=function(t){var e,i,a=A()-S;a>_&&(c+=a-p),S+=a,h.time=(S-c)/1e3,e=h.time-l,(!n||e>0||!0===t)&&(h.frame++,l+=e+(e>=o?.004:o-e),i=!0),!0!==t&&(s=r(m)),i&&h.dispatchEvent("tick")};b.call(h),h.time=h.frame=0,h.tick=function(){m(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return _<1e8;_=t||1e8,p=Math.min(e,_,0)},h.sleep=function(){null!=s&&(f&&k?k(s):clearTimeout(s),r=d,s=null,h===a&&(u=!1))},h.wake=function(t){null!==s?h.sleep():t?c+=-S+(S=A()):h.frame>10&&(S=A()-_+5),r=0===n?d:f&&x?x:function(t){return setTimeout(t,1e3*(l-h.time)+1|0)},h===a&&(u=!0),m(2)},h.fps=function(t){if(!arguments.length)return n;o=1/((n=t)||60),l=this.time+o,h.wake()},h.useRAF=function(t){if(!arguments.length)return f;h.sleep(),f=t,h.fps(n)},h.fps(t),setTimeout((function(){"auto"===f&&h.frame<5&&"hidden"!==(i||{}).visibilityState&&h.useRAF(!1)}),1500)})),(o=h.Ticker.prototype=new h.events.EventDispatcher).constructor=h.Ticker;var P=v("core.Animation",(function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!!e.immediateRender,this.data=e.data,this._reversed=!!e.reversed,q){u||a.wake();var i=this.vars.useFrames?W:q;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));a=P.ticker=new h.Ticker,(o=P.prototype)._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var D=function(){u&&A()-S>2e3&&("hidden"!==(i||{}).visibilityState||!a.lagSmoothing())&&a.wake();var t=setTimeout(D,2e3);t.unref&&t.unref()};D(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-8},o._enabled=function(t,e){return u||a.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(u||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&Q(),this.render(t,e,!1),I.length&&Q())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(u||t||a.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var E=v("core.SimpleTimeline",(function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0}));(o=E.prototype=new P).constructor=E,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},o.rawTime=function(){return u||a.wake(),this._totalTime};var C=v("TweenLite",(function(e,i,n){if(P.call(this,i,n),this.render=C.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:C.selector(e)||e;var r,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?V[C.defaultOverwrite]:"number"==typeof u?u>>0:V[u],(a||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=o=c(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(s=o[r])?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(c(s))):(this._siblings[r]=$(s,this,!1),1===u&&this._siblings[r].length>1&&J(s,this,null,1,this._siblings[r])):"string"==typeof(s=o[r--]=C.selector(s))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===u&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),R=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)};(o=C.prototype=new P).constructor=C,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,C.version="2.1.3",C.defaultEase=o._ease=new y(null,null,1,1),C.defaultOverwrite="auto",C.ticker=a,C.autoSleep=120,C.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},C.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(C.selector=n,n(e)):(i||(i=t.document),i?i.querySelectorAll?i.querySelectorAll(e):i.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var I=[],M={},O=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,L=/[\+-]=-?[\.\d]/,B=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},U=function(t){return(1e3*t|0)/1e3+""},F=function(t,e,i,n){var r,s,o,a,u,l,h,c=[],d=0,f="",_=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(O)||[],s=e.match(O)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),u=s.length,a=0;a<u;a++)h=s[a],f+=(l=e.substr(d,e.indexOf(h,d)-d))||!a?l:",",d+=l.length,_?_=(_+1)%5:"rgba("===l.substr(-5)&&(_=1),h===r[a]||r.length<=a?f+=h:(f&&(c.push(f),f=""),o=parseFloat(r[a]),c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-o)||0,f:0,m:_&&_<4?Math.round:U}),d+=h.length;return(f+=e.substr(d))&&c.push(f),c.setRatio=B,L.test(e)&&(c.end=null),c},N=function(t,e,i,n,r,s,o,a,u){"function"==typeof n&&(n=n(u||0,t));var l=typeof t[e],h="function"!==l?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==i?i:h?o?t[h](o):t[h]():t[e],d="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:c,f:"function"===l,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};if(("number"!=typeof c||"number"!=typeof n&&!d)&&(o||isNaN(c)||!d&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(f.fp=o,f={t:F(c,d?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,a||C.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(c),d||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},H=C._internals={isArray:f,isSelector:R,lazyTweens:I,blobDif:F},j=C._plugins={},z=H.tweenLookup={},G=0,X=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},W=P._rootFramesTimeline=new E,q=P._rootTimeline=new E,Y=30,Q=H.lazyRender=function(){var t,e,i=I.length;for(M={},t=0;t<i;t++)(e=I[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);I.length=0};q._startTime=a.time,W._startTime=a.frame,q._active=W._active=!0,setTimeout(Q,1),P._updateRoot=C.render=function(){var t,e,i;if(I.length&&Q(),q.render((a.time-q._startTime)*q._timeScale,!1,!1),W.render((a.frame-W._startTime)*W._timeScale,!1,!1),I.length&&Q(),a.frame>=Y){for(i in Y=a.frame+(parseInt(C.autoSleep,10)||120),z){for(t=(e=z[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete z[i]}if((!(i=q._first)||i._paused)&&C.autoSleep&&!W._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",P._updateRoot);var $=function(t,e,i){var n,r,s=t._gsTweenID;if(z[s||(t._gsTweenID=s="t"+G++)]||(z[s]={target:t,tweens:[]}),e&&((n=z[s].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return z[s].tweens},Z=function(t,e,i,n){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),(o=C.onOverwrite)&&(s=o(t,e,i,n)),!1!==r&&!1!==s},J=function(t,e,i,n,r){var s,o,a,u;if(1===n||n>=4){for(u=r.length,s=0;s<u;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var l,h=e._startTime+1e-8,c=[],d=0,f=0===e._duration;for(s=r.length;--s>-1;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||K(e,0,f),0===K(a,l,f)&&(c[d++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((f||!a._initted)&&h-a._startTime<=2e-8||(c[d++]=a)));for(s=d;--s>-1;)if(u=(a=c[s])._firstPT,2===n&&a._kill(i,t,e)&&(o=!0),2!==n||!a._firstPT&&a._initted&&u){if(2!==n&&!Z(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},K=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(s/=r)>e?s-e:i&&s===e||!t._initted&&s-e<2e-8?1e-8:(s+=t.totalDuration()/t._timeScale/r)>e+1e-8?0:s-e-1e-8};o._init=function(){var t,e,i,n,r,s,o=this.vars,a=this._overwrittenProps,u=this._duration,l=!!o.immediateRender,h=o.ease,c=this._startAt;if(o.startAt){for(n in c&&(c.render(-1,!0),c.kill()),r={},o.startAt)r[n]=o.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=C.to(this.target||{},0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(o.runBackwards&&0!==u)if(c)c.render(-1,!0),c.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},o)X[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==o.lazy,i.immediateRender=l,this._startAt=C.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,o.easeParams):T[h]||C.defaultEase:C.defaultEase,o.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&C._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,i,n,r,s){var o,a,u,l,h,c;if(null==e)return!1;for(o in M[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,e),this.vars)if(c=this.vars[o],X[o])c&&(c instanceof Array||c.push&&f(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(j[o]&&(l=new j[o])._onInitTween(e,this.vars[o],this,s)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[o]=N.call(this,e,o,"get",c,o,0,null,this.vars.stringFilter,s);return r&&this._kill(r,e)?this._initProps(e,i,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&J(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(M[e._gsTweenID]=!0),u)},o.render=function(t,e,i){var n,r,s,o,a=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-8&&t>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-8||1e-8===l&&"isPause"!==this.data)&&l!==t&&(i=!0,l>1e-8&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||l===t?t:1e-8);else if(t<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===u&&l>0)&&(r="onReverseComplete",n=this._reversed),t>-1e-8?t=0:t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(1e-8!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||l===t?t:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/u,c=this._easeType,d=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===d?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:t/u<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===u&&1e-8===this._rawPrevTime&&1e-8!==o&&(this._rawPrevTime=0)))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:C.selector(e)||e;var n,r,s,o,a,u,l,h,c,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,_=this._firstPT;if((f(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(C.onOverwrite||this.vars.onOverwrite)){for(s in l)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!Z(this,i,e,c))return!1}for(s in l)(o=a[s])&&(d&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,u=!0),o.pg&&o.t._kill(l)&&(u=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&_&&this._enabled(!1,!1)}}return u},o.invalidate=function(){this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(t,!1,!1!==this.vars.lazy)),this},o._enabled=function(t,e){if(u||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=$(n[i],this,!0);else this._siblings=$(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&C._onPluginEvent(t?"_onEnable":"_onDisable",this)},C.to=function(t,e,i){return new C(t,e,i)},C.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new C(t,e,i)},C.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new C(t,e,n)},C.delayedCall=function(t,e,i,n,r){return new C(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},C.set=function(t,e){return new C(t,0,e)},C.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,s;if(t="string"!=typeof t?t:C.selector(t)||t,(f(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(C.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=$(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},C.killTweensOf=C.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=C.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var tt=v("plugins.TweenPlugin",(function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=tt.prototype}),!0);if(o=tt.prototype,tt.version="1.19.0",tt.API=2,o._firstPT=null,o._addTween=N,o.setRatio=B,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},C._onPluginEvent=function(t,e){var i,n,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},tt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===tt.API&&(j[(new t[e])._propName]=t[e]);return!0},m.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){tt.call(this,i,n),this._overwriteProps=r||[]}),!0===t.global),a=o.prototype=new tt(i);for(e in a.constructor=o,o.API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,tt.activate([o]),o},r=t._gsQueue){for(s=0;s<r.length;s++)r[s]();for(o in _)_[o].func||t.console.log("GSAP encountered missing dependency: "+o)}return u=!1,C}(Ot),Bt=Ot.GreenSockGlobals,Ut=Bt.com.greensock,Ft=Ut.core.SimpleTimeline,Nt=Ut.core.Animation,Ht=Bt.Ease,jt=Bt.Linear;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   *
   * @author: Jack Doyle, jack@greensock.com
   */Bt.Power1,Bt.Power2,Bt.Power3,Bt.Power4,Bt.TweenPlugin,Ut.events.EventDispatcher;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */
Ot._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var t=function(t){Ft.call(this,t);var e,i,n=this.vars;for(i in this._labels={},this.autoRemoveChildren=!!n.autoRemoveChildren,this.smoothChildTiming=!!n.smoothChildTiming,this._sortChildren=!0,this._onUpdate=n.onUpdate,n)e=n[i],r(e)&&-1!==e.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(e));r(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},e=Lt._internals,i=t._internals={},n=e.isSelector,r=e.isArray,s=e.lazyTweens,o=e.lazyRender,a=Ot._gsDefine.globals,u=function(t){var e,i={};for(e in t)i[e]=t[e];return i},l=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i],e):r[i%r.length];delete t.cycle},h=i.pauseCallback=function(){},c=function(t,e,i,n){var r="immediateRender";return r in e||(e[r]=!(i&&!1===i[r]||n)),e},d=function(t){if("function"==typeof t)return t;var e="object"==typeof t?t:{each:t},i=e.ease,n=e.from||0,r=e.base||0,s={},o=isNaN(n),a=e.axis,u={center:.5,end:1}[n]||0;return function(t,l,h){var c,d,f,_,p,m,v,g,y,T=(h||e).length,w=s[T];if(!w){if(!(y="auto"===e.grid?0:(e.grid||[1/0])[0])){for(v=-1/0;v<(v=h[y++].getBoundingClientRect().left)&&y<T;);y--}for(w=s[T]=[],c=o?Math.min(y,T)*u-.5:n%y,d=o?T*u/y-.5:n/y|0,v=0,g=1/0,m=0;m<T;m++)f=m%y-c,_=d-(m/y|0),w[m]=p=a?Math.abs("y"===a?_:f):Math.sqrt(f*f+_*_),p>v&&(v=p),p<g&&(g=p);w.max=v-g,w.min=g,w.v=T=e.amount||e.each*(y>T?T-1:a?"y"===a?T/y:y:Math.max(y,T/y))||0,w.b=T<0?r-T:r}return T=(w[t]-w.min)/w.max,w.b+(i?i.getRatio(T):T)*w.v}},f=t.prototype=new Ft;return t.version="2.1.3",t.distribute=d,f.constructor=t,f.kill()._gc=f._forcingPlayhead=f._hasPause=!1,f.to=function(t,e,i,n){var r=i.repeat&&a.TweenMax||Lt;return e?this.add(new r(t,e,i),n):this.set(t,i,n)},f.from=function(t,e,i,n){return this.add((i.repeat&&a.TweenMax||Lt).from(t,e,c(0,i)),n)},f.fromTo=function(t,e,i,n,r){var s=n.repeat&&a.TweenMax||Lt;return n=c(0,n,i),e?this.add(s.fromTo(t,e,i,n),r):this.set(t,n,r)},f.staggerTo=function(e,i,r,s,o,a,h,c){var f,_,p=new t({onComplete:a,onCompleteParams:h,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),m=d(r.stagger||s),v=r.startAt,g=r.cycle;for("string"==typeof e&&(e=Lt.selector(e)||e),n(e=e||[])&&(e=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i}(e)),_=0;_<e.length;_++)f=u(r),v&&(f.startAt=u(v),v.cycle&&l(f.startAt,e,_)),g&&(l(f,e,_),null!=f.duration&&(i=f.duration,delete f.duration)),p.to(e[_],i,f,m(_,e[_],e));return this.add(p,o)},f.staggerFrom=function(t,e,i,n,r,s,o,a){return i.runBackwards=!0,this.staggerTo(t,e,c(0,i),n,r,s,o,a)},f.staggerFromTo=function(t,e,i,n,r,s,o,a,u){return n.startAt=i,this.staggerTo(t,e,c(0,n,i),r,s,o,a,u)},f.call=function(t,e,i,n){return this.add(Lt.delayedCall(0,t,e,i),n)},f.set=function(t,e,i){return this.add(new Lt(t,0,c(0,e,null,!0)),i)},t.exportRoot=function(e,i){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var n,r,s,o,a=new t(e),u=a._timeline;for(null==i&&(i=!0),u._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=u._time,s=u._first;s;)o=s._next,i&&s instanceof Lt&&s.target===s.vars.onComplete||((r=s._startTime-s._delay)<0&&(n=1),a.add(s,r)),s=o;return u.add(a,0),n&&a.totalDuration(),a},f.add=function(e,i,n,s){var o,a,u,l,h,c;if("number"!=typeof i&&(i=this._parseTimeOrLabel(i,0,!0,e)),!(e instanceof Nt)){if(e instanceof Array||e&&e.push&&r(e)){for(n=n||"normal",s=s||0,o=i,a=e.length,u=0;u<a;u++)r(l=e[u])&&(l=new t({tweens:l})),this.add(l,o),"string"!=typeof l&&"function"!=typeof l&&("sequence"===n?o=l._startTime+l.totalDuration()/l._timeScale:"start"===n&&(l._startTime-=l.delay())),o+=s;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,i);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=Lt.delayedCall(0,e)}if(Ft.prototype.add.call(this,e,i),(e._time||!e._duration&&e._initted)&&(o=(this.rawTime()-e._startTime)*e._timeScale,(!e._duration||Math.abs(Math.max(0,Math.min(e.totalDuration(),o)))-e._totalTime>1e-5)&&e.render(o,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(c=(h=this).rawTime()>e._startTime;h._timeline;)c&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},f.remove=function(t){if(t instanceof Nt){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?Nt._rootFramesTimeline:Nt._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&r(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},f._remove=function(t,e){return Ft.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},f.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},f.insert=f.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},f.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},f.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},f.addPause=function(t,e,i,n){var r=Lt.delayedCall(0,h,i,n||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},f.removeLabel=function(t){return delete this._labels[t],this},f.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},f._parseTimeOrLabel=function(t,e,i,n){var s,o;if(n instanceof Nt&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&r(n)))for(o=n.length;--o>-1;)n[o]instanceof Nt&&n[o].timeline===this&&this.remove(n[o]);if(s="number"!=typeof t||e?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-s:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=s);else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=s+e:e:this._labels[t]+e;e=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,i):s}return Number(t)+e},f.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},f.stop=function(){return this.paused(!0)},f.gotoAndPlay=function(t,e){return this.play(t,e)},f.gotoAndStop=function(t,e){return this.pause(t,e)},f.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,a,u,l,h,c,d,f=this._time,_=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,m=this._timeScale,v=this._paused;if(f!==this._time&&(t+=this._time-f),this._hasPause&&!this._forcingPlayhead&&!e){if(t>f)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=this._totalTime=t=h._startTime,d=this._startTime+(this._reversed?this._duration-t:t)/this._timeScale)}if(t>=_-1e-8&&t>=0)this._totalTime=this._time=_,this._reversed||this._hasPausedChild()||(r=!0,u="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>1e-8&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,t=_+1e-4;else if(t<1e-8)if(this._totalTime=this._time=0,t>-1e-8&&(t=0),(0!==f||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(u="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,u="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==f&&this._first||i||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(c=this._time)>=f)for(n=this._first;n&&(a=n._next,c===this._time&&(!this._paused||v));)(n._active||n._startTime<=c&&!n._paused&&!n._gc)&&(h===n&&(this.pause(),this._pauseTime=d),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,c===this._time&&(!this._paused||v));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause(),this._pauseTime=d}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(s.length&&o(),this._callback("onUpdate"))),u&&(this._gc||p!==this._startTime&&m===this._timeScale||(0===this._time||_>=this.totalDuration())&&(r&&(s.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))}},f._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof t&&e._hasPausedChild())return!0;e=e._next}return!1},f.getChildren=function(t,e,i,n){n=n||-9999999999;for(var r=[],s=this._first,o=0;s;)s._startTime<n||(s instanceof Lt?!1!==e&&(r[o++]=s):(!1!==i&&(r[o++]=s),!1!==t&&(o=(r=r.concat(s.getChildren(!0,e,i))).length))),s=s._next;return r},f.getTweensOf=function(t,e){var i,n,r=this._gc,s=[],o=0;for(r&&this._enabled(!0,!0),n=(i=Lt.getTweensOf(t)).length;--n>-1;)(i[n].timeline===this||e&&this._contains(i[n]))&&(s[o++]=i[n]);return r&&this._enabled(!1,!0),s},f.recent=function(){return this._recent},f._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},f.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},f._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},f.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},f.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return Nt.prototype.invalidate.call(this)},f._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return Ft.prototype._enabled.call(this,t,e)},f.totalTime=function(t,e,i){this._forcingPlayhead=!0;var n=Nt.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},f.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},f.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this,s=r._last,o=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&r._sortChildren&&!s._paused&&!r._calculatingDuration?(r._calculatingDuration=1,r.add(s,s._startTime-s._delay),r._calculatingDuration=0):o=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,r._timeline.smoothChildTiming&&(r._startTime+=s._startTime/r._timeScale,r._time-=s._startTime,r._totalTime-=s._startTime,r._rawPrevTime-=s._startTime),r.shiftChildren(-s._startTime,!1,-9999999999),o=0),(i=s._startTime+s._totalDuration/s._timeScale)>n&&(n=i),s=e;r._duration=r._totalDuration=n,r._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},f.paused=function(t){if(!1===t&&this._paused)for(var e=this._first;e;)e._startTime===this._time&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return Nt.prototype.paused.apply(this,arguments)},f.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===Nt._rootFramesTimeline},f.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},t}),!0);var zt=Bt.TimelineLite;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */Ot._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var t=function(t){zt.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},e=Lt._internals,i=e.lazyTweens,n=e.lazyRender,r=Ot._gsDefine.globals,s=new Ht(null,null,1,0),o=t.prototype=new zt;return o.constructor=t,o.kill()._gc=!1,t.version="2.1.3",o.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),zt.prototype.invalidate.call(this)},o.addCallback=function(t,e,i,n){return this.add(Lt.delayedCall(0,t,i,n),e)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},o.removePause=function(t){return this.removeCallback(zt._internals.pauseCallback,t)},o.tweenTo=function(t,e){e=e||{};var i,n,o,a={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},u=e.repeat&&r.TweenMax||Lt;for(n in e)a[n]=e[n];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new u(this,i,a),a.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||i!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||o,e.onStartParams||[])},o},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var s,o,a,u,l,h,c,d,f,_=this._time,p=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,v=this._totalTime,g=this._startTime,y=this._timeScale,T=this._rawPrevTime,w=this._paused,b=this._cycle;if(_!==this._time&&(t+=this._time-_),t>=p-1e-8&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,u="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-8||T<0||1e-8===T)&&T!==t&&this._first&&(l=!0,T>1e-8&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-8,this._yoyo&&1&this._cycle?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,t>-1e-8&&(t=0),(0!==_||0===m&&1e-8!==T&&(T>0||t<0&&T>=0)&&!this._locked)&&(u="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,u="onReverseComplete"):T>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-8,0===t&&o)for(s=this._first;s&&0===s._startTime;)s._duration||(o=!1),s=s._next;t=0,this._initted||(l=!0)}else 0===m&&T<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,this._cycle&&this._cycle===this._totalTime/h&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&1&this._cycle&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time));if(this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>_||this._repeat&&b!==this._cycle)for(s=this._first;s&&s._startTime<=t&&!c;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(c=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!c;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(c=s),s=s._prev;c&&(f=this._startTime+(this._reversed?this._duration-c._startTime:c._startTime)/this._timeScale,c._startTime<m&&(this._time=this._rawPrevTime=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==b&&!this._locked){var x=this._yoyo&&0!=(1&b),k=x===(this._yoyo&&0!=(1&this._cycle)),A=this._totalTime,S=this._cycle,P=this._rawPrevTime,D=this._time;if(this._totalTime=b*m,this._cycle<b?x=!x:this._totalTime+=m,this._time=_,this._rawPrevTime=0===m?T-1e-4:T,this._cycle=b,this._locked=!0,_=x?0:m,this.render(_,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=S,this._locked=!1,this._callback("onRepeat")),_!==this._time)return;if(k&&(this._cycle=b,this._locked=!0,_=x?m+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=D,this._totalTime=A,this._cycle=S,this._rawPrevTime=P}if(this._time!==_&&this._first||r||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=_)for(s=this._first;s&&(a=s._next,d===this._time&&(!this._paused||w));)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(c===s&&(this.pause(),this._pauseTime=f),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,r):s.render((t-s._startTime)*s._timeScale,e,r)),s=a;else for(s=this._last;s&&(a=s._prev,d===this._time&&(!this._paused||w));){if(s._active||s._startTime<=_&&!s._paused&&!s._gc){if(c===s){for(c=s._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,r),c=c._prev;c=null,this.pause(),this._pauseTime=f}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,r):s.render((t-s._startTime)*s._timeScale,e,r)}s=a}this._onUpdate&&(e||(i.length&&n(),this._callback("onUpdate"))),u&&(this._locked||this._gc||g!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(i.length&&n(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))}else v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.getActive=function(t,e,i){var n,r,s=[],o=this.getChildren(t||null==t,e||null==t,!!i),a=0,u=o.length;for(n=0;n<u;n++)(r=o[n]).isActive()&&(s[a++]=r);return s},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort((function(t,e){return t.time-e.time})),e},o.invalidate=function(){return this._locked=!1,zt.prototype.invalidate.call(this)},o.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},o.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(zt.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,n=this._cycle,r=n*(i+this._repeatDelay);return t>i&&(t=i),this.totalTime(this._yoyo&&1&n?i-t+r:this._repeat?t+r:t,e)},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},t}),!0);var Gt=Bt.TimelineMax,Xt=(r((function(t,e){var i;t.exports=((i=function(){var t=0,e=document.createElement("div");function n(t){return e.appendChild(t.dom),t}function r(i){for(var n=0;n<e.children.length;n++)e.children[n].style.display=n===i?"block":"none";t=i}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",(function(i){i.preventDefault(),r(++t%e.children.length)}),!1);var s=(performance||Date).now(),o=s,a=0,u=n(new i.Panel("FPS","#0ff","#002")),l=n(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=n(new i.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){s=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(l.update(t-s,200),o+1e3<=t&&(u.update(1e3*a/(t-o),100),o=t,a=0,h)){var e=performance.memory;h.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){s=this.end()},domElement:e,setMode:r}}).Panel=function(t,e,i){var n=1/0,r=0,s=Math.round,o=s(window.devicePixelRatio||1),a=80*o,u=48*o,l=3*o,h=2*o,c=3*o,d=15*o,f=74*o,_=30*o,p=document.createElement("canvas");p.width=a,p.height=u,p.style.cssText="width:80px;height:48px";var m=p.getContext("2d");return m.font="bold "+9*o+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=i,m.fillRect(0,0,a,u),m.fillStyle=e,m.fillText(t,l,h),m.fillRect(c,d,f,_),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(c,d,f,_),{dom:p,update:function(u,v){n=Math.min(n,u),r=Math.max(r,u),m.fillStyle=i,m.globalAlpha=1,m.fillRect(0,0,a,d),m.fillStyle=e,m.fillText(s(u)+" "+t+" ("+s(n)+"-"+s(r)+")",l,h),m.drawImage(p,c+o,d,f-o,_,c,d,f-o,_),m.fillRect(c+f-o,d,o,_),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(c+f-o,d,o,s((1-u/v)*_))}}},i)})),{});Xt.Vector=y,Xt.Vector2=T,Xt.Vector3=w,Xt.Matrix4=b,Xt.Clock=C,Xt.Event=P,Xt.Container=I,Xt.Sprite=O,Lt.defaultEase=jt.easeNone,Xt.TWEEN=Gt;var Vt={};Vt.sys=function t(){return t.pixel=window.devicePixelRatio||2,t.width=document.body.clientWidth,t.height=document.body.clientHeight,t.ratio=t.width/t.height,t}(),Vt.canvas=function t(e,i){if(t.main||document.body.appendChild(t.main=document.createElement("canvas")),"main"==e)return t.main;var n=document.createElement("canvas");return e>0&&(n.width=e),i>0&&(n.height=i),n},Vt.context=Vt.canvas("main").getContext("webgl"),Vt.render=function(t,e,i){t.emit("draw",e,i),t.morph&&H[t.morph]&&((!t.builder||t.needUpdate||t.builder.destroyed)&&(t.builder=new H[t.morph](t,e),t.builder.createBuffer(e),t.builder.createTexture(e,t.texture),i.add(t.builder)),t.builder.updateTexture(e,t.texture),e.shader.blend(),e.shader.transform(t.matrix),t.builder.draw(e),i.use(t.builder))},Vt.req=Mt,Vt.random=A,Vt.time=new k,Vt.image=new B(new q),Vt.audio=new U(new Y),Vt.touch=new E,Vt.collision=new S,Vt.clock=new C,Vt.stage=new M,Vt.dirty=new R(600),Vt.run=function(t){var e,i,n,r,s,o,a,u,l=t.width,h=t.height,c=t.interval,d=(e=Vt.context.canvas,i=Vt.sys.width,n=Vt.sys.height,r=i,s=0,o=n,a=0,(u=i/n)<.4?(a=(n-(o=i/750*1334))/2,u=750/1334):u>.8&&(s=(i-(r=n/1334*750))/2,u=750/1334),e.style.position="absolute",e.style.top=a+"px",e.style.left=s+"px",e.style.width=r+"px",e.style.height=o+"px",{x:s,y:a,width:r,height:o,ratio:u});h||(h=l/d.ratio),Vt.stage.width=Vt.context.canvas.width=l,Vt.stage.height=Vt.context.canvas.height=h,Vt.touch.size.set(l/d.width,h/d.height),Vt.touch.offset.set(d.x,d.y),W(!("ontouchstart"in window))(Vt.touch),Vt.touch.on("touchEnd",(function(t){if(!(t.long>200||t.distance>12)){var e=t.clone().multiplyMatrix4(Vt.stage.matrix);Vt.collision.Recursive(Vt.stage,e)}})),Vt.stage.matrix.setOrtho(0,l,h,0,0,1),Vt.context.viewport(0,0,l,h);var f=Vt.context;f.clearColor(0,0,0,1),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.shader=new j(f),f.useProgram(f.shader.program),Vt.clock.on("tick",(function(){Vt.dirty.tick();var t=[];Vt.stage.pushTo(t);for(var e=0,i=t.length;e<i;e++)Vt.render(t[e],Vt.context,Vt.dirty);Vt.dirty.dispose(Vt.context)})),Vt.clock.run(c||1e3/60),Vt.run=function(){}},document.body.style.background="green",Vt.sprite=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(e.texture=t),"string"==typeof e.texture&&(e.texture=Vt.image.get(e.texture)),new O(e)};var Wt=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=a(this,u(n).call(this,i))).width=i.width||300,e.height=i.height||150,e.realWidth=i.realWidth||300,e.realHeight=i.realHeight||150,e.maxWidth=Math.min(e.width-e.realWidth,0),e.maxHeight=Math.min(e.height-e.realHeight,0),e}return h(n,e),i(n,[{key:"touchMoveX",value:function(t){var e=this.x;return this.x=Math.min(Math.max(this.x+t,this.maxWidth),0),this.x!=e}},{key:"touchMoveY",value:function(t){var e=this.y;return this.y=Math.min(Math.max(this.y+t,this.maxHeight),0),this.y!=e}}]),n}(I),qt=function(e){function n(e){var i;return t(this,n),(i=a(this,u(n).call(this))).container=e,i.on("create",(function(){Vt.touch.on("touchMove",this.touchMove,this)})),i.on("destroy",(function(){Vt.touch.off("touchMove",this.touchMove,this)})),i.invertMatrix=new b,i.invertMatrixId=0,i.on("draw",(function(t,e){var i=this.getWorldVector(new w),n=i.x,r=i.y,s=(n+1)*Vt.stage.width/2,o=(r+1)*Vt.stage.height/2-this.container.height;t.enable(t.SCISSOR_TEST),t.scissor(s,o,this.container.width,this.container.height);var a=[];this.container.pushTo(a);for(var u=0,l=a.length;u<l;u++)Vt.render(a[u],t,Vt.dirty);t.disable(t.SCISSOR_TEST)})),i.on("check",(function(t){t.push(this)})),i}return h(n,e),i(n,[{key:"updateTransformInvert",value:function(){this.invertMatrixId!=this.transformId&&(this.invertMatrix.invert(this.matrix),this.invertMatrixId=this.transformId)}},{key:"checkPoint",value:function(t){return this.updateTransformInvert(),t.multiplyMatrix4(this.invertMatrix),t.x>=0&&t.y>=0&&t.x<=this.container.width&&t.y<=this.container.height}},{key:"touchTap",value:function(t){var e=t.add(this.container.x,-this.container.y).multiplyMatrix4(this.container.matrix);Vt.collision.Recursive(this.container,e)}},{key:"touchMove",value:function(t){var e=t.clone();this.checkPoint(e.multiplyMatrix4(Vt.stage.matrix))&&(this.container.touchMoveX(t.tick.x),this.container.touchMoveY(t.tick.y))}}]),n}(I);Vt.scroll=function(t,e){var i=new Wt(e||{height:300,realHeight:600});return i.add(t),i.parent=new qt(i),i.parent};var Yt=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.fillStyle=i.fillStyle||"#FFFFFF",this.strokeStyle=i.strokeStyle||"#000000",this.lineWidth=i.lineWidth||0,this.family=i.family||"icanvas",this.size=i.size||36,this.weight=i.weight||!1,this.align=i.align||"center",this.baseline=i.baseline||"middle",this.wrapWidth=i.wrapWidth||-1,i.lineHeight>0?(this.lineHeight=i.lineHeight,this.autoLineHeight=!1):(this.lineHeight=this.size,this.autoLineHeight=!0),this.icons=i.icons,this.needUpdate=!0}return i(e,[{key:"getAttrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.lineWidth=this.lineWidth,t.family=this.family,t.size=this.size,t.weight=this.weight,t}},{key:"getTags",value:function(t,e){var i={};return t.replace(/\<(fillStyle|strokeStyle|lineWidth|family|weight|size|i)\=(\S+?)\>/g,(function(t,n,r,s){if("i"==n){if(!e[r])return t;i[s]={action:n,arg:e[r],length:t.length-1}}else i[s]={action:n,arg:"@"==r?family[n]:r,length:t.length-1};return t})),i}},{key:"getFamily",value:function(t){return t.size+"px "+t.family+(t.weight?" bold":"")}},{key:"getStructure",value:function(t,e,i,n){e.font=this.getFamily(n);for(var r={width:this.wrapWidth,height:0,contents:[{width:0,height:this.lineHeight,contents:[]}]},s=0,o=t.length;s<o;s++){var a=t[s];if(i[s]){var u=i[s];s+=u.length,"i"!=u.action?(n[u.action]=u.arg,e.font=this.getFamily(n)):this.checkSize(r,u.arg.width,u.arg.height),r.contents[0].contents.push(u)}else if("\n"===a)this.addLine(r);else{var l=e.measureText(a).width;this.checkSize(r,l,n.size),r.contents[0].contents.push({value:a,width:l,height:n.size})}}return r.height+=r.contents[0].height,r.contents[0].width>r.width&&(r.width=r.contents[0].width),r}},{key:"checkSize",value:function(t,e,i){var n=t.contents;this.wrapWidth>=0&&n[0].width+e>this.wrapWidth&&this.addLine(t),this.autoLineHeight&&i>n[0].height&&(n[0].height=i),n[0].width+=e}},{key:"addLine",value:function(t){var e=t.contents;t.height+=e[0].height,e[0].width>t.width&&(t.width=e[0].width),t.contents.unshift({width:0,height:this.lineHeight,contents:[]})}},{key:"compute",value:function(t,e){if(!e)return t.width=t.height=1,void(this.needUpdate=!1);var i=this.getTags(e,this.icons),n=this.getAttrs(),r=this.getStructure(e,t,i,n);this.getAttrs(n),t.canvas.width=r.width,t.canvas.height=r.height,t.font=this.getFamily(n),t.fillStyle=n.fillStyle,t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,t.textAlign="left",t.textBaseline="top";for(var s=r.width,o=0,a=r.contents.length-1;a>=0;a--){for(var u=r.contents[a],l=u.width,h=u.height,c=u.contents,d=.5*(s-l),f=0;f<c.length;f++){var _=c[f];if(_.value)t.fillText(_.value,d,o+.5*(h-_.height)),d+=_.width;else if("i"==_.action){var p=_.arg,m=o+.5*(h-p.height);t.drawImage(p,d,m,p.width,p.height),d+=p.width}else"fillStyle"==_.action||"strokeStyle"==_.action||"lineWidth"==_.action?(n[_.action]=_.arg,t[_.action]=_.arg):(n[_.action]=_.arg,t.font=this.getFamily(n))}o+=h}this.needUpdate=!1}}]),e}(),Qt=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t(this,n),!(e=a(this,u(n).call(this,i))).texture||!e.texture.getContext)throw"\b\bcanvas纹理不存在";if(!i.text)throw"富文本计算器不存在";return e.text=i.text,e.needUpdateValue=!1,e.on("draw",e.refresh),e}return h(n,e),i(n,[{key:"refresh",value:function(){(this.needUpdateValue||this.text.needUpdate)&&(this.texture.context||(this.texture.context=this.texture.getContext("2d")),this.text.compute(this.texture.context,this.value),this.text.needUpdate=!1,this.needUpdateValue=!1,this.texture.needUpdate=!0,this.width=this.texture.width,this.height=this.texture.height)}},{key:"value",get:function(){return this._value},set:function(t){var e=""+t;e!=this._value&&(this._value=e,this.needUpdateValue=!0)}}]),n}(O);Vt.text=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.texture=Vt.canvas(),e.text=new Yt(t);var i=new Qt(e);return i.value=t.value||"",t.value&&i.refresh(),i};var $t=function(e){function i(e){var n,r;return t(this,i),(n=r=a(this,u(i).call(this)),g(o(r),"Bar",Vt.sprite("load/bar").setPosition(0,500)),n).add(Vt.sprite("load/cloud"),r.Bar,r.Desc),r.on("loading",(function(t){r.Bar.Progress=t.progress})),e.extend(o(r)),r}return h(i,e),i}(Xt.Container),Zt=function(e){function n(){var e;return t(this,n),e=a(this,u(n).call(this,{texture:Vt.image.get("play/enemy")})),g(o(e),"Animation",new Xt.TWEEN({paused:!0}).to(o(e),3,{y:Vt.stage.height}).set(o(e),{visible:!1})),e.on("destroy",(function(){return e.Animation.kill()})),e}return h(n,e),i(n,[{key:"Reset",value:function(){return this.x=Vt.random(Vt.stage.width),this.y=0,this.Animation.play(0),this.visible=!0,this}}]),n}(Xt.Sprite),Jt=function(e){function n(){var e,i;t(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return i=a(this,(e=u(n)).call.apply(e,[this].concat(s))),g(o(i),"_Slow",!0),g(o(i),"Total",1),i}return h(n,e),i(n,[{key:"Collision",value:function(t){for(var e=0,i=0;i<this.children.length;i++){var n=this.children[i];if(n.visible&&(e++,n.y>=Vt.stage.height&&n.Reset(),n.updateTransform(),Vt.collision.InComponent(n,t)))return Vt.stage.go("Home")}e<this.Total&&this.Send()}},{key:"Send",value:function(){var t=this.children.find((function(t){return!t.visible}));t||this.add(t=new Zt),t.Animation.timeScale(this.Slow?.1:1),t.Reset()}},{key:"Slow",set:function(t){t?this.children.forEach((function(t){return t.Animation.timeScale(.1)})):this.children.forEach((function(t){return t.Animation.timeScale(1)})),this._Slow=t},get:function(){return this._Slow}}]),n}(Xt.Container),Kt=function(e){function n(){var e;return t(this,n),(e=a(this,u(n).call(this,{scaleX:.3,scaleY:.3,texture:Vt.image.get("play/bullet")}))).on("check",(function(){this.y-=this.parent.Slow?1:10,this.y<0&&(this.visible=!1)})),e}return h(n,e),i(n,[{key:"Collision",value:function(t){if(this.visible)for(var e=this.getWorldVector(new Xt.Vector2),i=0;i<t.length;i++)if(t[i].visible&&Vt.collision.InComponent(t[i],e))return t[i].visible=!1,this.visible=!1,Vt.audio.get("boom").play(),Vt.stage.children[0].emit("Boom",this.x,this.y)}}]),n}(Xt.Sprite),te=function(e){function n(){var e,i;t(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return i=a(this,(e=u(n)).call.apply(e,[this].concat(s))),g(o(i),"Slow",!0),i}return h(n,e),i(n,[{key:"Send",value:function(t,e){var i=this.children.find((function(t){return!t.visible}));i||this.add(i=new Kt),i.x=t,i.y=e-35,i.visible=!0,i.updateTransform(),Vt.audio.get("bullet").play()}},{key:"Collision",value:function(t){for(var e=0;e<this.children.length;e++)this.children[e].Collision(t)}}]),n}(Xt.Container),ee=function(e){function i(){var e;return t(this,i),e=a(this,u(i).call(this)),g(o(e),"Background1",Vt.sprite("play/bg",{width:Vt.stage.width,height:Vt.stage.height,x:Vt.stage.center})),g(o(e),"Background2",Vt.sprite("play/bg",{width:Vt.stage.width,height:Vt.stage.height,x:Vt.stage.center,y:Vt.stage.height})),e.add(e.Background1,e.Background2),e.on("check",(function(){this.y++,this.y>=Vt.stage.middle&&(this.y=-Vt.stage.middle)})),e}return h(i,e),i}(Xt.Container),ie=function(e){function i(){var e;return t(this,i),e=a(this,u(i).call(this,{scaleX:5,scaleY:5})),g(o(e),"State",20),g(o(e),"Textures",Array.apply(null,{length:19}).map((function(t,e){return"play/explosion"+(e+1)}))),e.off("check"),e.on("check",(function(t){this.State>=this.Textures.length||(this.texture=Vt.image.get(this.Textures[this.State]),t.push(this),this.State++)})),e}return h(i,e),i}(Xt.Sprite),ne=function(e){function n(){return t(this,n),a(this,u(n).apply(this,arguments))}return h(n,e),i(n,[{key:"Boom",value:function(t,e){var i=this.children.find((function(t){return t.State>=t.Textures.length}));i||this.add(i=new ie),i.x=t,i.y=e,i.State=0}}]),n}(Xt.Container),re=function(e){function n(){var e,i;return t(this,n),(e=i=a(this,u(n).call(this)),g(o(i),"Background",new ee),g(o(i),"Player",Vt.sprite("play/hero",{x:Vt.stage.center,y:Vt.stage.height-200})),g(o(i),"Enemys",new Jt),g(o(i),"Bullets",new te),g(o(i),"Booms",new ne),g(o(i),"Animation",new Xt.TWEEN({repeat:-1}).addCallback((function(){return i.Bullets.Send(i.Player.x,i.Player.y)}),.2)),g(o(i),"Level",new Xt.TWEEN({repeat:-1}).addCallback((function(){return i.Enemys.Total++}),30)),e).add(i.Background,i.Player,i.Enemys,i.Bullets,i.Booms),(new Xt.Container).setPosition(-i.Player.width/3,-i.Player.height/3).put(i.Player),(new Xt.Container).setPosition(i.Player.width/3,-i.Player.height/3).put(i.Player),i.Animation.timeScale(.1),i.Level.timeScale(.1),i.Bullets.Slow=!0,i.Enemys.Slow=!0,i.on("create",(function(){Vt.audio.get("bgm").play(),Vt.audio.get("bgm").loop(),Vt.touch.on("touchStart",this.TouchStart,this),Vt.touch.on("touchMove",this.TouchMove,this),Vt.touch.on("touchEnd",this.TouchEnd,this)})),i.on("destroy",(function(){Vt.audio.get("bgm").stop(),Vt.touch.off("touchStart",this.TouchStart,this),Vt.touch.off("touchMove",this.TouchMove,this),Vt.touch.off("touchEnd",this.TouchEnd,this),this.Animation.kill(),this.Level.kill()})),i.on("Boom",i.Booms.Boom,i.Booms),i.on("check",(function(){this.Enemys.Collision(this.Player.getWorldVector(new Xt.Vector2(-60,-40))),this.Enemys.Collision(this.Player.getWorldVector(new Xt.Vector2(60,-40))),this.Bullets.Collision(this.Enemys.children)})),i}return h(n,e),i(n,[{key:"TouchStart",value:function(t){this.Animation.timeScale(1),this.Level.timeScale(1),this.Bullets.Slow=!1,this.Enemys.Slow=!1,Vt.collision.InComponent(this.Player,Vt.stage.getWorldVector(t,!0))&&(this.Player.Moving=!0)}},{key:"TouchMove",value:function(t){this.Player.Moving&&(this.Player.x=t.x,this.Player.y=t.y)}},{key:"TouchEnd",value:function(t){this.Animation.timeScale(.1),this.Level.timeScale(.1),this.Bullets.Slow=!0,this.Enemys.Slow=!0,this.Player.Moving=!1}}]),n}(Xt.Container),se=function(e){function n(){var e;t(this,n),e=a(this,u(n).call(this)),g(o(e),"Background",Vt.sprite("play/bg").setPosition(Vt.stage.width/2,Vt.stage.height/2).setSize(Vt.stage.width,Vt.stage.height)),g(o(e),"Play",Vt.sprite("play/Common").setClip(Vt.image.get("play/Common").sprite.button).setSize(200,100).setPosition(-200,-100)),g(o(e),"Rank",Vt.sprite("play/Common").setClip(Vt.image.get("play/Common").sprite.button).setSize(200,100).setPosition(200,-100)),g(o(e),"Share",Vt.sprite("play/Common").setClip(Vt.image.get("play/Common").sprite.button).setSize(200,100).setPosition(-200,100)),g(o(e),"Audio",Vt.sprite("play/Common").setClip(Vt.image.get("play/Common").sprite.button).setSize(200,100).setPosition(200,100)),Vt.text({fillStyle:"#ff0000",icons:{s:Vt.image.get("load/shadow")},value:"开始游戏<i=s>\n富文<size=16>本<i=s>测<fillStyle=#FFFFFF>试"}).put(e.Play),e.Play.touchTap=function(){Vt.stage.go(new re)},Vt.text({size:20,fillStyle:"#00ff00",value:"排行榜"}).put(e.Rank),e.Rank.touchTap=function(){},Vt.text({size:36,fillStyle:"#00ff00",value:"分享"}).put(e.Share),e.Share.touchTap=function(){};var i=Vt.text({size:26,value:Vt.audio.mute?"声音:关":"声音:开"}).put(e.Audio);e.Audio.touchTap=function(){return Vt.audio.mute=!Vt.audio.mute,i.value=Vt.audio.mute?"声音:关":"声音:开","refresh"},e.add(e.Background),e.Background.add(e.Play,e.Rank,e.Share,e.Audio);var r=Vt.sprite("play/Common").setClip(Vt.image.get("play/Common").sprite.button).setSize(200,100).setPosition(0,300);r.touchTap=function(t){};var s=Vt.scroll(r).setPosition(100,100),l=new Xt.Container({x:100,y:100});return l.add(s),e.add(l),e.touchTap=function(){l.x+=100},e}return h(n,e),i(n,[{key:"create",value:function(){Vt.audio.get("home").play()}},{key:"destroy",value:function(){Vt.audio.get("home").stop()}}]),n}(Xt.Container),oe=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";t(this,e),g(this,"Name","default_default"),g(this,"Data",null),this.Name=i+"_"+n}return i(e,[{key:"Get",value:function(t){return void 0===t?this.Data:this.Data?this.Data[t]:void 0}},{key:"Set",value:function(t,e){return this.Data&&(this.Data[t]=e),this}},{key:"Add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.Data[t]+=e,this}},{key:"GetString",value:function(){return JSON.stringify(this.Data)}},{key:"SetString",value:function(t){try{this.Data=JSON.parse(t)}catch(t){this.Data=null}return this}},{key:"Execute",value:function(t){var e=t(this.Data,this);return e&&(this.Data=e),this}},{key:"SetStorage",value:function(){var t,e,i,n=this;return(t={key:this.Name,data:this.GetString()},e=t.key,i=t.data,window.localStorage.setItem(e,i),Promise.resolve()).then((function(){return n.Data}))}},{key:"GetStorage",value:function(t){var e,i=this;return(e=this.Name,Promise.resolve({data:window.localStorage.getItem(e)})).catch((function(t){return t})).then((function(e){return i.SetString(e.data,t)}))}},{key:"DelStorage",value:function(){var t,e=this;return(t=this.Name,window.localStorage.removeItem(t),Promise.resolve()).then((function(){return e.SetString()}))}}]),e}(),ae=function(e){function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;if(t(this,n),i=a(this,u(n).call(this,e,r)),g(o(i),"Data",[]),s){var l=s instanceof oe?s.Data:s;l&&i.Merge(l)}return i}return h(n,e),i(n,[{key:"Merge",value:function(t){return this.Data=this.Data.concat(t),this}},{key:"MergeTo",value:function(t){return t.concat(this.Data)}},{key:"SetString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.Data;return d(u(n.prototype),"SetString",this).call(this,t),!this.Data instanceof Array&&(this.Data=[]),e&&(this.Data=i.concat(this.Data)),this}},{key:"Insert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return-1==e?this.Data.push(t):0==e?this.Data.unshift(t):this.Data.splice(e,0,t),this}},{key:"length",get:function(){return this.Data.length}},{key:"keys",get:function(){return Object.keys(this.Data)}}]),n}(oe),ue=function(e){function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;if(t(this,n),i=a(this,u(n).call(this,e,r)),g(o(i),"Data",{}),s){var l=s instanceof oe?s.Data:s;l&&i.Merge(l)}return i}return h(n,e),i(n,[{key:"MergeTo",value:function(t){return Object.assign(t,this.Data)}},{key:"Merge",value:function(t){return this.Data=Object.assign(this.Data||{},t||{}),this}},{key:"SetString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.Data;return d(u(n.prototype),"SetString",this).call(this,t),"object"!=s(this.Data)&&(this.Data={}),e&&(this.Data=Object.assign(i,this.Data)),this}}]),n}(oe),le=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";t(this,e),g(this,"Name","default"),g(this,"Data",{}),this.Name=i}return i(e,[{key:"Map",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]instanceof ue||(this.Data[t]=new ue(this.Name,t,this.Data[t])),this.Data[t]}},{key:"Arr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]instanceof ae||(this.Data[t]=new ae(this.Name,t,this.Data[t])),this.Data[t]}},{key:"Table",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[t]||(this.Data[t]=new oe(this.Name,t)),this.Data[t]}},{key:"MergeMap",value:function(t,e){return this.Map(t).Merge(e)}},{key:"MergeArr",value:function(t,e){return this.Arr(t).Merge(e)}},{key:"GetString",value:function(){for(var t=arguments.length?arguments:Object.keys(this.Data),e={},i=0;i<t.length;i++)e[t[i]]=this.Data[t[i]].GetString();return JSON.stringify(e)}},{key:"SetString",value:function(t){var e=this;try{t=JSON.parse(t)}catch(t){return this}return Object.keys(t).forEach((function(i){e.Data[i]=e.Table(i).SetString(t[i])})),this}}]),e}();var he=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t(this,n),(e=a(this,u(n).call(this))).name=i,e.full=r||0,e.current=s,e}return h(n,e),i(n,[{key:"progress",get:function(){return this._full?this._current/this._full:1}}]),i(n,[{key:"full",set:function(t){this._full=t,this.emit("loading")}},{key:"current",set:function(t){this._current=t,this.emit("loading")},get:function(){return this._current}}]),n}(Xt.Event),ce=function(e){function n(){var e;return t(this,n),(e=a(this,u(n).call(this))).loading=null,e.progresses=[],e}return h(n,e),i(n,[{key:"add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.progresses.length,r=new he(t,e,i);return this.progresses.push(r),this.tagNext(n),r}},{key:"tagNext",value:function(t){var e=this;if(this.loading)return this.loading.emit("loading");for(var i=function(t){var i=e.progresses[t];if(i.finish)return"continue";e.loading=i,i.on("loading",(function(){return e.emit("loading",i)})),i.once("finish",(function(){e.loading=null,i.finish=!0,i.off("loading"),e.tagNext(t)}))},n=t;n<this.progresses.length;n++)i(n)}},{key:"extendLoading",value:function(t){this.emit("loading",t)}},{key:"extend",value:function(t){var e=this;this.on("loading",this.extendLoading,t),t.once("destroy",(function(){return e.off("loading",e.extendLoading,t)})),this.loading&&this.loading.emit("loading",this.loading)}},{key:"destroy",value:function(){this.off("loading"),this.loading=null,this.progresses.length=0,this.emit("finish")}}]),n}(Xt.Event);function de(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r={};return Object.keys(t).forEach((function(s){if("_"==s){if(-1==n.indexOf(t[s]))return;var o=i.slice(0,-1),a=e+i.slice(0,-1)+"."+t[s];r[o]=a}else if("string"==typeof t[s]){if(-1==n.indexOf(t[s]))return;var u=i+s,l=e+i+s+"."+t[s];r[u]=l}else Object.assign(r,de(t[s],e,i+s+"/",n))})),r}Vt.stage.set($t,se),Vt.data=new le("global_production"),Vt.data.Map("Setting").Merge({Audio:!0,Shock:!0}),Vt.run({width:750,interval:1e3/60});var fe=new ce;Promise.all([Promise.all([Vt.image.loads(de({load:{bar:"png",cloud:"png",shadow:"png",shadowpx:"png"},share:"png"},"resource/local/","",["png","jpg"])),Vt.data.Map("Setting").GetStorage(!0).then((function(){return Vt.audio.mute=!Vt.data.Map("Setting").Get("Audio")}))]),Promise.resolve(fe.add("资源包下载",100)).then((function(t){return e="resource/remote",function(e){return t.current=e}(100),Promise.resolve({assetsUrl:e,resourceMap:{audio:{bgm:"mp3",boom:"mp3",bullet:"mp3",home:"mp3"},modal:{add:"png",close:"png",title:"png"},play:{Common:"png",bg:"jpg",bullet:"png",enemy:"png",explosion1:"png",explosion10:"png",explosion11:"png",explosion12:"png",explosion13:"png",explosion14:"png",explosion15:"png",explosion16:"png",explosion17:"png",explosion18:"png",explosion19:"png",explosion2:"png",explosion3:"png",explosion4:"png",explosion5:"png",explosion6:"png",explosion7:"png",explosion8:"png",explosion9:"png",hero:"png"}}});var e})).then((function(t){var e=de(t.resourceMap,t.assetsUrl+"/","",["png","jpg"]),i=fe.add("图片预读",Object.keys(e).length),n=de(t.resourceMap.audio,t.assetsUrl+"/audio/","",["mp3"]),r=fe.add("音频加载",Object.keys(n).length);return Promise.all([Vt.image.loads(e,"",(function(){return i.current++})),Vt.audio.loads(n,"",(function(){return r.current++}))])})).then((function(){Vt.image.get("play/Common").sprite={button:{x:121,y:7.3,width:37,height:21.7}}}))]).then((function(){return fe.destroy()})).then((function(){return Vt.stage.go("Home")})).catch((function(t){}))}();
