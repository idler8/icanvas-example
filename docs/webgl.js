!function(){"use strict";var i=function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")};function _defineProperties(i,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}var n=function _createClass(i,n,r){return n&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),i},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(i,n){return i(n={exports:{}},n.exports),n.exports}var s=createCommonjsModule((function(i){function _typeof(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?i.exports=_typeof=function _typeof(i){return typeof i}:i.exports=_typeof=function _typeof(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(n)}i.exports=_typeof}));var o=function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i};var a=function _possibleConstructorReturn(i,n){return!n||"object"!==s(n)&&"function"!=typeof n?o(i):n},u=createCommonjsModule((function(i){function _getPrototypeOf(n){return i.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)},_getPrototypeOf(n)}i.exports=_getPrototypeOf})),l=createCommonjsModule((function(i){function _setPrototypeOf(n,r){return i.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,n){return i.__proto__=n,i},_setPrototypeOf(n,r)}i.exports=_setPrototypeOf}));var h=function _inherits(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),n&&l(i,n)};var c=function _superPropBase(i,n){for(;!Object.prototype.hasOwnProperty.call(i,n)&&null!==(i=u(i)););return i},d=createCommonjsModule((function(i){function _get(n,r,s){return"undefined"!=typeof Reflect&&Reflect.get?i.exports=_get=Reflect.get:i.exports=_get=function _get(i,n,r){var s=c(i,n);if(s){var o=Object.getOwnPropertyDescriptor(s,n);return o.get?o.get.call(r):o.value}},_get(n,r,s||n)}i.exports=_get})),f=createCommonjsModule((function(i){function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}function _construct(n,r,s){return isNativeReflectConstruct()?i.exports=_construct=Reflect.construct:i.exports=_construct=function _construct(i,n,r){var s=[null];s.push.apply(s,n);var o=new(Function.bind.apply(i,s));return r&&l(o,r.prototype),o},_construct.apply(null,arguments)}i.exports=_construct}));var _=function _arrayWithoutHoles(i){if(Array.isArray(i)){for(var n=0,r=new Array(i.length);n<i.length;n++)r[n]=i[n];return r}};var p=function _iterableToArray(i){if(Symbol.iterator in Object(i)||"[object Arguments]"===Object.prototype.toString.call(i))return Array.from(i)};var m=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var v=function _toConsumableArray(i){return _(i)||p(i)||m()};var g=function _defineProperty(i,n,r){return n in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i},y=function(){function Vector(){if(i(this,Vector),this.elements=[],arguments.length)for(var n=0;n<arguments.length;n++)this.elements[n]=arguments[n]}return n(Vector,[{key:"length",get:function get(){return this.elements?this.elements.length:0}}]),n(Vector,[{key:"same",value:function same(i){for(var n=0;n<this.length;n++)this.elements[n]=i;return this}},{key:"typeTo",value:function typeTo(i){return this.elements=new i(this.elements),this}},{key:"normalize",value:function normalize(){for(var i=0,n=0,r=this.length;n<r;n++)i+=this.elements[n]*this.elements[n];if(!(i=Math.sqrt(i)))return this.same(0);if(1==i)return this;for(var s=0;s<this.length;s++)this.elements[s]/=i;return this}},{key:"set",value:function set(){if(!arguments.length)return this;for(var i=0;i<arguments.length;i++)this.elements[i]=arguments[i];return this}},{key:"setApply",value:function setApply(i){return i===this?this:this.set.apply(this,i.elements||i)}},{key:"clone",value:function clone(){return(new this.constructor).setApply(this)}},{key:"equals",value:function equals(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n&&this.length!=i.length)return!1;for(var r=n?this.length:Math.min(this.length,i.length),s=0;s<r;s++)if(this[s]!=i[s])return!1;return!0}},{key:"equalsApply",value:function equalsApply(){return this.equals(arguments)}},{key:"add",value:function add(){if(!arguments.length)return this;for(var i=0;i<arguments.length;i++)this.elements[i]+=arguments[i];return this}},{key:"addApply",value:function addApply(i){return this.add.apply(this,i.elements||i)}},{key:"sub",value:function sub(){if(!arguments.length)return this;for(var i=0;i<arguments.length;i++)this.elements[i]-=arguments[i];return this}},{key:"subApply",value:function subApply(i){return this.sub.apply(this,i.elements||i)}},{key:"mult",value:function mult(){if(!arguments.length)return this;for(var i=0;i<arguments.length;i++)this.elements[i]*=arguments[i];return this}},{key:"multApply",value:function multApply(i){return this.mult.apply(this,i.elements||i)}},{key:"div",value:function div(){if(!arguments.length)return this;for(var i=0;i<arguments.length;i++)this.elements[i]/=arguments[i];return this}},{key:"divApply",value:function divApply(i){return this.div.apply(this,i.elements||i)}}]),Vector}(),T=function(r){function Vector2(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(this,Vector2),a(this,u(Vector2).call(this,n,r))}return h(Vector2,r),n(Vector2,[{key:"rotate",value:function rotate(i){var n=Math.sin(i),r=Math.cos(i),s=r*this.x-n*this.y;return this.y=n*this.x+r*this.y,this.x=s,this}},{key:"dist",value:function dist(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.x-i,s=this.y-n;return Math.sqrt(r*r+s*s)}},{key:"distVector",value:function distVector(i){return this.dist(i.x,i.y)}},{key:"angle",value:function angle(i){var n=this.dist()*i.dist(),r=this.x*i.x+this.y*i.y;return Math.acos(r/n)}},{key:"inPolygon",value:function inPolygon(i){if(arguments.length>1&&(i=arguments),i.length<3)return!1;for(var n=!1,r=0,s=i.length-1;r<i.length;s=r++){var o=i[r].x,a=i[r].y,u=i[s].x,l=i[s].y,h=a>this.y!=l>this.y&&this.x<(u-o)*(this.y-a)/(l-a)+o;h&&(n=!n)}return n}},{key:"multiplyMatrix4",value:function multiplyMatrix4(i){var n=i.elements,r=this.elements,s=1/(n[3]*r[0]+n[7]*r[1]+n[15]);return this.set((n[0]*r[0]+n[4]*r[1]+n[12])*s,(n[1]*r[0]+n[5]*r[1]+n[13])*s)}},{key:"x",get:function get(){return this.elements[0]},set:function set(i){this.elements[0]=i}},{key:"y",get:function get(){return this.elements[1]},set:function set(i){this.elements[1]=i}}]),Vector2}(y),w=function(r){function Vector3(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(this,Vector3),a(this,u(Vector3).call(this,n,r,s))}return h(Vector3,r),n(Vector3,[{key:"dist",value:function dist(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=this.x-i,o=this.y-n,a=this.z-r;return Math.sqrt(s*s+o*o+a*a)}},{key:"distVector",value:function distVector(i){return this.dist(i.x,i.y,i.z)}},{key:"angle",value:function angle(i){var n=this.dist()*i.dist(),r=this.x*i.x+this.y*i.y+this.z*i.z;return Math.acos(r/n)}},{key:"multiplyMatrix4",value:function multiplyMatrix4(i){var n=this.elements,r=i.elements,s=1/(r[3]*n[0]+r[7]*n[1]+r[11]*n[2]+r[15]);return this.set((r[0]*n[0]+r[4]*n[1]+r[8]*n[2]+r[12])*s,(r[1]*n[0]+r[5]*n[1]+r[9]*n[2]+r[13])*s,(r[2]*n[0]+r[6]*n[1]+r[10]*n[2]+r[14])*s)}},{key:"x",get:function get(){return this.elements[0]},set:function set(i){this.elements[0]=i}},{key:"y",get:function get(){return this.elements[1]},set:function set(i){this.elements[1]=i}},{key:"z",get:function get(){return this.elements[2]},set:function set(i){this.elements[2]=i}}]),Vector3}(y),b=function(r){function Matrix4(n){var r;return i(this,Matrix4),r=a(this,u(Matrix4).call(this,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),n&&r.setApply(n),r}return h(Matrix4,r),n(Matrix4,[{key:"identity",value:function identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"multiply",value:function multiply(i){var n,r,s,o,a,u,l,h;if(r=this.elements,s=this.elements,r===(o=i.elements))for(o=new Float32Array(16),n=0;n<16;++n)o[n]=r[n];for(n=0;n<4;n++)a=s[n],u=s[n+4],l=s[n+8],h=s[n+12],r[n]=a*o[0]+u*o[1]+l*o[2]+h*o[3],r[n+4]=a*o[4]+u*o[5]+l*o[6]+h*o[7],r[n+8]=a*o[8]+u*o[9]+l*o[10]+h*o[11],r[n+12]=a*o[12]+u*o[13]+l*o[14]+h*o[15];return this}},{key:"multiplyVector3",value:function multiplyVector3(i){var n=this.elements,r=i.elements,s=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+n[12],o=r[0]*n[1]+r[1]*n[5]+r[2]*n[9]+n[13],a=r[0]*n[2]+r[1]*n[6]+r[2]*n[10]+n[14];return i.x=s,i.y=o,i.z=a,i}},{key:"transpose",value:function transpose(){var i=this.elements;return this.set(i[0],i[4],i[8],i[12],i[1],i[5],i[9],i[13],i[2],i[6],i[10],i[14],i[3],i[7],i[11],i[15])}},{key:"invert",value:function invert(i){var n,r,s,o,a;if(r=i?i.elements||i:this.elements,s=this.elements,(o=Matrix4.invertHandle||(Matrix4.invertHandle=[]))[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],o[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],o[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],o[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],o[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],o[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],o[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],o[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],o[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],o[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],o[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],o[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],o[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],o[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],o[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],o[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0===(a=r[0]*o[0]+r[1]*o[4]+r[2]*o[8]+r[3]*o[12]))return this;for(a=1/a,n=0;n<16;n++)s[n]=o[n]*a;return this}},{key:"setOrtho",value:function setOrtho(i,n,r,s,o,a){var u,l,h,c;if(i===n||r===s||o===a)throw"null frustum";return l=1/(n-i),h=1/(s-r),c=1/(a-o),(u=this.elements)[0]=2*l,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*h,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=-2*c,u[11]=0,u[12]=-(n+i)*l,u[13]=-(s+r)*h,u[14]=-(a+o)*c,u[15]=1,this}},{key:"setScale",value:function setScale(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.set(i,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1)}},{key:"scale",value:function scale(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.mult(i,i,i,i,n,n,n,n,r,r,r,r)}},{key:"setTranslate",value:function setTranslate(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.set(1,0,0,0,0,1,0,0,0,0,1,0,i,n,r,1)}},{key:"translate",value:function translate(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=this.elements;return s[12]+=s[0]*i+s[4]*n+s[8]*r,s[13]+=s[1]*i+s[5]*n+s[9]*r,s[14]+=s[2]*i+s[6]*n+s[10]*r,s[15]+=s[3]*i+s[7]*n+s[11]*r,this}},{key:"setRotate",value:function setRotate(i,n,r,s){var o,a,u,l,h,c,d,f,_,p,m;return this.elements,o=Math.sin(i),a=Math.cos(i),0!==n&&0===r&&0===s?(n<0&&(o=-o),this.set(1,0,0,0,0,a,-o,0,0,o,a,0,0,0,0,1)):0===n&&0!==r&&0===s?(r<0&&(o=-o),this.set(a,0,-o,0,0,1,0,0,o,0,a,0,0,0,0,1)):0===n&&0===r&&0!==s?(s<0&&(o=-o),this.set(a,o,0,0,-o,a,0,0,0,0,1,0,0,0,0,1)):(1!==(u=Math.sqrt(n*n+r*r+s*s))&&(n*=l=1/u,r*=l,s*=l),h=1-a,c=n*r,d=r*s,f=s*n,_=n*o,p=r*o,m=s*o,this.set(n*n*h+a,c*h+m,f*h-p,0,c*h-m,r*r*h+a,d*h+_,0,f*h+p,d*h-_,s*s*h+a,0,0,0,0,1))}},{key:"rotate",value:function rotate(i,n,r,s){return this.multiply((new Matrix4).setRotate(i,n,r,s))}}]),Matrix4}(y);function hex2rgb(i,n){return(n=n||[])[0]=(i>>16&255)/255,n[1]=(i>>8&255)/255,n[2]=(255&i)/255,n}function rgb2hex(i){return(255*i[0]<<16)+(255*i[1]<<8)+(255*i[2]|0)}var x=function(r){function Color(n){var r;return i(this,Color),r=a(this,u(Color).call(this,1,1,1,1)),void 0!==n&&r.setApply(arguments.length>1?arguments:n),r}return h(Color,r),n(Color,[{key:"setApply",value:function setApply(i){return"string"==typeof i?this.string=i:"number"==typeof i?this.number=i:d(u(Color.prototype),"setApply",this).call(this,i),this}},{key:"number",set:function set(i){hex2rgb(i,this.elements)},get:function get(){return rgb2hex(this.elements)}},{key:"string",set:function set(i){hex2rgb(function string2hex(i){return"string"==typeof i&&"#"===i[0]&&(i=i.substr(1)),parseInt(i,16)}(i),this.elements)},get:function get(){return function hex2string(i){return i=i.toString(16),i="000000".substr(0,6-i.length)+i,"#".concat(i)}(rgb2hex(this.elements))}},{key:"red",get:function get(){return this.elements[0]},set:function set(i){this.elements[0]=i}},{key:"green",get:function get(){return this.elements[1]},set:function set(i){this.elements[1]=i}},{key:"blue",get:function get(){return this.elements[2]},set:function set(i){this.elements[2]=i}},{key:"alpha",get:function get(){return this.elements[3]},set:function set(i){this.elements[3]=i}}]),Color}(y),k=["日","一","二","三","四","五","六"],A=function(){function Time(){i(this,Time),this.Date=null}return n(Time,[{key:"Set",value:function Set(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jstimestamp";return i?i instanceof Date?this.Data=i:"object"==s(i)?this.Data=null:"function"==typeof i?this.Set(i(),n):this.Date=i>0?"jstimestamp"==n?new Date(1*i):new Date(1e3*i):"string"==typeof i?new Date(i):null:this.Date=null,this.Date||(this.Date=new Date),this}},{key:"Get",value:function Get(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jstimestamp";switch(this.Date||(this.Date=new Date),n){case"Date":return this.Date;case"timestamp":return parseInt(this.Date.getTime()/1e3);case"jstimestamp":return this.Date.getTime()}return n.replace(/[YmdHisSwWqQ]/g,(function(n){return i[n]}))}},{key:"OneDay",value:function OneDay(i,n,r,s){return this.Set(i,r).Get("Ymd")==this.Set(n,s).Get("Ymd")}},{key:"OneWeek",value:function OneWeek(i,n,r,s){return this.Set(i,r).ToWeek().Get("Ymd")==this.Set(n,s).ToWeek().Get("Ymd")}},{key:"ToWeek",value:function ToWeek(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.Date.setDate(this.Date.getDate()-(this.w||7)+i),this}},{key:"GetWeek",value:function GetWeek(i,n){return this.ToWeek(i).Get(n)}},{key:"Y",get:function get(){return this.Date.getFullYear()}},{key:"m",get:function get(){return("00"+(this.Date.getMonth()+1)).slice(-2)}},{key:"d",get:function get(){return("00"+this.Date.getDate()).slice(-2)}},{key:"H",get:function get(){return("00"+this.Date.getHours()).slice(-2)}},{key:"i",get:function get(){return("00"+this.Date.getMinutes()).slice(-2)}},{key:"s",get:function get(){return("00"+this.Date.getSeconds()).slice(-2)}},{key:"S",get:function get(){return("000"+this.Date.getMilliseconds()).slice(-3)}},{key:"w",get:function get(){return this.Date.getDay()}},{key:"W",get:function get(){return k[this.w]}},{key:"q",get:function get(){return(this.Date.getMonth()+3)/3|0}},{key:"Q",get:function get(){return k[this.q]}}]),Time}(),S=function Random(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Math.random()*i|0)+n};S.To=function(i,n){return S(n-i,i)},(S.Array=function(i){return i[S(i.length)]}).Keys=S.Keys=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!i||!n)return[];for(var r=[],s=Object.keys(i);s.length>0&&r.length<n;)r.push(s.splice(S(s.length),1)[0]);return r},S.Array.Values=S.Values=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!i||!n)return[];for(var r=[],s=Object.keys(i);s.length>0&&r.length<n;){var o=s.splice(S(s.length),1)[0];r.push(i[o])}return r};var P=function(){function Collision(){i(this,Collision),this.TouchHandle=new w}return n(Collision,[{key:"InComponent",value:function InComponent(i,n){return!!i.visible&&(!i.checkPoint||(this.TouchHandle.setApply(n),!!i.checkPoint(this.TouchHandle)||void 0))}},{key:"Recursive",value:function Recursive(i,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"touchTap";if(!i)return!1;if(!(i instanceof Array)){if(!i.visible)return!1;if(i.touchChildren&&i.children.length){var s=this.Recursive(i.children,n,r);if(s)return s}if(!this.InComponent(i,n))return!1;if(!i[r])return i.touchStop;var o=i[r](this.TouchHandle);return void 0===o||o}for(var a=i.length-1;a>=0;a--){var u=this.Recursive(i[a],n,r);if(u)return u}}}]),Collision}(),C=function(){function Event(){i(this,Event),this._events={}}return n(Event,[{key:"listen",value:function listen(){for(var i=0;i<arguments.length;i++)this.on(arguments[i]);return this}},{key:"on",value:function on(i,n,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r||(r=this),n||(n=r[i]),n?(this._events[i]||(this._events[i]=[]),this._events[i].push({fn:n,context:r,once:s}),this):this}},{key:"once",value:function once(i,n,r){return this.on(i,n,r,!0)}},{key:"off",value:function off(i,n,r){if(!this._events[i])return this;r||(r=this);var s=this._events[i].filter((function(i){return i.context!==r&&i.fn!==n}));return s.length?this._events[i]=s:delete this._events[i],this}},{key:"emit",value:function emit(i){if(!this._events[i])return this;for(var n=this._events[i],r=Array.prototype.splice.call(arguments,1),s=0;s<n.length;s++){var o=n[s],a=o.fn,u=o.context,l=o.once;a.apply(u,r),l&&n.splice(s--,1)}return n.length||delete this._events[i],this}}]),Event}(),D=function(r){function TouchEvent(n,r,s,o){var l;return i(this,TouchEvent),(l=a(this,u(TouchEvent).call(this,s,o))).start=new T(s,o),l.tick=new T(0,0),l.begin=l.over=r,l.id=n,l}return h(TouchEvent,r),n(TouchEvent,[{key:"set",value:function set(i,n){return this.tick.set(i-this.x,n-this.y),d(u(TouchEvent.prototype),"set",this).call(this,i,n)}},{key:"long",get:function get(){return this.over-this.begin}},{key:"startX",get:function get(){return this.start.x}},{key:"startY",get:function get(){return this.start.y}},{key:"endX",get:function get(){return this.x}},{key:"endY",get:function get(){return this.y}},{key:"moveX",get:function get(){return this.x-this.start.x}},{key:"moveY",get:function get(){return this.y-this.start.y}},{key:"distance",get:function get(){return this.distVector(this.start)}}]),TouchEvent}(T),R=function(r){function Touch(){var n;return i(this,Touch),(n=a(this,u(Touch).call(this))).size=new T,n.offset=new T,n.touches={},n}return h(Touch,r),n(Touch,[{key:"getX",value:function getX(i){return(i-this.offset.x)*this.size.x}},{key:"getY",value:function getY(i){return(i-this.offset.y)*this.size.y}},{key:"start",value:function start(i){for(var n=Date.now(),r=0,s=i.changedTouches.length;r<s;r++){var o=i.changedTouches[r],a=o.identifier;this.touches[a]=new D(a,n,this.getX(o.clientX),this.getY(o.clientY)),this.emit("touchStart",this.touches[a])}return this}},{key:"move",value:function move(i){for(var n=0,r=i.changedTouches.length;n<r;n++){var s=i.changedTouches[n],o=s.identifier;this.touches[o]&&(this.touches[o].set(this.getX(s.clientX),this.getY(s.clientY)),this.emit("touchMove",this.touches[o]))}return this}},{key:"end",value:function end(i){for(var n=Date.now(),r=0,s=i.changedTouches.length;r<s;r++){var o=i.changedTouches[r],a=o.identifier;this.touches[a]&&(this.touches[a].over=n,this.touches[a].set(this.getX(o.clientX),this.getY(o.clientY),n),this.emit("touchEnd",this.touches[a]),delete this.touches[a])}return this}}]),Touch}(C),E=function(r){function Clock(){var n;return i(this,Clock),(n=a(this,u(Clock).call(this))).time=n.then=n.history=Date.now(),n.interval=1e3/60,n.tick=n.move=0,n}return h(Clock,r),n(Clock,[{key:"step",value:function step(){this.time=Date.now();var i=this.time-this.then;if(i<this.interval)return!1;this.tick=i/this.interval|0;var n=i%this.interval;return this.then=this.time-n,this.move=this.time-this.history,this.history=this.time,!0}},{key:"run",value:function run(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3/60;this.interval=i;var n=this,r=function HandleUpdate(){requestAnimationFrame(HandleUpdate),n.step()&&(n.emit("start"),n.emit("tick"),n.emit("end"))};return requestAnimationFrame(r),this}}]),Clock}(C),M=function(){function Dirty(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;i(this,Dirty),this.collect=[],this.used=[],this.running=!1,this.interval=n,this.tickid=0}return n(Dirty,[{key:"add",value:function add(i){i.destroy&&this.collect.push(i)}},{key:"use",value:function use(i){this.running&&this.used.push(i)}},{key:"dispose",value:function dispose(){var i=this,n=arguments;this.running&&(this.collect.forEach((function(r){-1===i.used.indexOf(r)&&r.destroy.apply(r,n)})),this.collect=[].concat(this.used),this.used.length=0,this.running=!1)}},{key:"tick",value:function tick(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tickid+=i,this.tickid<=this.interval||(this.tickid=0,this.running=!0)}}]),Dirty}(),I=function(r){function Container(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,Container),(n=a(this,u(Container).call(this))).id=Container.id?++Container.id:Container.id=1,n.parent=null,n.children=[],n.touchChildren=!0,n.visible=!(!1===r.visible),n.color=r.color||new x(r.red||1,r.green||1,r.blue||1,r.alpha||1),n.opacity=r.opacity||1,n.zIndex=r.zIndex||0,n.transformParentId=0,n.transformId=1,n.needUpdateTransform=!0,n.matrix=new b,n.position=new T(r.x||0,r.y||0),n.scale=new T(r.scaleX||1,r.scaleY||1),n.angle=r.angle||0,r.radian&&(n.radian=r.radian),n.on("destroy",(function(){for(var i=0;i<this.children.length;i++)this.children[i].emit("destroy")})),n}return h(Container,r),n(Container,[{key:"updateTransform",value:function updateTransform(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.parent){if(i&&this.parent.updateTransform(i),!this.needUpdateTransform&&this.transformParentId==this.parent.transformId)return;this.matrix.setApply(this.parent.matrix)}else{if(!this.needUpdateTransform)return;this.matrix.identity()}this.matrix.translate(this.x,this.y,0),this.matrix.rotate(this.radian,0,0,1),this.matrix.scale(this.scaleX,this.scaleY,1),this.needUpdateTransform=!1,this.transformId++,this.transformParentId=this.parent?this.parent.transformId:0}},{key:"setPosition",value:function setPosition(i,n){return this.x=i,this.y=n,this}},{key:"setScale",value:function setScale(i,n){return this.scaleX=i,this.scaleY=n,this}},{key:"setRadian",value:function setRadian(i){return this.radian=i,this}},{key:"setAngle",value:function setAngle(i){return this.angle=i,this}},{key:"getWorldVector",value:function getWorldVector(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(i=n?i.clone():i).multiplyMatrix4(this.matrix)}},{key:"put",value:function put(i){return this.parent&&this.parent.remove(this),i?(this.emit("create"),i.children.push(this),this.parent=i,this.transformParentId=0,this.emit("created"),this):this}},{key:"add",value:function add(i){if(arguments.length>1)for(var n=0;n<arguments.length;n++)this.add(arguments[n]);else if(i instanceof Array)for(var r=0;r<i.length;r++)this.add(i[r]);else i&&i.put(this);return this}},{key:"remove",value:function remove(i){if(arguments.length>1)for(var n=0;n<arguments.length;n++)this.remove(arguments[n]);else if(i instanceof Array)for(var r=0;r<i.length;r++)this.remove(i[r]);else if(i){i.emit("destroy",this);var s=this.children.indexOf(i);this.children.splice(s,1),i.parent=null,i.emit("destroyed",this)}return this}},{key:"clear",value:function clear(){for(var i=0;i<this.children.length;i++)this.children[i].emit("destroy",this),this.children[i].parent=null,this.children[i].emit("destroyed",this);return this.children.length=0,this}},{key:"pushTo",value:function pushTo(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.visible)return i;if(this.preUpdate&&this.preUpdate(i))return i;this.updateTransform(!1),this._opacity=1==this.opacity?n:this.opacity,i.push(this);for(var r=0,s=this.children.length;r<s;r++)this.children[r].pushTo(i,this._opacity);return i}},{key:"x",get:function get(){return this.position.x},set:function set(i){this.position.x!=i&&(this.position.x=i,this.needUpdateTransform=!0)}},{key:"y",get:function get(){return this.position.y},set:function set(i){this.position.y!=i&&(this.position.y=i,this.needUpdateTransform=!0)}},{key:"scaleX",get:function get(){return this.scale.x},set:function set(i){this.scale.x!=i&&(this.scale.x=i,this.needUpdateTransform=!0)}},{key:"scaleY",get:function get(){return this.scale.y},set:function set(i){this.scale.y!=i&&(this.scale.y=i,this.needUpdateTransform=!0)}},{key:"radian",get:function get(){return this._radian},set:function set(i){i!=this._radian&&(this._radian=i,this.needUpdateTransform=!0)}},{key:"angle",get:function get(){return 180*this.radian/Math.PI},set:function set(i){var n=i*Math.PI/180;n!=this._radian&&(this._radian=n,this.needUpdateTransform=!0)}}]),Container}(C),O=function(r){function Director(n){var r;return i(this,Director),(r=a(this,u(Director).call(this,n))).scenes={},r.needUpdateTransform=!1,r.widthCache={},r.heightCache={},r}return h(Director,r),n(Director,[{key:"getX",value:function getX(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.widthCache[i]||(this.widthCache[i]=this._width*i)}},{key:"getY",value:function getY(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.heightCache[i]||(this.heightCache[i]=this._height*i)}},{key:"set",value:function set(i){if(arguments.length>1)for(var n=0;n<arguments.length;n++)this.set(arguments[n]);else if(i instanceof Array)for(var r=0;r<i.length;r++)this.set(i[r]);else"[object Function]"==Object.prototype.toString.call(i)&&i.constructor&&i.name&&(this.scenes[i.name]=i);return this}},{key:"go",value:function go(i){var n=Object.prototype.toString.call(i);if("[object String]"==n)this.scenes[i]&&this.clear().add(f(this.scenes[i],v(Array.prototype.splice(1))));else if("[object Function]"==n)if(i.constructor)this.clear().add(f(i,v(Array.prototype.splice(1))));else{var r=i.apply(void 0,v(Array.prototype.splice(1)));r instanceof I&&this.clear().add(r)}else"[object Object]"==n&&i instanceof I&&this.clear().add(i);return this}},{key:"width",get:function get(){return this._width},set:function set(i){this._width=i,this.widthCache={}}},{key:"height",get:function get(){return this._height},set:function set(i){this._height=i,this.heightCache={}}},{key:"center",get:function get(){return this.getX(.5)}},{key:"middle",get:function get(){return this.getY(.5)}}]),Director}(I),L=function(r){function Sprite(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,Sprite),(n=a(this,u(Sprite).call(this,r))).morph=r.morph||"Rectangle",n.anchor=new T(r.anchorX||0,r.anchorY||0),n.size=new T(r.width||0,r.height||0),n.staticWidth=!!r.width,n.staticHeight=!!r.height,n.clip=null,n.texture=r.texture,n.invertMatrixId=0,n.invertMatrix=new b,n}return h(Sprite,r),n(Sprite,[{key:"updateTransformInvert",value:function updateTransformInvert(){this.invertMatrixId!=this.transformId&&(this.invertMatrix.invert(this.matrix),this.invertMatrixId=this.transformId)}},{key:"setClip",value:function setClip(i){return this.clip=[i.x,i.y,i.width,i.height],this.needUpdateClip=!0,this.staticWidth||(this.size.x=i.width),this.staticHeight||(this.size.y=i.height),this}},{key:"setSize",value:function setSize(i,n){return this.width=i,this.height=n,this}},{key:"setAnchor",value:function setAnchor(i,n){return this.anchorX=i,this.anchorY=n,this}},{key:"setAnchorSize",value:function setAnchorSize(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.anchorX=this.width*i,this.anchorY=this.height*n,this}},{key:"checkPoint",value:function checkPoint(i){return this.updateTransformInvert(),i.multiplyMatrix4(this.invertMatrix),i.x>=-this.width/2&&i.y>=-this.height/2&&i.x<=this.width/2&&i.y<=this.height/2}},{key:"texture",get:function get(){return this._texture},set:function set(i){(this._texture=i)&&(this.staticWidth||(this.size.x=i.width),this.staticHeight||(this.size.y=i.height))}},{key:"width",set:function set(i){this.size.x=i,this.staticWidth=!0},get:function get(){return this.size.x}},{key:"height",set:function set(i){this.size.y=i,this.staticHeight=!0},get:function get(){return this.size.y}},{key:"anchorX",set:function set(i){this.anchor.x=i},get:function get(){return this.anchor.x}},{key:"anchorY",set:function set(i){this.anchor.y=i},get:function get(){return this.anchor.y}},{key:"left",get:function get(){return-this.size.x/2-this.anchor.x}},{key:"right",get:function get(){return this.size.x/2-this.anchor.x}},{key:"top",get:function get(){return-this.size.y/2-this.anchor.y}},{key:"bottom",get:function get(){return this.size.y/2-this.anchor.y}}]),Sprite}(I),B=function(){function Loader(n){i(this,Loader),this.resources={},this.loader=n}return n(Loader,[{key:"loads",value:function loads(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,o=Object.keys(n);return Promise.all(o.map((function(o){var a=i.load(r+o,n[o]);return s?a.then(s):a})))}},{key:"get",value:function get(i){return this.resources[i]}}]),Loader}(),U=function(){function ImageSource(n){i(this,ImageSource),this.source=n,this.src=n.src,this.sourceId=0,this.width=0,this.height=0,this.texture=null,this.textureId=0,this.forever=!!this.src,this.optimization=!1,this.update()}return n(ImageSource,[{key:"update",value:function update(){this.sourceId++,this.width=this.source.width,this.height=this.source.height}},{key:"getContext",value:function getContext(i){return this.context?this.context:this.source&&this.source.getContext?(this.context=this.source.getContext(i),this.context):void 0}}]),ImageSource}(),F=function(r){function Image(){return i(this,Image),a(this,u(Image).apply(this,arguments))}return h(Image,r),n(Image,[{key:"load",value:function load(i,n){var r=this;return this.loader.load(n).then((function(n){r.resources[i]=new U(n)}))}}]),Image}(B),H=function(r){function Audio(){var n,r;i(this,Audio);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return r=a(this,(n=u(Audio)).call.apply(n,[this].concat(l))),g(o(r),"_mute",!1),r}return h(Audio,r),n(Audio,[{key:"load",value:function load(i,n){var r=this;return this.loader.load(n).then((function(n){return r.resources[i]=n}))}},{key:"mute",get:function get(){return this._mute},set:function set(i){this._mute=i,this.loader.mute(i)}},{key:"volume",set:function set(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loader.volume(i)},get:function get(){return this.loader.volume()}}]),Audio}(B),j={Circle:function Circle(i,n){var r=(i.width+i.height)/20|0,s=2*Math.PI/r,o=.5,a=.5,u=.5,l=.5;i.clip&&(o=i.clip[0]/i.texture.width,a=i.clip[1]/i.texture.height,u=i.clip[2]/i.texture.width/2,l=i.clip[3]/i.texture.height/2),n.push(0,0,o,a);for(var h=0;h<=r;h++){var c=h*s,d=Math.cos(c),f=Math.sin(c);n.push(.5*d,.5*f,u*d+o,l*f+a)}},Rectangle:function Rectangle(i,n){var r=0,s=0,o=1,a=1;i.clip&&(r=i.clip[0]/i.texture.width,s=i.clip[1]/i.texture.height,o=(i.clip[0]+i.clip[2])/i.texture.width,a=(i.clip[1]+i.clip[3])/i.texture.height),n.push(-.5,-.5,r,s,.5,-.5,o,s,-.5,.5,r,a,.5,.5,o,a)}},N={updateRenderMatrix:["transformId","width","height","anchorX","anchorY"],updateVetices:["morph","clip"],updateBlendColor:[],equal:function equal(i,n,r){return this[i].every((function(i){return n[i]===r[i]}))},set:function set(i,n,r){this[i].forEach((function(i){return n[i]=r[i]}))}},z=function(){function Builder(n,r){i(this,Builder),this.compare={},this.vetices=[],this.image=null,this.matrix=new b,this.color=new x}return n(Builder,[{key:"updateTexture",value:function updateTexture(i,n){if(this.image!=n&&(this.image&&!this.image.forever&&(i.deleteTexture(this.image.texture),this.image.texture=null),this.image=n),n){if(n.texture){if(n.textureId==n.sourceId)return;i.bindTexture(i.TEXTURE_2D,n.texture)}else n.texture=i.createTexture(),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n.source),n.optimization&&n.src&&(n.source=null),n.textureId=n.sourceId}}},{key:"updateRenderMatrix",value:function updateRenderMatrix(i,n){N.equal("updateRenderMatrix",this.compare,n)||(this.matrix.setApply(n.matrix),this.matrix.translate(-n.anchorX,-n.anchorY),this.matrix.scale(n.width,n.height),N.set("updateRenderMatrix",this.compare,n))}},{key:"updateVetices",value:function updateVetices(i,n){this.buffer&&N.equal("updateVetices",this.compare,n)||(this.vetices.length=0,j[n.morph]?j[n.morph](n,this.vetices):j.Rectangle(n,this.vetices),this.bufferLength=this.vetices.length/4,this.drawType=i.TRIANGLE_STRIP,this.buffer||(this.buffer=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,this.buffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(this.vetices),i.STATIC_DRAW),N.set("updateVetices",this.compare,n))}},{key:"updateBlendColor",value:function updateBlendColor(i,n){this.color.setApply(n.color),1==this.color.alpha&&(this.color.alpha=n.opacity)}},{key:"update",value:function update(i,n){this.updateTexture(i,n.texture),this.updateRenderMatrix(i,n),this.updateVetices(i,n),this.updateBlendColor(i,n),this.buffer&&(i.shader.texture(n.texture.texture),i.shader.transform(this.matrix),i.shader.blend(this.color),i.shader.buffer(this.buffer,2,2,0,4),i.drawArrays(this.drawType,0,this.bufferLength))}},{key:"destroy",value:function destroy(i){this.buffer&&(i.deleteBuffer(this.buffer),this.buffer=null),this.updateTexture(i)}}]),Builder}();function Render$1(i,n,r){i.render&&i.render(n,r),i.texture&&(i.builder||r.add(i.builder=new z(n,i)),i.builder.update(n,i),r.use(i.builder))}var V=function(r){function WebGLShader(){return i(this,WebGLShader),a(this,u(WebGLShader).apply(this,arguments))}return h(WebGLShader,r),n(WebGLShader,[{key:"buffer",value:function buffer(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,a=this.gl,u=this.attributes;a.BufferRecord!==i&&(a.BufferRecord=i,a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(u.aPosition,n,a.FLOAT,!1,(n+r)*o,s*o),a.enableVertexAttribArray(u.aPosition),a.vertexAttribPointer(u.aTextureCoord,r,a.FLOAT,!1,(n+r)*o,(s+n)*o),a.enableVertexAttribArray(u.aTextureCoord))}},{key:"texture",value:function texture(i){var n=this.gl,r=this.uniforms;n.TextureRecord!==i&&(n.TextureRecord=i,n.bindTexture(n.TEXTURE_2D,i),n.uniform1i(r.uSampler,0))}},{key:"transform",value:function transform(i){var n=this.gl,r=this.uniforms;n.uniformMatrix4fv(r.uModelMatrix,!1,i.elements||i)}},{key:"blend",value:function blend(i){var n=this.gl,r=this.uniforms;i?n.uniform4f(r.uColor,i.elements[0],i.elements[1],i.elements[2],i.elements[3]):n.uniform4f(r.uColor,1,1,1,1)}},{key:"vert",get:function get(){return["attribute vec4 aPosition;","attribute vec2 aTextureCoord;","uniform mat4 uModelMatrix;","varying vec2 vTextureCoord;","void main()","{","gl_Position = uModelMatrix * aPosition;","vTextureCoord = aTextureCoord;","}"].join("\n")}},{key:"frag",get:function get(){return["precision highp float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform vec4 uColor;","void main()","{","vec4 color;","color = texture2D(uSampler,vTextureCoord);","gl_FragColor = uColor * color;","}"].join("\n")}}]),WebGLShader}(function(){function Shader(n){i(this,Shader),this.gl=n,this.attributes={},this.uniforms={},this.createProgram(),this.getActiveAttrib(),this.getActiveUniform()}return n(Shader,[{key:"createShader",value:function createShader(i,n){var r=this.gl,s=r.createShader(r[i]);return r.shaderSource(s,n),r.compileShader(s),r.getShaderParameter(s,r.COMPILE_STATUS)?s:(r.deleteShader(s),null)}},{key:"getActiveAttrib",value:function getActiveAttrib(){for(var i=this.gl,n=this.program,r=this.attributes,s=0,o=i.getProgramParameter(n,i.ACTIVE_ATTRIBUTES);s<o;s++){var a=i.getActiveAttrib(n,s),u=r[a.name]=i.getAttribLocation(n,a.name);i.enableVertexAttribArray(u)}}},{key:"getActiveUniform",value:function getActiveUniform(){for(var i=this.gl,n=this.program,r=this.uniforms,s=0,o=i.getProgramParameter(n,i.ACTIVE_UNIFORMS);s<o;s++){var a=i.getActiveUniform(n,s);r[a.name]=i.getUniformLocation(n,a.name)}}},{key:"createProgram",value:function createProgram(){var i=this.gl,n=i.createProgram();if(i.attachShader(n,this.createShader("VERTEX_SHADER",this.vert)),i.attachShader(n,this.createShader("FRAGMENT_SHADER",this.frag)),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw i.deleteProgram(n),i.deleteShader(n),i.deleteShader(n),"链接程序失败";this.program=n}},{key:"vert",get:function get(){return""}},{key:"frag",get:function get(){return""}}]),Shader}()),G=createCommonjsModule((function(i,n){
/*!
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
!function(){var HowlerGlobal=function(){this.init()};HowlerGlobal.prototype={init:function(){var n=this||i;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var r=this||i;if(n=parseFloat(n),r.ctx||setupAudioContext(),void 0!==n&&n>=0&&n<=1){if(r._volume=n,r._muted)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n,i.ctx.currentTime);for(var s=0;s<r._howls.length;s++)if(!r._howls[s]._webAudio)for(var o=r._howls[s]._getSoundIds(),a=0;a<o.length;a++){var u=r._howls[s]._soundById(o[a]);u&&u._node&&(u._node.volume=u._volume*n)}return r}return r._volume},mute:function(n){var r=this||i;r.ctx||setupAudioContext(),r._muted=n,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(n?0:r._volume,i.ctx.currentTime);for(var s=0;s<r._howls.length;s++)if(!r._howls[s]._webAudio)for(var o=r._howls[s]._getSoundIds(),a=0;a<o.length;a++){var u=r._howls[s]._soundById(o[a]);u&&u._node&&(u._node.muted=!!n||u._muted)}return r},unload:function(){for(var n=this||i,r=n._howls.length-1;r>=0;r--)n._howls[r].unload();return n.usingWebAudio&&n.ctx&&void 0!==n.ctx.close&&(n.ctx.close(),n.ctx=null,setupAudioContext()),n},codecs:function(n){return(this||i)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||i;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(n._canPlayEvent="canplay")}catch(i){n.noAudio=!0}else n.noAudio=!0;try{(new Audio).muted&&(n.noAudio=!0)}catch(i){}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||i,r=null;try{r="undefined"!=typeof Audio?new Audio:null}catch(i){return n}if(!r||"function"!=typeof r.canPlayType)return n;var s=r.canPlayType("audio/mpeg;").replace(/^no$/,""),o=n._navigator&&n._navigator.userAgent.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33;return n._codecs={mp3:!(a||!s&&!r.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!s,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!r.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||i;if(!n._audioUnlocked&&n.ctx){n._audioUnlocked=!1,n.autoUnlock=!1,n._mobileUnloaded||44100===n.ctx.sampleRate||(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var unlock=function(i){for(var r=0;r<n.html5PoolSize;r++)try{var s=new Audio;s._unlocked=!0,n._releaseHtml5Audio(s)}catch(i){n.noAudio=!0}for(r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var o=n._howls[r]._getSoundIds(),a=0;a<o.length;a++){var u=n._howls[r]._soundById(o[a]);u&&u._node&&!u._node._unlocked&&(u._node._unlocked=!0,u._node.load())}n._autoResume();var l=n.ctx.createBufferSource();l.buffer=n._scratchBuffer,l.connect(n.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof n.ctx.resume&&n.ctx.resume(),l.onended=function(){l.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",unlock,!0),document.removeEventListener("touchend",unlock,!0),document.removeEventListener("click",unlock,!0);for(var i=0;i<n._howls.length;i++)n._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",unlock,!0),document.addEventListener("touchend",unlock,!0),document.addEventListener("click",unlock,!0),n}},_obtainHtml5Audio:function(){var n=this||i;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var r=(new Audio).play();return r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)&&r.catch((function(){})),new Audio},_releaseHtml5Audio:function(n){var r=this||i;return n._unlocked&&r._html5AudioPool.push(n),r},_autoSuspend:function(){var n=this;if(n.autoSuspend&&n.ctx&&void 0!==n.ctx.suspend&&i.usingWebAudio){for(var r=0;r<n._howls.length;r++)if(n._howls[r]._webAudio)for(var s=0;s<n._howls[r]._sounds.length;s++)if(!n._howls[r]._sounds[s]._paused)return n;return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout((function(){n.autoSuspend&&(n._suspendTimer=null,n.state="suspending",n.ctx.suspend().then((function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())})))}),3e4),n}},_autoResume:function(){var n=this;if(n.ctx&&void 0!==n.ctx.resume&&i.usingWebAudio)return"running"===n.state&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):"suspended"===n.state?(n.ctx.resume().then((function(){n.state="running";for(var i=0;i<n._howls.length;i++)n._howls[i]._emit("resume")})),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):"suspending"===n.state&&(n._resumeAfterSuspend=!0),n}};var i=new HowlerGlobal,Howl=function(i){i.src&&0!==i.src.length&&this.init(i)};Howl.prototype={init:function(n){var r=this;return i.ctx||setupAudioContext(),r._autoplay=n.autoplay||!1,r._format="string"!=typeof n.format?n.format:[n.format],r._html5=n.html5||!1,r._muted=n.mute||!1,r._loop=n.loop||!1,r._pool=n.pool||5,r._preload="boolean"!=typeof n.preload||n.preload,r._rate=n.rate||1,r._sprite=n.sprite||{},r._src="string"!=typeof n.src?n.src:[n.src],r._volume=void 0!==n.volume?n.volume:1,r._xhrWithCredentials=n.xhrWithCredentials||!1,r._duration=0,r._state="unloaded",r._sounds=[],r._endTimers={},r._queue=[],r._playLock=!1,r._onend=n.onend?[{fn:n.onend}]:[],r._onfade=n.onfade?[{fn:n.onfade}]:[],r._onload=n.onload?[{fn:n.onload}]:[],r._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],r._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],r._onpause=n.onpause?[{fn:n.onpause}]:[],r._onplay=n.onplay?[{fn:n.onplay}]:[],r._onstop=n.onstop?[{fn:n.onstop}]:[],r._onmute=n.onmute?[{fn:n.onmute}]:[],r._onvolume=n.onvolume?[{fn:n.onvolume}]:[],r._onrate=n.onrate?[{fn:n.onrate}]:[],r._onseek=n.onseek?[{fn:n.onseek}]:[],r._onunlock=n.onunlock?[{fn:n.onunlock}]:[],r._onresume=[],r._webAudio=i.usingWebAudio&&!r._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(r),r._autoplay&&r._queue.push({event:"play",action:function(){r.play()}}),r._preload&&r.load(),r},load:function(){var n=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var r=0;r<this._src.length;r++){var s,o;if(this._format&&this._format[r])s=this._format[r];else{if("string"!=typeof(o=this._src[r])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(s=/^data:audio\/([^;,]+);/i.exec(o))||(s=/\.([^.]+)$/.exec(o.split("?",1)[0])),s&&(s=s[1].toLowerCase())}if(s&&i.codecs(s)){n=this._src[r];break}}if(n)return this._src=n,this._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new Sound(this),this._webAudio&&loadBuffer(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(n,r){var s=this,o=null;if("number"==typeof n)o=n,n=null;else{if("string"==typeof n&&"loaded"===s._state&&!s._sprite[n])return null;if(void 0===n&&(n="__default",!s._playLock)){for(var a=0,u=0;u<s._sounds.length;u++)s._sounds[u]._paused&&!s._sounds[u]._ended&&(a++,o=s._sounds[u]._id);1===a?n=null:o=null}}var l=o?s._soundById(o):s._inactiveSound();if(!l)return null;if(o&&!n&&(n=l._sprite||"__default"),"loaded"!==s._state){l._sprite=n,l._ended=!1;var h=l._id;return s._queue.push({event:"play",action:function(){s.play(h)}}),h}if(o&&!l._paused)return r||s._loadQueue("play"),l._id;s._webAudio&&i._autoResume();var c=Math.max(0,l._seek>0?l._seek:s._sprite[n][0]/1e3),d=Math.max(0,(s._sprite[n][0]+s._sprite[n][1])/1e3-c),f=1e3*d/Math.abs(l._rate),_=s._sprite[n][0]/1e3,p=(s._sprite[n][0]+s._sprite[n][1])/1e3;l._sprite=n,l._ended=!1;var setParams=function(){l._paused=!1,l._seek=c,l._start=_,l._stop=p,l._loop=!(!l._loop&&!s._sprite[n][2])};if(!(c>=p)){var m=l._node;if(s._webAudio){var playWebAudio=function(){s._playLock=!1,setParams(),s._refreshBuffer(l);var n=l._muted||s._muted?0:l._volume;m.gain.setValueAtTime(n,i.ctx.currentTime),l._playStart=i.ctx.currentTime,void 0===m.bufferSource.start?l._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,d):l._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,d),f!==1/0&&(s._endTimers[l._id]=setTimeout(s._ended.bind(s,l),f)),r||setTimeout((function(){s._emit("play",l._id),s._loadQueue()}),0)};"running"===i.state?playWebAudio():(s._playLock=!0,s.once("resume",playWebAudio),s._clearTimer(l._id))}else{var playHtml5=function(){m.currentTime=c,m.muted=l._muted||s._muted||i._muted||m.muted,m.volume=l._volume*i.volume(),m.playbackRate=l._rate;try{var o=m.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(s._playLock=!0,setParams(),o.then((function(){s._playLock=!1,m._unlocked=!0,r||(s._emit("play",l._id),s._loadQueue())})).catch((function(){s._playLock=!1,s._emit("playerror",l._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),l._ended=!0,l._paused=!0}))):r||(s._playLock=!1,setParams(),s._emit("play",l._id),s._loadQueue()),m.playbackRate=l._rate,m.paused)return void s._emit("playerror",l._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==n||l._loop?s._endTimers[l._id]=setTimeout(s._ended.bind(s,l),f):(s._endTimers[l._id]=function(){s._ended(l),m.removeEventListener("ended",s._endTimers[l._id],!1)},m.addEventListener("ended",s._endTimers[l._id],!1))}catch(i){s._emit("playerror",l._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=s._src,m.load());var v=window&&window.ejecta||!m.readyState&&i._navigator.isCocoonJS;if(m.readyState>=3||v)playHtml5();else{s._playLock=!0;var listener=function(){playHtml5(),m.removeEventListener(i._canPlayEvent,listener,!1)};m.addEventListener(i._canPlayEvent,listener,!1),s._clearTimer(l._id)}}return l._id}s._ended(l)},pause:function(i){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(i)}}),n;for(var r=n._getSoundIds(i),s=0;s<r.length;s++){n._clearTimer(r[s]);var o=n._soundById(r[s]);if(o&&!o._paused&&(o._seek=n.seek(r[s]),o._rateSeek=0,o._paused=!0,n._stopFade(r[s]),o._node))if(n._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||n._emit("pause",o?o._id:null)}return n},stop:function(i,n){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(i)}}),r;for(var s=r._getSoundIds(i),o=0;o<s.length;o++){r._clearTimer(s[o]);var a=r._soundById(s[o]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,r._stopFade(s[o]),a._node&&(r._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),r._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&r._clearSound(a._node))),n||r._emit("stop",a._id))}return r},mute:function(n,r){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(n,r)}}),s;if(void 0===r){if("boolean"!=typeof n)return s._muted;s._muted=n}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);u&&(u._muted=n,u._interval&&s._stopFade(u._id),s._webAudio&&u._node?u._node.gain.setValueAtTime(n?0:u._volume,i.ctx.currentTime):u._node&&(u._node.muted=!!i._muted||n),s._emit("mute",u._id))}return s},volume:function(){var n,r,s,o=this,a=arguments;if(0===a.length)return o._volume;if(1===a.length||2===a.length&&void 0===a[1]){var u=o._getSoundIds(),l=u.indexOf(a[0]);l>=0?r=parseInt(a[0],10):n=parseFloat(a[0])}else a.length>=2&&(n=parseFloat(a[0]),r=parseInt(a[1],10));if(!(void 0!==n&&n>=0&&n<=1))return(s=r?o._soundById(r):o._sounds[0])?s._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,a)}}),o;void 0===r&&(o._volume=n),r=o._getSoundIds(r);for(var h=0;h<r.length;h++)(s=o._soundById(r[h]))&&(s._volume=n,a[2]||o._stopFade(r[h]),o._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(n,i.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=n*i.volume()),o._emit("volume",s._id));return o},fade:function(n,r,s,o){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(n,r,s,o)}}),a;n=parseFloat(n),r=parseFloat(r),s=parseFloat(s),a.volume(n,o);for(var u=a._getSoundIds(o),l=0;l<u.length;l++){var h=a._soundById(u[l]);if(h){if(o||a._stopFade(u[l]),a._webAudio&&!h._muted){var c=i.ctx.currentTime,d=c+s/1e3;h._volume=n,h._node.gain.setValueAtTime(n,c),h._node.gain.linearRampToValueAtTime(r,d)}a._startFadeInterval(h,n,r,s,u[l],void 0===o)}}return a},_startFadeInterval:function(i,n,r,s,o,a){var u=this,l=n,h=r-n,c=Math.abs(h/.01),d=Math.max(4,c>0?s/c:s),f=Date.now();i._fadeTo=r,i._interval=setInterval((function(){var o=(Date.now()-f)/s;f=Date.now(),l+=h*o,l=Math.max(0,l),l=Math.min(1,l),l=Math.round(100*l)/100,u._webAudio?i._volume=l:u.volume(l,i._id,!0),a&&(u._volume=l),(r<n&&l<=r||r>n&&l>=r)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,u.volume(r,i._id),u._emit("fade",i._id))}),d)},_stopFade:function(n){var r=this._soundById(n);return r&&r._interval&&(this._webAudio&&r._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(r._interval),r._interval=null,this.volume(r._fadeTo,n),r._fadeTo=null,this._emit("fade",n)),this},loop:function(){var i,n,r,s=this,o=arguments;if(0===o.length)return s._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(r=s._soundById(parseInt(o[0],10)))&&r._loop;i=o[0],s._loop=i}else 2===o.length&&(i=o[0],n=parseInt(o[1],10));for(var a=s._getSoundIds(n),u=0;u<a.length;u++)(r=s._soundById(a[u]))&&(r._loop=i,s._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=i,i&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return s},rate:function(){var n,r,s,o=this,a=arguments;if(0===a.length)r=o._sounds[0]._id;else if(1===a.length){var u=o._getSoundIds(),l=u.indexOf(a[0]);l>=0?r=parseInt(a[0],10):n=parseFloat(a[0])}else 2===a.length&&(n=parseFloat(a[0]),r=parseInt(a[1],10));if("number"!=typeof n)return(s=o._soundById(r))?s._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,a)}}),o;void 0===r&&(o._rate=n),r=o._getSoundIds(r);for(var h=0;h<r.length;h++)if(s=o._soundById(r[h])){o.playing(r[h])&&(s._rateSeek=o.seek(r[h]),s._playStart=o._webAudio?i.ctx.currentTime:s._playStart),s._rate=n,o._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(n,i.ctx.currentTime):s._node&&(s._node.playbackRate=n);var c=o.seek(r[h]),d=(o._sprite[s._sprite][0]+o._sprite[s._sprite][1])/1e3-c,f=1e3*d/Math.abs(s._rate);!o._endTimers[r[h]]&&s._paused||(o._clearTimer(r[h]),o._endTimers[r[h]]=setTimeout(o._ended.bind(o,s),f)),o._emit("rate",s._id)}return o},seek:function(){var n,r,s=this,o=arguments;if(0===o.length)r=s._sounds[0]._id;else if(1===o.length){var a=s._getSoundIds(),u=a.indexOf(o[0]);u>=0?r=parseInt(o[0],10):s._sounds.length&&(r=s._sounds[0]._id,n=parseFloat(o[0]))}else 2===o.length&&(n=parseFloat(o[0]),r=parseInt(o[1],10));if(void 0===r)return s;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"seek",action:function(){s.seek.apply(s,o)}}),s;var l=s._soundById(r);if(l){if(!("number"==typeof n&&n>=0)){if(s._webAudio){var h=s.playing(r)?i.ctx.currentTime-l._playStart:0,c=l._rateSeek?l._rateSeek-l._seek:0;return l._seek+(c+h*Math.abs(l._rate))}return l._node.currentTime}var d=s.playing(r);d&&s.pause(r,!0),l._seek=n,l._ended=!1,s._clearTimer(r),s._webAudio||!l._node||isNaN(l._node.duration)||(l._node.currentTime=n);var seekAndEmit=function(){s._emit("seek",r),d&&s.play(r,!0)};if(d&&!s._webAudio){var emitSeek=function(){s._playLock?setTimeout(emitSeek,0):seekAndEmit()};setTimeout(emitSeek,0)}else seekAndEmit()}return s},playing:function(i){if("number"==typeof i){var n=this._soundById(i);return!!n&&!n._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(i){var n=this._duration,r=this._soundById(i);return r&&(n=this._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var n=this,r=n._sounds,o=0;o<r.length;o++)r[o]._paused||n.stop(r[o]._id),n._webAudio||(n._clearSound(r[o]._node),r[o]._node.removeEventListener("error",r[o]._errorFn,!1),r[o]._node.removeEventListener(i._canPlayEvent,r[o]._loadFn,!1),i._releaseHtml5Audio(r[o]._node)),delete r[o]._node,n._clearTimer(r[o]._id);var a=i._howls.indexOf(n);a>=0&&i._howls.splice(a,1);var u=!0;for(o=0;o<i._howls.length;o++)if(i._howls[o]._src===n._src||n._src.indexOf(i._howls[o]._src)>=0){u=!1;break}return s&&u&&delete s[n._src],i.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(i,n,r,s){var o=this["_on"+i];return"function"==typeof n&&o.push(s?{id:r,fn:n,once:s}:{id:r,fn:n}),this},off:function(i,n,r){var s=this["_on"+i],o=0;if("number"==typeof n&&(r=n,n=null),n||r)for(o=0;o<s.length;o++){var a=r===s[o].id;if(n===s[o].fn&&a||!n&&a){s.splice(o,1);break}}else if(i)this["_on"+i]=[];else{var u=Object.keys(this);for(o=0;o<u.length;o++)0===u[o].indexOf("_on")&&Array.isArray(this[u[o]])&&(this[u[o]]=[])}return this},once:function(i,n,r){return this.on(i,n,r,1),this},_emit:function(i,n,r){for(var s=this["_on"+i],o=s.length-1;o>=0;o--)s[o].id&&s[o].id!==n&&"load"!==i||(setTimeout(function(i){i.call(this,n,r)}.bind(this,s[o].fn),0),s[o].once&&this.off(i,s[o].fn,s[o].id));return this._loadQueue(i),this},_loadQueue:function(i){if(this._queue.length>0){var n=this._queue[0];n.event===i&&(this._queue.shift(),this._loadQueue()),i||n.action()}return this},_ended:function(n){var r=n._sprite;if(!this._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(this._ended.bind(this,n),100),this;var s=!(!n._loop&&!this._sprite[r][2]);if(this._emit("end",n._id),!this._webAudio&&s&&this.stop(n._id,!0).play(n._id),this._webAudio&&s){this._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=i.ctx.currentTime;var o=1e3*(n._stop-n._start)/Math.abs(n._rate);this._endTimers[n._id]=setTimeout(this._ended.bind(this,n),o)}return this._webAudio&&!s&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,this._clearTimer(n._id),this._cleanBuffer(n._node),i._autoSuspend()),this._webAudio||s||this.stop(n._id,!0),this},_clearTimer:function(i){if(this._endTimers[i]){if("function"!=typeof this._endTimers[i])clearTimeout(this._endTimers[i]);else{var n=this._soundById(i);n&&n._node&&n._node.removeEventListener("ended",this._endTimers[i],!1)}delete this._endTimers[i]}return this},_soundById:function(i){for(var n=0;n<this._sounds.length;n++)if(i===this._sounds[n]._id)return this._sounds[n];return null},_inactiveSound:function(){this._drain();for(var i=0;i<this._sounds.length;i++)if(this._sounds[i]._ended)return this._sounds[i].reset();return new Sound(this)},_drain:function(){var i=this._pool,n=0,r=0;if(!(this._sounds.length<i)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&n++;for(r=this._sounds.length-1;r>=0;r--){if(n<=i)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),n--)}}},_getSoundIds:function(i){if(void 0===i){for(var n=[],r=0;r<this._sounds.length;r++)n.push(this._sounds[r]._id);return n}return[i]},_refreshBuffer:function(n){return n._node.bufferSource=i.ctx.createBufferSource(),n._node.bufferSource.buffer=s[this._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,i.ctx.currentTime),this},_cleanBuffer:function(n){var r=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),r))try{n.bufferSource.buffer=i._scratchBuffer}catch(i){}return n.bufferSource=null,this},_clearSound:function(n){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var Sound=function(i){this._parent=i,this.init()};Sound.prototype={init:function(){var n=this._parent;return this._muted=n._muted,this._loop=n._loop,this._volume=n._volume,this._rate=n._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,n._sounds.push(this),this.create(),this},create:function(){var n=this._parent,r=i._muted||this._muted||this._parent._muted?0:this._volume;return n._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(r,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=n._src,this._node.preload="auto",this._node.volume=r*i.volume(),this._node.load()),this},reset:function(){var n=this._parent;return this._muted=n._muted,this._loop=n._loop,this._volume=n._volume,this._rate=n._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var n=this._parent;n._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var s={},loadBuffer=function(i){var n=i._src;if(s[n])return i._duration=s[n].duration,void loadSound(i);if(/^data:[^;]+;base64,/.test(n)){for(var r=atob(n.split(",")[1]),o=new Uint8Array(r.length),a=0;a<r.length;++a)o[a]=r.charCodeAt(a);decodeAudioData(o.buffer,i)}else{var u=new XMLHttpRequest;u.open("GET",n,!0),u.withCredentials=i._xhrWithCredentials,u.responseType="arraybuffer",u.onload=function(){var n=(u.status+"")[0];"0"===n||"2"===n||"3"===n?decodeAudioData(u.response,i):i._emit("loaderror",null,"Failed loading audio file with status: "+u.status+".")},u.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete s[n],i.load())},safeXhrSend(u)}},safeXhrSend=function(i){try{i.send()}catch(n){i.onerror()}},decodeAudioData=function(n,r){var error=function(){r._emit("loaderror",null,"Decoding audio data failed.")},success=function(i){i&&r._sounds.length>0?(s[r._src]=i,loadSound(r,i)):error()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(n).then(success).catch(error):i.ctx.decodeAudioData(n,success,error)},loadSound=function(i,n){n&&!i._duration&&(i._duration=n.duration),0===Object.keys(i._sprite).length&&(i._sprite={__default:[0,1e3*i._duration]}),"loaded"!==i._state&&(i._state="loaded",i._emit("load"),i._loadQueue())},setupAudioContext=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(n){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),r=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),s=r?parseInt(r[1],10):null;if(n&&s&&s<9){var o=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!o||i._navigator&&!i._navigator.standalone&&!o)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};n.Howler=i,n.Howl=Howl,"undefined"!=typeof window?(window.HowlerGlobal=HowlerGlobal,window.Howler=i,window.Howl=Howl,window.Sound=Sound):void 0!==r&&(r.HowlerGlobal=HowlerGlobal,r.Howler=i,r.Howl=Howl,r.Sound=Sound)}(),
/*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
function(){var i;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){if(!this.ctx||!this.ctx.listener)return this;for(var n=this._howls.length-1;n>=0;n--)this._howls[n].stereo(i);return this},HowlerGlobal.prototype.pos=function(i,n,r){return this.ctx&&this.ctx.listener?(n="number"!=typeof n?this._pos[1]:n,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof i?this._pos:(this._pos=[i,n,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(i,n,r,s,o,a){if(!this.ctx||!this.ctx.listener)return this;var u=this._orientation;return n="number"!=typeof n?u[1]:n,r="number"!=typeof r?u[2]:r,s="number"!=typeof s?u[3]:s,o="number"!=typeof o?u[4]:o,a="number"!=typeof a?u[5]:a,"number"!=typeof i?u:(this._orientation=[i,n,r,s,o,a],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(i,n,r,s,o,a),this)},Howl.prototype.init=(i=Howl.prototype.init,function(n){return this._orientation=n.orientation||[1,0,0],this._stereo=n.stereo||null,this._pos=n.pos||null,this._pannerAttr={coneInnerAngle:void 0!==n.coneInnerAngle?n.coneInnerAngle:360,coneOuterAngle:void 0!==n.coneOuterAngle?n.coneOuterAngle:360,coneOuterGain:void 0!==n.coneOuterGain?n.coneOuterGain:0,distanceModel:void 0!==n.distanceModel?n.distanceModel:"inverse",maxDistance:void 0!==n.maxDistance?n.maxDistance:1e4,panningModel:void 0!==n.panningModel?n.panningModel:"HRTF",refDistance:void 0!==n.refDistance?n.refDistance:1,rolloffFactor:void 0!==n.rolloffFactor?n.rolloffFactor:1},this._onstereo=n.onstereo?[{fn:n.onstereo}]:[],this._onpos=n.onpos?[{fn:n.onpos}]:[],this._onorientation=n.onorientation?[{fn:n.onorientation}]:[],i.call(this,n)}),Howl.prototype.stereo=function(i,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(i,n)}}),r;var s=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof i)return r._stereo;r._stereo=i,r._pos=[i,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var u=r._soundById(o[a]);if(u){if("number"!=typeof i)return u._stereo;u._stereo=i,u._pos=[i,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",u._panner&&u._panner.pan||setupPanner(u,s),"spatial"===s?void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(i,0,0):u._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),r._emit("stereo",u._id)}}return r},Howl.prototype.pos=function(i,n,r,s){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(i,n,r,s)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===s){if("number"!=typeof i)return o._pos;o._pos=[i,n,r]}for(var a=o._getSoundIds(s),u=0;u<a.length;u++){var l=o._soundById(a[u]);if(l){if("number"!=typeof i)return l._pos;l._pos=[i,n,r],l._node&&(l._panner&&!l._panner.pan||setupPanner(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(i,n,r)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(i,n,r,s){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(i,n,r,s)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===s){if("number"!=typeof i)return o._orientation;o._orientation=[i,n,r]}for(var a=o._getSoundIds(s),u=0;u<a.length;u++){var l=o._soundById(a[u]);if(l){if("number"!=typeof i)return l._orientation;l._orientation=[i,n,r],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),setupPanner(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(i,n,r)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var i,n,r,s=this,o=arguments;if(!s._webAudio)return s;if(0===o.length)return s._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=s._soundById(parseInt(o[0],10)))?r._pannerAttr:s._pannerAttr;i=o[0],void 0===n&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),s._pannerAttr={coneInnerAngle:void 0!==i.pannerAttr.coneInnerAngle?i.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:void 0!==i.pannerAttr.coneOuterAngle?i.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:void 0!==i.pannerAttr.coneOuterGain?i.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:void 0!==i.pannerAttr.distanceModel?i.pannerAttr.distanceModel:s._distanceModel,maxDistance:void 0!==i.pannerAttr.maxDistance?i.pannerAttr.maxDistance:s._maxDistance,refDistance:void 0!==i.pannerAttr.refDistance?i.pannerAttr.refDistance:s._refDistance,rolloffFactor:void 0!==i.pannerAttr.rolloffFactor?i.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:void 0!==i.pannerAttr.panningModel?i.pannerAttr.panningModel:s._panningModel})}else 2===o.length&&(i=o[0],n=parseInt(o[1],10));for(var a=s._getSoundIds(n),u=0;u<a.length;u++)if(r=s._soundById(a[u])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==i.coneInnerAngle?i.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==i.coneOuterAngle?i.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==i.coneOuterGain?i.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==i.distanceModel?i.distanceModel:l.distanceModel,maxDistance:void 0!==i.maxDistance?i.maxDistance:l.maxDistance,refDistance:void 0!==i.refDistance?i.refDistance:l.refDistance,rolloffFactor:void 0!==i.rolloffFactor?i.rolloffFactor:l.rolloffFactor,panningModel:void 0!==i.panningModel?i.panningModel:l.panningModel};var h=r._panner;h?(h.coneInnerAngle=l.coneInnerAngle,h.coneOuterAngle=l.coneOuterAngle,h.coneOuterGain=l.coneOuterGain,h.distanceModel=l.distanceModel,h.maxDistance=l.maxDistance,h.refDistance=l.refDistance,h.rolloffFactor=l.rolloffFactor,h.panningModel=l.panningModel):(r._pos||(r._pos=s._pos||[0,0,-.5]),setupPanner(r,"spatial"))}return s},Sound.prototype.init=function(i){return function(){var n=this._parent;this._orientation=n._orientation,this._stereo=n._stereo,this._pos=n._pos,this._pannerAttr=n._pannerAttr,i.call(this),this._stereo?n.stereo(this._stereo):this._pos&&n.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(i){return function(){var n=this._parent;return this._orientation=n._orientation,this._stereo=n._stereo,this._pos=n._pos,this._pannerAttr=n._pannerAttr,this._stereo?n.stereo(this._stereo):this._pos?n.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,n._refreshBuffer(this)),i.call(this)}}(Sound.prototype.reset);var setupPanner=function(i,n){"spatial"===(n=n||"spatial")?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,void 0!==i._panner.positionX?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),void 0!==i._panner.orientationX?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}}()})),q=G.Howler,W=G.Howl;function GetTouchEvent(i){return{identifier:0,changedTouches:[{clientX:i.clientX,clientY:i.clientY}]}}function TouchListen(i){return i?function MouseListen(){return function(i){var n=!1;window.document.body.addEventListener("mousedown",(function(r){return n=!0,i.start(GetTouchEvent(r))}),{passive:!0}),window.document.body.addEventListener("mousemove",(function(r){return n&&i.move(GetTouchEvent(r))}),{passive:!0}),window.document.body.addEventListener("mouseup",(function(r){return n&&(n=!1,i.end(GetTouchEvent(r)))}),{passive:!0}),window.document.body.addEventListener("mouseout",(function(r){return n&&(n=!1,i.end(GetTouchEvent(r)))}),{passive:!0})}}():function(i){window.document.body.addEventListener("touchstart",(function(n){return i.start(n)}),{passive:!0}),window.document.body.addEventListener("touchmove",(function(n){return i.move(n)}),{passive:!0}),window.document.body.addEventListener("touchend",(function(n){return i.end(n)}),{passive:!0}),window.document.body.addEventListener("touchcancel",(function(n){return i.end(n)}),{passive:!0})}}var X=function(){function Image(){i(this,Image)}return n(Image,[{key:"load",value:function load(i){return new Promise((function(n,r){var s=new window.Image;s.onload=function(){n(s)},s.onerror=function(i){r(i)},s.key=s.src=i}))}}]),Image}(),Y=function(){function Audio(){i(this,Audio)}return n(Audio,[{key:"load",value:function load(i){return new Promise((function(n,r){var s=new W({src:i,loop:!1,autoplay:!1});s.once("load",(function(){s.key=i,n(s)}))}))}},{key:"mute",value:function mute(i){return q.mute(i)}},{key:"volume",value:function volume(i){return q.volume(i)}}]),Audio}();var $=function bind(i,n){return function wrap(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return i.apply(n,r)}},Q=Object.prototype.toString;function isArray(i){return"[object Array]"===Q.call(i)}function isUndefined(i){return void 0===i}function isObject(i){return null!==i&&"object"==typeof i}function isFunction(i){return"[object Function]"===Q.call(i)}function forEach(i,n){if(null!=i)if("object"!=typeof i&&(i=[i]),isArray(i))for(var r=0,s=i.length;r<s;r++)n.call(null,i[r],r,i);else for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.call(null,i[o],o,i)}var Z={isArray:isArray,isArrayBuffer:function isArrayBuffer(i){return"[object ArrayBuffer]"===Q.call(i)},isBuffer:function isBuffer(i){return null!==i&&!isUndefined(i)&&null!==i.constructor&&!isUndefined(i.constructor)&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)},isFormData:function isFormData(i){return"undefined"!=typeof FormData&&i instanceof FormData},isArrayBufferView:function isArrayBufferView(i){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer&&i.buffer instanceof ArrayBuffer},isString:function isString(i){return"string"==typeof i},isNumber:function isNumber(i){return"number"==typeof i},isObject:isObject,isUndefined:isUndefined,isDate:function isDate(i){return"[object Date]"===Q.call(i)},isFile:function isFile(i){return"[object File]"===Q.call(i)},isBlob:function isBlob(i){return"[object Blob]"===Q.call(i)},isFunction:isFunction,isStream:function isStream(i){return isObject(i)&&isFunction(i.pipe)},isURLSearchParams:function isURLSearchParams(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var i={};function assignValue(n,r){"object"==typeof i[r]&&"object"==typeof n?i[r]=merge(i[r],n):i[r]=n}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],assignValue);return i},deepMerge:function deepMerge(){var i={};function assignValue(n,r){"object"==typeof i[r]&&"object"==typeof n?i[r]=deepMerge(i[r],n):i[r]="object"==typeof n?deepMerge({},n):n}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],assignValue);return i},extend:function extend(i,n,r){return forEach(n,(function assignValue(n,s){i[s]=r&&"function"==typeof n?$(n,r):n})),i},trim:function trim(i){return i.replace(/^\s*/,"").replace(/\s*$/,"")}};function encode(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J=function buildURL(i,n,r){if(!n)return i;var s;if(r)s=r(n);else if(Z.isURLSearchParams(n))s=n.toString();else{var o=[];Z.forEach(n,(function serialize(i,n){null!=i&&(Z.isArray(i)?n+="[]":i=[i],Z.forEach(i,(function parseValue(i){Z.isDate(i)?i=i.toISOString():Z.isObject(i)&&(i=JSON.stringify(i)),o.push(encode(n)+"="+encode(i))})))})),s=o.join("&")}if(s){var a=i.indexOf("#");-1!==a&&(i=i.slice(0,a)),i+=(-1===i.indexOf("?")?"?":"&")+s}return i};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(i,n){return this.handlers.push({fulfilled:i,rejected:n}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(i){this.handlers[i]&&(this.handlers[i]=null)},InterceptorManager.prototype.forEach=function forEach(i){Z.forEach(this.handlers,(function forEachHandler(n){null!==n&&i(n)}))};var K=InterceptorManager,tt=function transformData(i,n,r){return Z.forEach(r,(function transform(r){i=r(i,n)})),i},et=function isCancel(i){return!(!i||!i.__CANCEL__)},it=function normalizeHeaderName(i,n){Z.forEach(i,(function processHeader(r,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(i[n]=r,delete i[s])}))},nt=function createError(i,n,r,s,o){return function enhanceError(i,n,r,s,o){return i.config=n,r&&(i.code=r),i.request=s,i.response=o,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}(new Error(i),n,r,s,o)},rt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],st=Z.isStandardBrowserEnv()?function standardBrowserEnv(){var i,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function resolveURL(i){var s=i;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return i=resolveURL(window.location.href),function isURLSameOrigin(n){var r=Z.isString(n)?resolveURL(n):n;return r.protocol===i.protocol&&r.host===i.host}}():function isURLSameOrigin(){return!0},ot=Z.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(i,n,r,s,o,a){var u=[];u.push(i+"="+encodeURIComponent(n)),Z.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),Z.isString(s)&&u.push("path="+s),Z.isString(o)&&u.push("domain="+o),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function read(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function remove(i){this.write(i,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}},at=function xhrAdapter(i){return new Promise((function dispatchXhrRequest(n,r){var s=i.data,o=i.headers;Z.isFormData(s)&&delete o["Content-Type"];var a=new XMLHttpRequest;if(i.auth){var u=i.auth.username||"",l=i.auth.password||"";o.Authorization="Basic "+btoa(u+":"+l)}var h=function buildFullPath(i,n){return i&&!function isAbsoluteURL(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}(n)?function combineURLs(i,n){return n?i.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):i}(i,n):n}(i.baseURL,i.url);if(a.open(i.method.toUpperCase(),J(h,i.params,i.paramsSerializer),!0),a.timeout=i.timeout,a.onreadystatechange=function handleLoad(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in a?function parseHeaders(i){var n,r,s,o={};return i?(Z.forEach(i.split("\n"),(function parser(i){if(s=i.indexOf(":"),n=Z.trim(i.substr(0,s)).toLowerCase(),r=Z.trim(i.substr(s+1)),n){if(o[n]&&rt.indexOf(n)>=0)return;o[n]="set-cookie"===n?(o[n]?o[n]:[]).concat([r]):o[n]?o[n]+", "+r:r}})),o):o}(a.getAllResponseHeaders()):null,o={data:i.responseType&&"text"!==i.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:s,config:i,request:a};!function settle(i,n,r){var s=r.config.validateStatus;!s||s(r.status)?i(r):n(nt("Request failed with status code "+r.status,r.config,null,r.request,r))}(n,r,o),a=null}},a.onabort=function handleAbort(){a&&(r(nt("Request aborted",i,"ECONNABORTED",a)),a=null)},a.onerror=function handleError(){r(nt("Network Error",i,null,a)),a=null},a.ontimeout=function handleTimeout(){var n="timeout of "+i.timeout+"ms exceeded";i.timeoutErrorMessage&&(n=i.timeoutErrorMessage),r(nt(n,i,"ECONNABORTED",a)),a=null},Z.isStandardBrowserEnv()){var c=ot,d=(i.withCredentials||st(h))&&i.xsrfCookieName?c.read(i.xsrfCookieName):void 0;d&&(o[i.xsrfHeaderName]=d)}if("setRequestHeader"in a&&Z.forEach(o,(function setRequestHeader(i,n){void 0===s&&"content-type"===n.toLowerCase()?delete o[n]:a.setRequestHeader(n,i)})),Z.isUndefined(i.withCredentials)||(a.withCredentials=!!i.withCredentials),i.responseType)try{a.responseType=i.responseType}catch(n){if("json"!==i.responseType)throw n}"function"==typeof i.onDownloadProgress&&a.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",i.onUploadProgress),i.cancelToken&&i.cancelToken.promise.then((function onCanceled(i){a&&(a.abort(),r(i),a=null)})),void 0===s&&(s=null),a.send(s)}))},ut={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(i,n){!Z.isUndefined(i)&&Z.isUndefined(i["Content-Type"])&&(i["Content-Type"]=n)}var lt={adapter:function getDefaultAdapter(){var i;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(i=at),i}(),transformRequest:[function transformRequest(i,n){return it(n,"Accept"),it(n,"Content-Type"),Z.isFormData(i)||Z.isArrayBuffer(i)||Z.isBuffer(i)||Z.isStream(i)||Z.isFile(i)||Z.isBlob(i)?i:Z.isArrayBufferView(i)?i.buffer:Z.isURLSearchParams(i)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),i.toString()):Z.isObject(i)?(setContentTypeIfUnset(n,"application/json;charset=utf-8"),JSON.stringify(i)):i}],transformResponse:[function transformResponse(i){if("string"==typeof i)try{i=JSON.parse(i)}catch(i){}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Z.forEach(["delete","get","head"],(function forEachMethodNoData(i){lt.headers[i]={}})),Z.forEach(["post","put","patch"],(function forEachMethodWithData(i){lt.headers[i]=Z.merge(ut)}));var ht=lt;function throwIfCancellationRequested(i){i.cancelToken&&i.cancelToken.throwIfRequested()}var ct=function dispatchRequest(i){return throwIfCancellationRequested(i),i.headers=i.headers||{},i.data=tt(i.data,i.headers,i.transformRequest),i.headers=Z.merge(i.headers.common||{},i.headers[i.method]||{},i.headers),Z.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(n){delete i.headers[n]})),(i.adapter||ht.adapter)(i).then((function onAdapterResolution(n){return throwIfCancellationRequested(i),n.data=tt(n.data,n.headers,i.transformResponse),n}),(function onAdapterRejection(n){return et(n)||(throwIfCancellationRequested(i),n&&n.response&&(n.response.data=tt(n.response.data,n.response.headers,i.transformResponse))),Promise.reject(n)}))},dt=function mergeConfig(i,n){n=n||{};var r={},s=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Z.forEach(s,(function valueFromConfig2(i){void 0!==n[i]&&(r[i]=n[i])})),Z.forEach(o,(function mergeDeepProperties(s){Z.isObject(n[s])?r[s]=Z.deepMerge(i[s],n[s]):void 0!==n[s]?r[s]=n[s]:Z.isObject(i[s])?r[s]=Z.deepMerge(i[s]):void 0!==i[s]&&(r[s]=i[s])})),Z.forEach(a,(function defaultToConfig2(s){void 0!==n[s]?r[s]=n[s]:void 0!==i[s]&&(r[s]=i[s])}));var u=s.concat(o).concat(a),l=Object.keys(n).filter((function filterAxiosKeys(i){return-1===u.indexOf(i)}));return Z.forEach(l,(function otherKeysDefaultToConfig2(s){void 0!==n[s]?r[s]=n[s]:void 0!==i[s]&&(r[s]=i[s])})),r};function Axios(i){this.defaults=i,this.interceptors={request:new K,response:new K}}Axios.prototype.request=function request(i){"string"==typeof i?(i=arguments[1]||{}).url=arguments[0]:i=i||{},(i=dt(this.defaults,i)).method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=[ct,void 0],r=Promise.resolve(i);for(this.interceptors.request.forEach((function unshiftRequestInterceptors(i){n.unshift(i.fulfilled,i.rejected)})),this.interceptors.response.forEach((function pushResponseInterceptors(i){n.push(i.fulfilled,i.rejected)}));n.length;)r=r.then(n.shift(),n.shift());return r},Axios.prototype.getUri=function getUri(i){return i=dt(this.defaults,i),J(i.url,i.params,i.paramsSerializer).replace(/^\?/,"")},Z.forEach(["delete","get","head","options"],(function forEachMethodNoData(i){Axios.prototype[i]=function(n,r){return this.request(Z.merge(r||{},{method:i,url:n}))}})),Z.forEach(["post","put","patch"],(function forEachMethodWithData(i){Axios.prototype[i]=function(n,r,s){return this.request(Z.merge(s||{},{method:i,url:n,data:r}))}}));var ft=Axios;function Cancel(i){this.message=i}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var _t=Cancel;function CancelToken(i){if("function"!=typeof i)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function promiseExecutor(i){n=i}));var r=this;i((function cancel(i){r.reason||(r.reason=new _t(i),n(r.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var i;return{token:new CancelToken((function executor(n){i=n})),cancel:i}};var pt=CancelToken;function createInstance(i){var n=new ft(i),r=$(ft.prototype.request,n);return Z.extend(r,ft.prototype,n),Z.extend(r,n),r}var mt=createInstance(ht);mt.Axios=ft,mt.create=function create(i){return createInstance(dt(mt.defaults,i))},mt.Cancel=_t,mt.CancelToken=pt,mt.isCancel=et,mt.all=function all(i){return Promise.all(i)},mt.spread=function spread(i){return function wrap(n){return i.apply(null,n)}};var vt=mt,gt=mt;vt.default=gt;var yt=vt,Tt="undefined"!=typeof window?window:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:{},wt=function(i){var n={},r=i.document,s=i.GreenSockGlobals=i.GreenSockGlobals||i;if(s.TweenLite)return s.TweenLite;var o,a,u,l,h,_namespace=function(i){var n,r=i.split("."),o=s;for(n=0;n<r.length;n++)o[r[n]]=o=o[r[n]]||{};return o},c=_namespace("com.greensock"),_slice=function(i){var n,r=[],s=i.length;for(n=0;n!==s;r.push(i[n++]));return r},_emptyFunc=function(){},d=function(){var i=Object.prototype.toString,n=i.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&i.call(r)===n)}}(),f={},Definition=function(i,r,o,a){this.sc=f[i]?f[i].sc:[],f[i]=this,this.gsClass=null,this.func=o;var u=[];this.check=function(l){for(var h,c,d,_,p=r.length,m=p;--p>-1;)(h=f[r[p]]||new Definition(r[p],[])).gsClass?(u[p]=h.gsClass,m--):l&&h.sc.push(this);if(0===m&&o)for(d=(c=("com.greensock."+i).split(".")).pop(),_=_namespace(c.join("."))[d]=this.gsClass=o.apply(o,u),a&&(s[d]=n[d]=_),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},_=i._gsDefine=function(i,n,r,s){return new Definition(i,n,r,s)},p=c._class=function(i,n,r){return n=n||function(){},_(i,[],(function(){return n}),r),n};_.globals=s;var m=[0,0,1,1],v=p("easing.Ease",(function(i,n,r,s){this._func=i,this._type=r||0,this._power=s||0,this._params=n?m.concat(n):m}),!0),g=v.map={},y=v.register=function(i,n,r,s){for(var o,a,u,l,h=n.split(","),d=h.length,f=(r||"easeIn,easeOut,easeInOut").split(",");--d>-1;)for(a=h[d],o=s?p("easing."+a,null,!0):c.easing[a]||{},u=f.length;--u>-1;)l=f[u],g[a+"."+l]=g[l+a]=o[l]=i.getRatio?i:i[l]||new i};for((u=v.prototype)._calcEnd=!1,u.getRatio=function(i){if(this._func)return this._params[0]=i,this._func.apply(null,this._params);var n=this._type,r=this._power,s=1===n?1-i:2===n?i:i<.5?2*i:2*(1-i);return 1===r?s*=s:2===r?s*=s*s:3===r?s*=s*s*s:4===r&&(s*=s*s*s*s),1===n?1-s:2===n?s:i<.5?s/2:1-s/2},a=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--a>-1;)u=o[a]+",Power"+a,y(new v(null,null,1,a),u,"easeOut",!0),y(new v(null,null,2,a),u,"easeIn"+(0===a?",easeNone":"")),y(new v(null,null,3,a),u,"easeInOut");g.linear=c.easing.Linear.easeIn,g.swing=c.easing.Quad.easeInOut;var T=p("events.EventDispatcher",(function(i){this._listeners={},this._eventTarget=i||this}));(u=T.prototype).addEventListener=function(i,n,r,s,o){o=o||0;var a,u,c=this._listeners[i],d=0;for(this!==l||h||l.wake(),null==c&&(this._listeners[i]=c=[]),u=c.length;--u>-1;)(a=c[u]).c===n&&a.s===r?c.splice(u,1):0===d&&a.pr<o&&(d=u+1);c.splice(d,0,{c:n,s:r,up:s,pr:o})},u.removeEventListener=function(i,n){var r,s=this._listeners[i];if(s)for(r=s.length;--r>-1;)if(s[r].c===n)return void s.splice(r,1)},u.dispatchEvent=function(i){var n,r,s,o=this._listeners[i];if(o)for((n=o.length)>1&&(o=o.slice(0)),r=this._eventTarget;--n>-1;)(s=o[n])&&(s.up?s.c.call(s.s||r,{type:i,target:r}):s.c.call(s.s||r))};var w=i.requestAnimationFrame,b=i.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},k=x();for(a=(o=["ms","moz","webkit","o"]).length;--a>-1&&!w;)w=i[o[a]+"RequestAnimationFrame"],b=i[o[a]+"CancelAnimationFrame"]||i[o[a]+"CancelRequestAnimationFrame"];p("Ticker",(function(i,n){var s,o,a,u,c,d=this,f=x(),_=!(!1===n||!w)&&"auto",p=500,m=33,_tick=function(i){var n,r,l=x()-k;l>p&&(f+=l-m),k+=l,d.time=(k-f)/1e3,n=d.time-c,(!s||n>0||!0===i)&&(d.frame++,c+=n+(n>=u?.004:u-n),r=!0),!0!==i&&(a=o(_tick)),r&&d.dispatchEvent("tick")};T.call(d),d.time=d.frame=0,d.tick=function(){_tick(!0)},d.lagSmoothing=function(i,n){if(!arguments.length)return p<1e8;p=i||1e8,m=Math.min(n,p,0)},d.sleep=function(){null!=a&&(_&&b?b(a):clearTimeout(a),o=_emptyFunc,a=null,d===l&&(h=!1))},d.wake=function(i){null!==a?d.sleep():i?f+=-k+(k=x()):d.frame>10&&(k=x()-p+5),o=0===s?_emptyFunc:_&&w?w:function(i){return setTimeout(i,1e3*(c-d.time)+1|0)},d===l&&(h=!0),_tick(2)},d.fps=function(i){if(!arguments.length)return s;u=1/((s=i)||60),c=this.time+u,d.wake()},d.useRAF=function(i){if(!arguments.length)return _;d.sleep(),_=i,d.fps(s)},d.fps(i),setTimeout((function(){"auto"===_&&d.frame<5&&"hidden"!==(r||{}).visibilityState&&d.useRAF(!1)}),1500)})),(u=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var A=p("core.Animation",(function(i,n){if(this.vars=n=n||{},this._duration=this._totalDuration=i||0,this._delay=Number(n.delay)||0,this._timeScale=1,this._active=!!n.immediateRender,this.data=n.data,this._reversed=!!n.reversed,H){h||l.wake();var r=this.vars.useFrames?F:H;r.add(this,r._time),this.vars.paused&&this.paused(!0)}}));l=A.ticker=new c.Ticker,(u=A.prototype)._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var _checkTimeout=function(){h&&x()-k>2e3&&("hidden"!==(r||{}).visibilityState||!l.lagSmoothing())&&l.wake();var i=setTimeout(_checkTimeout,2e3);i.unref&&i.unref()};_checkTimeout(),u.play=function(i,n){return null!=i&&this.seek(i,n),this.reversed(!1).paused(!1)},u.pause=function(i,n){return null!=i&&this.seek(i,n),this.paused(!0)},u.resume=function(i,n){return null!=i&&this.seek(i,n),this.paused(!1)},u.seek=function(i,n){return this.totalTime(Number(i),!1!==n)},u.restart=function(i,n){return this.reversed(!1).paused(!1).totalTime(i?-this._delay:0,!1!==n,!0)},u.reverse=function(i,n){return null!=i&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},u.render=function(i,n,r){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var i,n=this._timeline,r=this._startTime;return!n||!this._gc&&!this._paused&&n.isActive()&&(i=n.rawTime(!0))>=r&&i<r+this.totalDuration()/this._timeScale-1e-8},u._enabled=function(i,n){return h||l.wake(),this._gc=!i,this._active=this.isActive(),!0!==n&&(i&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!i&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(i,n){return this._enabled(!1,!1)},u.kill=function(i,n){return this._kill(i,n),this},u._uncache=function(i){for(var n=i?this:this.timeline;n;)n._dirty=!0,n=n.timeline;return this},u._swapSelfInParams=function(i){for(var n=i.length,r=i.concat();--n>-1;)"{self}"===i[n]&&(r[n]=this);return r},u._callback=function(i){var n=this.vars,r=n[i],s=n[i+"Params"],o=n[i+"Scope"]||n.callbackScope||this;switch(s?s.length:0){case 0:r.call(o);break;case 1:r.call(o,s[0]);break;case 2:r.call(o,s[0],s[1]);break;default:r.apply(o,s)}},u.eventCallback=function(i,n,r,s){if("on"===(i||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[i];null==n?delete o[i]:(o[i]=n,o[i+"Params"]=d(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,o[i+"Scope"]=s),"onUpdate"===i&&(this._onUpdate=n)}return this},u.delay=function(i){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+i-this._delay),this._delay=i,this):this._delay},u.duration=function(i){return arguments.length?(this._duration=this._totalDuration=i,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==i&&this.totalTime(this._totalTime*(i/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(i){return this._dirty=!1,arguments.length?this.duration(i):this._totalDuration},u.time=function(i,n){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(i>this._duration?this._duration:i,n)):this._time},u.totalTime=function(i,n,r){if(h||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(i<0&&!r&&(i+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,o=this._timeline;if(i>s&&!r&&(i=s),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?s-i:i)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===i&&0!==this._duration||(C.length&&N(),this.render(i,n,!1),C.length&&N())}return this},u.progress=u.totalProgress=function(i,n){var r=this.duration();return arguments.length?this.totalTime(r*i,n):r?this._time/r:this.ratio},u.startTime=function(i){return arguments.length?(i!==this._startTime&&(this._startTime=i,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,i-this._delay)),this):this._startTime},u.endTime=function(i){return this._startTime+(0!=i?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(i){if(!arguments.length)return this._timeScale;var n,r;for(i=i||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(r=(n=this._pauseTime)||0===n?n:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/i),this._timeScale=i,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},u.reversed=function(i){return arguments.length?(i!=this._reversed&&(this._reversed=i,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(i){if(!arguments.length)return this._paused;var n,r,s=this._timeline;return i!=this._paused&&s&&(h||i||l.wake(),r=(n=s.rawTime())-this._pauseTime,!i&&s.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=i?n:null,this._paused=i,this._active=this.isActive(),!i&&0!==r&&this._initted&&this.duration()&&(n=s.smoothChildTiming?this._totalTime:(n-this._startTime)/this._timeScale,this.render(n,n===this._totalTime,!0))),this._gc&&!i&&this._enabled(!0,!1),this};var S=p("core.SimpleTimeline",(function(i){A.call(this,0,i),this.autoRemoveChildren=this.smoothChildTiming=!0}));(u=S.prototype=new A).constructor=S,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(i,n,r,s){var o,a;if(i._startTime=Number(n||0)+i._delay,i._paused&&this!==i._timeline&&(i._pauseTime=this.rawTime()-(i._timeline.rawTime()-i._pauseTime)),i.timeline&&i.timeline._remove(i,!0),i.timeline=i._timeline=this,i._gc&&i._enabled(!0,!0),o=this._last,this._sortChildren)for(a=i._startTime;o&&o._startTime>a;)o=o._prev;return o?(i._next=o._next,o._next=i):(i._next=this._first,this._first=i),i._next?i._next._prev=i:this._last=i,i._prev=o,this._recent=i,this._timeline&&this._uncache(!0),this},u._remove=function(i,n){return i.timeline===this&&(n||i._enabled(!1,!0),i._prev?i._prev._next=i._next:this._first===i&&(this._first=i._next),i._next?i._next._prev=i._prev:this._last===i&&(this._last=i._prev),i._next=i._prev=i.timeline=null,i===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(i,n,r){var s,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=i;o;)s=o._next,(o._active||i>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(i-o._startTime)*o._timeScale,n,r):o.render((i-o._startTime)*o._timeScale,n,r)),o=s},u.rawTime=function(){return h||l.wake(),this._totalTime};var P=p("TweenLite",(function(n,r,s){if(A.call(this,r,s),this.render=P.prototype.render,null==n)throw"Cannot tween a null target.";this.target=n="string"!=typeof n?n:P.selector(n)||n;var o,a,u,l=n.jquery||n.length&&n!==i&&n[0]&&(n[0]===i||n[0].nodeType&&n[0].style&&!n.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?U[P.defaultOverwrite]:"number"==typeof h?h>>0:U[h],(l||n instanceof Array||n.push&&d(n))&&"number"!=typeof n[0])for(this._targets=u=_slice(n),this._propLookup=[],this._siblings=[],o=0;o<u.length;o++)(a=u[o])?"string"!=typeof a?a.length&&a!==i&&a[0]&&(a[0]===i||a[0].nodeType&&a[0].style&&!a.nodeType)?(u.splice(o--,1),this._targets=u=u.concat(_slice(a))):(this._siblings[o]=_register(a,this,!1),1===h&&this._siblings[o].length>1&&_applyOverwrite(a,this,null,1,this._siblings[o])):"string"==typeof(a=u[o--]=P.selector(a))&&u.splice(o+1,1):u.splice(o--,1);else this._propLookup={},this._siblings=_register(n,this,!1),1===h&&this._siblings.length>1&&_applyOverwrite(n,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),_isSelector=function(n){return n&&n.length&&n!==i&&n[0]&&(n[0]===i||n[0].nodeType&&n[0].style&&!n.nodeType)};(u=P.prototype=new A).constructor=P,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,P.version="2.1.3",P.defaultEase=u._ease=new v(null,null,1,1),P.defaultOverwrite="auto",P.ticker=l,P.autoSleep=120,P.lagSmoothing=function(i,n){l.lagSmoothing(i,n)},P.selector=i.$||i.jQuery||function(n){var s=i.$||i.jQuery;return s?(P.selector=s,s(n)):(r||(r=i.document),r?r.querySelectorAll?r.querySelectorAll(n):r.getElementById("#"===n.charAt(0)?n.substr(1):n):n)};var C=[],D={},R=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,E=/[\+-]=-?[\.\d]/,_setRatio=function(i){for(var n,r=this._firstPT;r;)n=r.blob?1===i&&null!=this.end?this.end:i?this.join(""):this.start:r.c*i+r.s,r.m?n=r.m.call(this._tween,n,this._target||r.t,this._tween):n<1e-6&&n>-1e-6&&!r.blob&&(n=0),r.f?r.fp?r.t[r.p](r.fp,n):r.t[r.p](n):r.t[r.p]=n,r=r._next},_blobRound=function(i){return(1e3*i|0)/1e3+""},_blobDif=function(i,n,r,s){var o,a,u,l,h,c,d,f=[],_=0,p="",m=0;for(f.start=i,f.end=n,i=f[0]=i+"",n=f[1]=n+"",r&&(r(f),i=f[0],n=f[1]),f.length=0,o=i.match(R)||[],a=n.match(R)||[],s&&(s._next=null,s.blob=1,f._firstPT=f._applyPT=s),h=a.length,l=0;l<h;l++)d=a[l],p+=(c=n.substr(_,n.indexOf(d,_)-_))||!l?c:",",_+=c.length,m?m=(m+1)%5:"rgba("===c.substr(-5)&&(m=1),d===o[l]||o.length<=l?p+=d:(p&&(f.push(p),p=""),u=parseFloat(o[l]),f.push(u),f._firstPT={_next:f._firstPT,t:f,p:f.length-1,s:u,c:("="===d.charAt(1)?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-u)||0,f:0,m:m&&m<4?Math.round:_blobRound}),_+=d.length;return(p+=n.substr(_))&&f.push(p),f.setRatio=_setRatio,E.test(n)&&(f.end=null),f},_addPropTween=function(i,n,r,s,o,a,u,l,h){"function"==typeof s&&(s=s(h||0,i));var c=typeof i[n],d="function"!==c?"":n.indexOf("set")||"function"!=typeof i["get"+n.substr(3)]?n:"get"+n.substr(3),f="get"!==r?r:d?u?i[d](u):i[d]():i[n],_="string"==typeof s&&"="===s.charAt(1),p={t:i,p:n,s:f,f:"function"===c,pg:0,n:o||n,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:_?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-f||0};if(("number"!=typeof f||"number"!=typeof s&&!_)&&(u||isNaN(f)||!_&&isNaN(s)||"boolean"==typeof f||"boolean"==typeof s?(p.fp=u,p={t:_blobDif(f,_?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):s,l||P.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||n,pr:0,m:0}):(p.s=parseFloat(f),_||(p.c=parseFloat(s)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},M=P._internals={isArray:d,isSelector:_isSelector,lazyTweens:C,blobDif:_blobDif},I=P._plugins={},O=M.tweenLookup={},L=0,B=M.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},F=A._rootFramesTimeline=new S,H=A._rootTimeline=new S,j=30,N=M.lazyRender=function(){var i,n,r=C.length;for(D={},i=0;i<r;i++)(n=C[i])&&!1!==n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0),n._lazy=!1);C.length=0};H._startTime=l.time,F._startTime=l.frame,H._active=F._active=!0,setTimeout(N,1),A._updateRoot=P.render=function(){var i,n,r;if(C.length&&N(),H.render((l.time-H._startTime)*H._timeScale,!1,!1),F.render((l.frame-F._startTime)*F._timeScale,!1,!1),C.length&&N(),l.frame>=j){for(r in j=l.frame+(parseInt(P.autoSleep,10)||120),O){for(i=(n=O[r].tweens).length;--i>-1;)n[i]._gc&&n.splice(i,1);0===n.length&&delete O[r]}if((!(r=H._first)||r._paused)&&P.autoSleep&&!F._first&&1===l._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||l.sleep()}}},l.addEventListener("tick",A._updateRoot);var _register=function(i,n,r){var s,o,a=i._gsTweenID;if(O[a||(i._gsTweenID=a="t"+L++)]||(O[a]={target:i,tweens:[]}),n&&((s=O[a].tweens)[o=s.length]=n,r))for(;--o>-1;)s[o]===n&&s.splice(o,1);return O[a].tweens},_onOverwrite=function(i,n,r,s){var o,a,u=i.vars.onOverwrite;return u&&(o=u(i,n,r,s)),(u=P.onOverwrite)&&(a=u(i,n,r,s)),!1!==o&&!1!==a},_applyOverwrite=function(i,n,r,s,o){var a,u,l,h;if(1===s||s>=4){for(h=o.length,a=0;a<h;a++)if((l=o[a])!==n)l._gc||l._kill(null,i,n)&&(u=!0);else if(5===s)break;return u}var c,d=n._startTime+1e-8,f=[],_=0,p=0===n._duration;for(a=o.length;--a>-1;)(l=o[a])===n||l._gc||l._paused||(l._timeline!==n._timeline?(c=c||_checkOverlap(n,0,p),0===_checkOverlap(l,c,p)&&(f[_++]=l)):l._startTime<=d&&l._startTime+l.totalDuration()/l._timeScale>d&&((p||!l._initted)&&d-l._startTime<=2e-8||(f[_++]=l)));for(a=_;--a>-1;)if(h=(l=f[a])._firstPT,2===s&&l._kill(r,i,n)&&(u=!0),2!==s||!l._firstPT&&l._initted&&h){if(2!==s&&!_onOverwrite(l,n))continue;l._enabled(!1,!1)&&(u=!0)}return u},_checkOverlap=function(i,n,r){for(var s=i._timeline,o=s._timeScale,a=i._startTime;s._timeline;){if(a+=s._startTime,o*=s._timeScale,s._paused)return-100;s=s._timeline}return(a/=o)>n?a-n:r&&a===n||!i._initted&&a-n<2e-8?1e-8:(a+=i.totalDuration()/i._timeScale/o)>n+1e-8?0:a-n-1e-8};u._init=function(){var i,n,r,s,o,a,u=this.vars,l=this._overwrittenProps,h=this._duration,c=!!u.immediateRender,d=u.ease,f=this._startAt;if(u.startAt){for(s in f&&(f.render(-1,!0),f.kill()),o={},u.startAt)o[s]=u.startAt[s];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=c&&!1!==u.lazy,o.startAt=o.delay=null,o.onUpdate=u.onUpdate,o.onUpdateParams=u.onUpdateParams,o.onUpdateScope=u.onUpdateScope||u.callbackScope||this,this._startAt=P.to(this.target||{},0,o),c)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(u.runBackwards&&0!==h)if(f)f.render(-1,!0),f.kill(),this._startAt=null;else{for(s in 0!==this._time&&(c=!1),r={},u)B[s]&&"autoCSS"!==s||(r[s]=u[s]);if(r.overwrite=0,r.data="isFromStart",r.lazy=c&&!1!==u.lazy,r.immediateRender=c,this._startAt=P.to(this.target,0,r),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=d=d?d instanceof v?d:"function"==typeof d?new v(d,u.easeParams):g[d]||P.defaultEase:P.defaultEase,u.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,u.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,i=0;i<a;i++)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],l?l[i]:null,i)&&(n=!0);else n=this._initProps(this.target,this._propLookup,this._siblings,l,0);if(n&&P._onPluginEvent("_onInitAllProps",this),l&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),u.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=u.onUpdate,this._initted=!0},u._initProps=function(n,r,s,o,a){var u,l,h,c,f,_;if(null==n)return!1;for(u in D[n._gsTweenID]&&N(),this.vars.css||n.style&&n!==i&&n.nodeType&&I.css&&!1!==this.vars.autoCSS&&function(i,n){var r,s={};for(r in i)B[r]||r in n&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!I[r]||I[r]&&I[r]._autoCSS)||(s[r]=i[r],delete i[r]);i.css=s}(this.vars,n),this.vars)if(_=this.vars[u],B[u])_&&(_ instanceof Array||_.push&&d(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[u]=_=this._swapSelfInParams(_,this));else if(I[u]&&(c=new I[u])._onInitTween(n,this.vars[u],this,a)){for(this._firstPT=f={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:u,pg:1,pr:c._priority,m:0},l=c._overwriteProps.length;--l>-1;)r[c._overwriteProps[l]]=this._firstPT;(c._priority||c._onInitAllProps)&&(h=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),f._next&&(f._next._prev=f)}else r[u]=_addPropTween.call(this,n,u,"get",_,u,0,null,this.vars.stringFilter,a);return o&&this._kill(o,n)?this._initProps(n,r,s,o,a):this._overwrite>1&&this._firstPT&&s.length>1&&_applyOverwrite(n,this,r,this._overwrite,s)?(this._kill(r,n),this._initProps(n,r,s,o,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(D[n._gsTweenID]=!0),h)},u.render=function(i,n,r){var s,o,a,u,l=this._time,h=this._duration,c=this._rawPrevTime;if(i>=h-1e-8&&i>=0)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(i=0),(c<0||i<=0&&i>=-1e-8||1e-8===c&&"isPause"!==this.data)&&c!==i&&(r=!0,c>1e-8&&(o="onReverseComplete")),this._rawPrevTime=u=!n||i||c===i?i:1e-8);else if(i<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===h&&c>0)&&(o="onReverseComplete",s=this._reversed),i>-1e-8?i=0:i<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||r)&&(c>=0&&(1e-8!==c||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=u=!n||i||c===i?i:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(r=!0);else if(this._totalTime=this._time=i,this._easeType){var d=i/h,f=this._easeType,_=this._easePower;(1===f||3===f&&d>=.5)&&(d=1-d),3===f&&(d*=2),1===_?d*=d:2===_?d*=d*d:3===_?d*=d*d*d:4===_&&(d*=d*d*d*d),this.ratio=1===f?1-d:2===f?d:i/h<.5?d/2:1-d/2}else this.ratio=this._ease.getRatio(i/h);if(this._time!==l||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=c,C.push(this),void(this._lazy=[i,n]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/h):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&i>=0&&(this._active=!0),0===l&&(this._startAt&&(i>=0?this._startAt.render(i,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||n||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(i<0&&this._startAt&&-1e-4!==i&&this._startAt.render(i,!0,r),n||(this._time!==l||s||r)&&this._callback("onUpdate")),o&&(this._gc&&!r||(i<0&&this._startAt&&!this._onUpdate&&-1e-4!==i&&this._startAt.render(i,!0,r),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!n&&this.vars[o]&&this._callback(o),0===h&&1e-8===this._rawPrevTime&&1e-8!==u&&(this._rawPrevTime=0)))}},u._kill=function(i,n,r){if("all"===i&&(i=null),null==i&&(null==n||n===this.target))return this._lazy=!1,this._enabled(!1,!1);n="string"!=typeof n?n||this._targets||this.target:P.selector(n)||n;var s,o,a,u,l,h,c,f,_,p=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline,m=this._firstPT;if((d(n)||_isSelector(n))&&"number"!=typeof n[0])for(s=n.length;--s>-1;)this._kill(i,n[s],r)&&(h=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(n===this._targets[s]){l=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[s]=i?this._overwrittenProps[s]||{}:"all";break}}else{if(n!==this.target)return!1;l=this._propLookup,o=this._overwrittenProps=i?this._overwrittenProps||{}:"all"}if(l){if(c=i||l,f=i!==o&&"all"!==o&&i!==l&&("object"!=typeof i||!i._tempKill),r&&(P.onOverwrite||this.vars.onOverwrite)){for(a in c)l[a]&&(_||(_=[]),_.push(a));if((_||!i)&&!_onOverwrite(this,r,n,_))return!1}for(a in c)(u=l[a])&&(p&&(u.f?u.t[u.p](u.s):u.t[u.p]=u.s,h=!0),u.pg&&u.t._kill(c)&&(h=!0),u.pg&&0!==u.t._overwriteProps.length||(u._prev?u._prev._next=u._next:u===this._firstPT&&(this._firstPT=u._next),u._next&&(u._next._prev=u._prev),u._next=u._prev=null),delete l[a]),f&&(o[a]=1);!this._firstPT&&this._initted&&m&&this._enabled(!1,!1)}}return h},u.invalidate=function(){this._notifyPluginsOfEnabled&&P._onPluginEvent("_onDisable",this);var i=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(i,!1,!1!==this.vars.lazy)),this},u._enabled=function(i,n){if(h||l.wake(),i&&this._gc){var r,s=this._targets;if(s)for(r=s.length;--r>-1;)this._siblings[r]=_register(s[r],this,!0);else this._siblings=_register(this.target,this,!0)}return A.prototype._enabled.call(this,i,n),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&P._onPluginEvent(i?"_onEnable":"_onDisable",this)},P.to=function(i,n,r){return new P(i,n,r)},P.from=function(i,n,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new P(i,n,r)},P.fromTo=function(i,n,r,s){return s.startAt=r,s.immediateRender=0!=s.immediateRender&&0!=r.immediateRender,new P(i,n,s)},P.delayedCall=function(i,n,r,s,o){return new P(n,0,{delay:i,onComplete:n,onCompleteParams:r,callbackScope:s,onReverseComplete:n,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},P.set=function(i,n){return new P(i,0,n)},P.getTweensOf=function(i,n){if(null==i)return[];var r,s,o,a;if(i="string"!=typeof i?i:P.selector(i)||i,(d(i)||_isSelector(i))&&"number"!=typeof i[0]){for(r=i.length,s=[];--r>-1;)s=s.concat(P.getTweensOf(i[r],n));for(r=s.length;--r>-1;)for(a=s[r],o=r;--o>-1;)a===s[o]&&s.splice(r,1)}else if(i._gsTweenID)for(r=(s=_register(i).concat()).length;--r>-1;)(s[r]._gc||n&&!s[r].isActive())&&s.splice(r,1);return s||[]},P.killTweensOf=P.killDelayedCallsTo=function(i,n,r){"object"==typeof n&&(r=n,n=!1);for(var s=P.getTweensOf(i,n),o=s.length;--o>-1;)s[o]._kill(r,i)};var z=p("plugins.TweenPlugin",(function(i,n){this._overwriteProps=(i||"").split(","),this._propName=this._overwriteProps[0],this._priority=n||0,this._super=z.prototype}),!0);if(u=z.prototype,z.version="1.19.0",z.API=2,u._firstPT=null,u._addTween=_addPropTween,u.setRatio=_setRatio,u._kill=function(i){var n,r=this._overwriteProps,s=this._firstPT;if(null!=i[this._propName])this._overwriteProps=[];else for(n=r.length;--n>-1;)null!=i[r[n]]&&r.splice(n,1);for(;s;)null!=i[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},u._mod=u._roundProps=function(i){for(var n,r=this._firstPT;r;)(n=i[this._propName]||null!=r.n&&i[r.n.split(this._propName+"_").join("")])&&"function"==typeof n&&(2===r.f?r.t._applyPT.m=n:r.m=n),r=r._next},P._onPluginEvent=function(i,n){var r,s,o,a,u,l=n._firstPT;if("_onInitAllProps"===i){for(;l;){for(u=l._next,s=o;s&&s.pr>l.pr;)s=s._next;(l._prev=s?s._prev:a)?l._prev._next=l:o=l,(l._next=s)?s._prev=l:a=l,l=u}l=n._firstPT=o}for(;l;)l.pg&&"function"==typeof l.t[i]&&l.t[i]()&&(r=!0),l=l._next;return r},z.activate=function(i){for(var n=i.length;--n>-1;)i[n].API===z.API&&(I[(new i[n])._propName]=i[n]);return!0},_.plugin=function(i){if(!(i&&i.propName&&i.init&&i.API))throw"illegal plugin definition.";var n,r=i.propName,s=i.priority||0,o=i.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},u=p("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",(function(){z.call(this,r,s),this._overwriteProps=o||[]}),!0===i.global),l=u.prototype=new z(r);for(n in l.constructor=u,u.API=i.API,a)"function"==typeof i[n]&&(l[a[n]]=i[n]);return u.version=i.version,z.activate([u]),u},o=i._gsQueue){for(a=0;a<o.length;a++)o[a]();for(u in f)f[u].func||i.console.log("GSAP encountered missing dependency: "+u)}return h=!1,P}(Tt),bt=Tt.GreenSockGlobals,xt=bt.com.greensock,kt=xt.core.SimpleTimeline,At=xt.core.Animation,St=bt.Ease,Pt=bt.Linear;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   *
   * @author: Jack Doyle, jack@greensock.com
   */bt.Power1,bt.Power2,bt.Power3,bt.Power4,bt.TweenPlugin,xt.events.EventDispatcher;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */
Tt._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var TimelineLite=function(i){kt.call(this,i);var n,r,o=this.vars;for(r in this._labels={},this.autoRemoveChildren=!!o.autoRemoveChildren,this.smoothChildTiming=!!o.smoothChildTiming,this._sortChildren=!0,this._onUpdate=o.onUpdate,o)n=o[r],s(n)&&-1!==n.join("").indexOf("{self}")&&(o[r]=this._swapSelfInParams(n));s(o.tweens)&&this.add(o.tweens,0,o.align,o.stagger)},i=wt._internals,n=TimelineLite._internals={},r=i.isSelector,s=i.isArray,o=i.lazyTweens,a=i.lazyRender,u=Tt._gsDefine.globals,_copy=function(i){var n,r={};for(n in i)r[n]=i[n];return r},_applyCycle=function(i,n,r){var s,o,a=i.cycle;for(s in a)o=a[s],i[s]="function"==typeof o?o(r,n[r],n):o[r%o.length];delete i.cycle},l=n.pauseCallback=function(){},_defaultImmediateRender=function(i,n,r,s){var o="immediateRender";return o in n||(n[o]=!(r&&!1===r[o]||s)),n},_distribute=function(i){if("function"==typeof i)return i;var n="object"==typeof i?i:{each:i},r=n.ease,s=n.from||0,o=n.base||0,a={},u=isNaN(s),l=n.axis,h={center:.5,end:1}[s]||0;return function(i,c,d){var f,_,p,m,v,g,y,T,w,b=(d||n).length,x=a[b];if(!x){if(!(w="auto"===n.grid?0:(n.grid||[1/0])[0])){for(y=-1/0;y<(y=d[w++].getBoundingClientRect().left)&&w<b;);w--}for(x=a[b]=[],f=u?Math.min(w,b)*h-.5:s%w,_=u?b*h/w-.5:s/w|0,y=0,T=1/0,g=0;g<b;g++)p=g%w-f,m=_-(g/w|0),x[g]=v=l?Math.abs("y"===l?m:p):Math.sqrt(p*p+m*m),v>y&&(y=v),v<T&&(T=v);x.max=y-T,x.min=T,x.v=b=n.amount||n.each*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0,x.b=b<0?o-b:o}return b=(x[i]-x.min)/x.max,x.b+(r?r.getRatio(b):b)*x.v}},h=TimelineLite.prototype=new kt;return TimelineLite.version="2.1.3",TimelineLite.distribute=_distribute,h.constructor=TimelineLite,h.kill()._gc=h._forcingPlayhead=h._hasPause=!1,h.to=function(i,n,r,s){var o=r.repeat&&u.TweenMax||wt;return n?this.add(new o(i,n,r),s):this.set(i,r,s)},h.from=function(i,n,r,s){return this.add((r.repeat&&u.TweenMax||wt).from(i,n,_defaultImmediateRender(0,r)),s)},h.fromTo=function(i,n,r,s,o){var a=s.repeat&&u.TweenMax||wt;return s=_defaultImmediateRender(0,s,r),n?this.add(a.fromTo(i,n,r,s),o):this.set(i,s,o)},h.staggerTo=function(i,n,s,o,a,u,l,h){var c,d,f=new TimelineLite({onComplete:u,onCompleteParams:l,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),_=_distribute(s.stagger||o),p=s.startAt,m=s.cycle;for("string"==typeof i&&(i=wt.selector(i)||i),r(i=i||[])&&(i=function(i){var n,r=[],s=i.length;for(n=0;n!==s;r.push(i[n++]));return r}(i)),d=0;d<i.length;d++)c=_copy(s),p&&(c.startAt=_copy(p),p.cycle&&_applyCycle(c.startAt,i,d)),m&&(_applyCycle(c,i,d),null!=c.duration&&(n=c.duration,delete c.duration)),f.to(i[d],n,c,_(d,i[d],i));return this.add(f,a)},h.staggerFrom=function(i,n,r,s,o,a,u,l){return r.runBackwards=!0,this.staggerTo(i,n,_defaultImmediateRender(0,r),s,o,a,u,l)},h.staggerFromTo=function(i,n,r,s,o,a,u,l,h){return s.startAt=r,this.staggerTo(i,n,_defaultImmediateRender(0,s,r),o,a,u,l,h)},h.call=function(i,n,r,s){return this.add(wt.delayedCall(0,i,n,r),s)},h.set=function(i,n,r){return this.add(new wt(i,0,_defaultImmediateRender(0,n,null,!0)),r)},TimelineLite.exportRoot=function(i,n){null==(i=i||{}).smoothChildTiming&&(i.smoothChildTiming=!0);var r,s,o,a,u=new TimelineLite(i),l=u._timeline;for(null==n&&(n=!0),l._remove(u,!0),u._startTime=0,u._rawPrevTime=u._time=u._totalTime=l._time,o=l._first;o;)a=o._next,n&&o instanceof wt&&o.target===o.vars.onComplete||((s=o._startTime-o._delay)<0&&(r=1),u.add(o,s)),o=a;return l.add(u,0),r&&u.totalDuration(),u},h.add=function(i,n,r,o){var a,u,l,h,c,d;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,i)),!(i instanceof At)){if(i instanceof Array||i&&i.push&&s(i)){for(r=r||"normal",o=o||0,a=n,u=i.length,l=0;l<u;l++)s(h=i[l])&&(h=new TimelineLite({tweens:h})),this.add(h,a),"string"!=typeof h&&"function"!=typeof h&&("sequence"===r?a=h._startTime+h.totalDuration()/h._timeScale:"start"===r&&(h._startTime-=h.delay())),a+=o;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,n);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=wt.delayedCall(0,i)}if(kt.prototype.add.call(this,i,n),(i._time||!i._duration&&i._initted)&&(a=(this.rawTime()-i._startTime)*i._timeScale,(!i._duration||Math.abs(Math.max(0,Math.min(i.totalDuration(),a)))-i._totalTime>1e-5)&&i.render(a,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(c=this).rawTime()>i._startTime;c._timeline;)d&&c._timeline.smoothChildTiming?c.totalTime(c._totalTime,!0):c._gc&&c._enabled(!0,!1),c=c._timeline;return this},h.remove=function(i){if(i instanceof At){this._remove(i,!1);var n=i._timeline=i.vars.useFrames?At._rootFramesTimeline:At._rootTimeline;return i._startTime=(i._paused?i._pauseTime:n._time)-(i._reversed?i.totalDuration()-i._totalTime:i._totalTime)/i._timeScale,this}if(i instanceof Array||i&&i.push&&s(i)){for(var r=i.length;--r>-1;)this.remove(i[r]);return this}return"string"==typeof i?this.removeLabel(i):this.kill(null,i)},h._remove=function(i,n){return kt.prototype._remove.call(this,i,n),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},h.append=function(i,n){return this.add(i,this._parseTimeOrLabel(null,n,!0,i))},h.insert=h.insertMultiple=function(i,n,r,s){return this.add(i,n||0,r,s)},h.appendMultiple=function(i,n,r,s){return this.add(i,this._parseTimeOrLabel(null,n,!0,i),r,s)},h.addLabel=function(i,n){return this._labels[i]=this._parseTimeOrLabel(n),this},h.addPause=function(i,n,r,s){var o=wt.delayedCall(0,l,r,s||this);return o.vars.onComplete=o.vars.onReverseComplete=n,o.data="isPause",this._hasPause=!0,this.add(o,i)},h.removeLabel=function(i){return delete this._labels[i],this},h.getLabelTime=function(i){return null!=this._labels[i]?this._labels[i]:-1},h._parseTimeOrLabel=function(i,n,r,o){var a,u;if(o instanceof At&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&s(o)))for(u=o.length;--u>-1;)o[u]instanceof At&&o[u].timeline===this&&this.remove(o[u]);if(a="number"!=typeof i||n?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof i&&null==this._labels[n]?i-a:0,r);if(n=n||0,"string"!=typeof i||!isNaN(i)&&null==this._labels[i])null==i&&(i=a);else{if(-1===(u=i.indexOf("=")))return null==this._labels[i]?r?this._labels[i]=a+n:n:this._labels[i]+n;n=parseInt(i.charAt(u-1)+"1",10)*Number(i.substr(u+1)),i=u>1?this._parseTimeOrLabel(i.substr(0,u-1),0,r):a}return Number(i)+n},h.seek=function(i,n){return this.totalTime("number"==typeof i?i:this._parseTimeOrLabel(i),!1!==n)},h.stop=function(){return this.paused(!0)},h.gotoAndPlay=function(i,n){return this.play(i,n)},h.gotoAndStop=function(i,n){return this.pause(i,n)},h.render=function(i,n,r){this._gc&&this._enabled(!0,!1);var s,u,l,h,c,d,f,_,p=this._time,m=this._dirty?this.totalDuration():this._totalDuration,v=this._startTime,g=this._timeScale,y=this._paused;if(p!==this._time&&(i+=this._time-p),this._hasPause&&!this._forcingPlayhead&&!n){if(i>p)for(s=this._first;s&&s._startTime<=i&&!d;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(d=s),s=s._next;else for(s=this._last;s&&s._startTime>=i&&!d;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(d=s),s=s._prev;d&&(this._time=this._totalTime=i=d._startTime,_=this._startTime+(this._reversed?this._duration-i:i)/this._timeScale)}if(i>=m-1e-8&&i>=0)this._totalTime=this._time=m,this._reversed||this._hasPausedChild()||(u=!0,h="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(i<=0&&i>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==i&&this._first&&(c=!0,this._rawPrevTime>1e-8&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!n||i||this._rawPrevTime===i?i:1e-8,i=m+1e-4;else if(i<1e-8)if(this._totalTime=this._time=0,i>-1e-8&&(i=0),(0!==p||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||i<0&&this._rawPrevTime>=0))&&(h="onReverseComplete",u=this._reversed),i<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=u=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=i;else{if(this._rawPrevTime=this._duration||!n||i||this._rawPrevTime===i?i:1e-8,0===i&&u)for(s=this._first;s&&0===s._startTime;)s._duration||(u=!1),s=s._next;i=0,this._initted||(c=!0)}else this._totalTime=this._time=this._rawPrevTime=i;if(this._time!==p&&this._first||r||c||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&i>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||n||this._callback("onStart")),(f=this._time)>=p)for(s=this._first;s&&(l=s._next,f===this._time&&(!this._paused||y));)(s._active||s._startTime<=f&&!s._paused&&!s._gc)&&(d===s&&(this.pause(),this._pauseTime=_),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(i-s._startTime)*s._timeScale,n,r):s.render((i-s._startTime)*s._timeScale,n,r)),s=l;else for(s=this._last;s&&(l=s._prev,f===this._time&&(!this._paused||y));){if(s._active||s._startTime<=p&&!s._paused&&!s._gc){if(d===s){for(d=s._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(i-d._startTime)*d._timeScale:(i-d._startTime)*d._timeScale,n,r),d=d._prev;d=null,this.pause(),this._pauseTime=_}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(i-s._startTime)*s._timeScale,n,r):s.render((i-s._startTime)*s._timeScale,n,r)}s=l}this._onUpdate&&(n||(o.length&&a(),this._callback("onUpdate"))),h&&(this._gc||v!==this._startTime&&g===this._timeScale||(0===this._time||m>=this.totalDuration())&&(u&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!n&&this.vars[h]&&this._callback(h)))}},h._hasPausedChild=function(){for(var i=this._first;i;){if(i._paused||i instanceof TimelineLite&&i._hasPausedChild())return!0;i=i._next}return!1},h.getChildren=function(i,n,r,s){s=s||-9999999999;for(var o=[],a=this._first,u=0;a;)a._startTime<s||(a instanceof wt?!1!==n&&(o[u++]=a):(!1!==r&&(o[u++]=a),!1!==i&&(u=(o=o.concat(a.getChildren(!0,n,r))).length))),a=a._next;return o},h.getTweensOf=function(i,n){var r,s,o=this._gc,a=[],u=0;for(o&&this._enabled(!0,!0),s=(r=wt.getTweensOf(i)).length;--s>-1;)(r[s].timeline===this||n&&this._contains(r[s]))&&(a[u++]=r[s]);return o&&this._enabled(!1,!0),a},h.recent=function(){return this._recent},h._contains=function(i){for(var n=i.timeline;n;){if(n===this)return!0;n=n.timeline}return!1},h.shiftChildren=function(i,n,r){r=r||0;for(var s,o=this._first,a=this._labels;o;)o._startTime>=r&&(o._startTime+=i),o=o._next;if(n)for(s in a)a[s]>=r&&(a[s]+=i);return this._uncache(!0)},h._kill=function(i,n){if(!i&&!n)return this._enabled(!1,!1);for(var r=n?this.getTweensOf(n):this.getChildren(!0,!0,!1),s=r.length,o=!1;--s>-1;)r[s]._kill(i,n)&&(o=!0);return o},h.clear=function(i){var n=this.getChildren(!1,!0,!0),r=n.length;for(this._time=this._totalTime=0;--r>-1;)n[r]._enabled(!1,!1);return!1!==i&&(this._labels={}),this._uncache(!0)},h.invalidate=function(){for(var i=this._first;i;)i.invalidate(),i=i._next;return At.prototype.invalidate.call(this)},h._enabled=function(i,n){if(i===this._gc)for(var r=this._first;r;)r._enabled(i,!0),r=r._next;return kt.prototype._enabled.call(this,i,n)},h.totalTime=function(i,n,r){this._forcingPlayhead=!0;var s=At.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},h.duration=function(i){return arguments.length?(0!==this.duration()&&0!==i&&this.timeScale(this._duration/i),this):(this._dirty&&this.totalDuration(),this._duration)},h.totalDuration=function(i){if(!arguments.length){if(this._dirty){for(var n,r,s=0,o=this,a=o._last,u=999999999999;a;)n=a._prev,a._dirty&&a.totalDuration(),a._startTime>u&&o._sortChildren&&!a._paused&&!o._calculatingDuration?(o._calculatingDuration=1,o.add(a,a._startTime-a._delay),o._calculatingDuration=0):u=a._startTime,a._startTime<0&&!a._paused&&(s-=a._startTime,o._timeline.smoothChildTiming&&(o._startTime+=a._startTime/o._timeScale,o._time-=a._startTime,o._totalTime-=a._startTime,o._rawPrevTime-=a._startTime),o.shiftChildren(-a._startTime,!1,-9999999999),u=0),(r=a._startTime+a._totalDuration/a._timeScale)>s&&(s=r),a=n;o._duration=o._totalDuration=s,o._dirty=!1}return this._totalDuration}return i&&this.totalDuration()?this.timeScale(this._totalDuration/i):this},h.paused=function(i){if(!1===i&&this._paused)for(var n=this._first;n;)n._startTime===this._time&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return At.prototype.paused.apply(this,arguments)},h.usesFrames=function(){for(var i=this._timeline;i._timeline;)i=i._timeline;return i===At._rootFramesTimeline},h.rawTime=function(i){return i&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(i)-this._startTime)*this._timeScale},TimelineLite}),!0);var Ct=bt.TimelineLite;
/*!
   * VERSION: 2.1.3
   * DATE: 2019-05-17
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   * 
   * @author: Jack Doyle, jack@greensock.com
   */Tt._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var TimelineMax=function(i){Ct.call(this,i),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},i=wt._internals,n=i.lazyTweens,r=i.lazyRender,s=Tt._gsDefine.globals,o=new St(null,null,1,0),a=TimelineMax.prototype=new Ct;return a.constructor=TimelineMax,a.kill()._gc=!1,TimelineMax.version="2.1.3",a.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),Ct.prototype.invalidate.call(this)},a.addCallback=function(i,n,r,s){return this.add(wt.delayedCall(0,i,r,s),n)},a.removeCallback=function(i,n){if(i)if(null==n)this._kill(null,i);else for(var r=this.getTweensOf(i,!1),s=r.length,o=this._parseTimeOrLabel(n);--s>-1;)r[s]._startTime===o&&r[s]._enabled(!1,!1);return this},a.removePause=function(i){return this.removeCallback(Ct._internals.pauseCallback,i)},a.tweenTo=function(i,n){n=n||{};var r,a,u,l={ease:o,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},h=n.repeat&&s.TweenMax||wt;for(a in n)l[a]=n[a];return l.time=this._parseTimeOrLabel(i),r=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,u=new h(this,r,l),l.onStart=function(){u.target.paused(!0),u.vars.time===u.target.time()||r!==u.duration()||u.isFromTo||u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale).render(u.time(),!0,!0),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||u,n.onStartParams||[])},u},a.tweenFromTo=function(i,n,r){r=r||{},i=this._parseTimeOrLabel(i),r.startAt={onComplete:this.seek,onCompleteParams:[i],callbackScope:this},r.immediateRender=!1!==r.immediateRender;var s=this.tweenTo(n,r);return s.isFromTo=1,s.duration(Math.abs(s.vars.time-i)/this._timeScale||.001)},a.render=function(i,s,o){this._gc&&this._enabled(!0,!1);var a,u,l,h,c,d,f,_,p,m=this._time,v=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,y=this._totalTime,T=this._startTime,w=this._timeScale,b=this._rawPrevTime,x=this._paused,k=this._cycle;if(m!==this._time&&(i+=this._time-m),i>=v-1e-8&&i>=0)this._locked||(this._totalTime=v,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(u=!0,h="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(i<=0&&i>=-1e-8||b<0||1e-8===b)&&b!==i&&this._first&&(c=!0,b>1e-8&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!s||i||this._rawPrevTime===i?i:1e-8,this._yoyo&&1&this._cycle?this._time=i=0:(this._time=g,i=g+1e-4);else if(i<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,i>-1e-8&&(i=0),(0!==m||0===g&&1e-8!==b&&(b>0||i<0&&b>=0)&&!this._locked)&&(h="onReverseComplete",u=this._reversed),i<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=u=!0,h="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=i;else{if(this._rawPrevTime=g||!s||i||this._rawPrevTime===i?i:1e-8,0===i&&u)for(a=this._first;a&&0===a._startTime;)a._duration||(u=!1),a=a._next;i=0,this._initted||(c=!0)}else 0===g&&b<0&&(c=!0),this._time=this._rawPrevTime=i,this._locked||(this._totalTime=i,0!==this._repeat&&(d=g+this._repeatDelay,this._cycle=this._totalTime/d>>0,this._cycle&&this._cycle===this._totalTime/d&&y<=i&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&1&this._cycle&&(this._time=g-this._time),this._time>g?(this._time=g,i=g+1e-4):this._time<0?this._time=i=0:i=this._time));if(this._hasPause&&!this._forcingPlayhead&&!s){if((i=this._time)>m||this._repeat&&k!==this._cycle)for(a=this._first;a&&a._startTime<=i&&!f;)a._duration||"isPause"!==a.data||a.ratio||0===a._startTime&&0===this._rawPrevTime||(f=a),a=a._next;else for(a=this._last;a&&a._startTime>=i&&!f;)a._duration||"isPause"===a.data&&a._rawPrevTime>0&&(f=a),a=a._prev;f&&(p=this._startTime+(this._reversed?this._duration-f._startTime:f._startTime)/this._timeScale,f._startTime<g&&(this._time=this._rawPrevTime=i=f._startTime,this._totalTime=i+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==k&&!this._locked){var A=this._yoyo&&0!=(1&k),S=A===(this._yoyo&&0!=(1&this._cycle)),P=this._totalTime,C=this._cycle,D=this._rawPrevTime,R=this._time;if(this._totalTime=k*g,this._cycle<k?A=!A:this._totalTime+=g,this._time=m,this._rawPrevTime=0===g?b-1e-4:b,this._cycle=k,this._locked=!0,m=A?0:g,this.render(m,s,0===g),s||this._gc||this.vars.onRepeat&&(this._cycle=C,this._locked=!1,this._callback("onRepeat")),m!==this._time)return;if(S&&(this._cycle=k,this._locked=!0,m=A?g+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=R,this._totalTime=P,this._cycle=C,this._rawPrevTime=D}if(this._time!==m&&this._first||o||c||f){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&i>0&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||s||this._callback("onStart")),(_=this._time)>=m)for(a=this._first;a&&(l=a._next,_===this._time&&(!this._paused||x));)(a._active||a._startTime<=this._time&&!a._paused&&!a._gc)&&(f===a&&(this.pause(),this._pauseTime=p),a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(i-a._startTime)*a._timeScale,s,o):a.render((i-a._startTime)*a._timeScale,s,o)),a=l;else for(a=this._last;a&&(l=a._prev,_===this._time&&(!this._paused||x));){if(a._active||a._startTime<=m&&!a._paused&&!a._gc){if(f===a){for(f=a._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(i-f._startTime)*f._timeScale:(i-f._startTime)*f._timeScale,s,o),f=f._prev;f=null,this.pause(),this._pauseTime=p}a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(i-a._startTime)*a._timeScale,s,o):a.render((i-a._startTime)*a._timeScale,s,o)}a=l}this._onUpdate&&(s||(n.length&&r(),this._callback("onUpdate"))),h&&(this._locked||this._gc||T!==this._startTime&&w===this._timeScale||(0===this._time||v>=this.totalDuration())&&(u&&(n.length&&r(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!s&&this.vars[h]&&this._callback(h)))}else y!==this._totalTime&&this._onUpdate&&(s||this._callback("onUpdate"))},a.getActive=function(i,n,r){var s,o,a=[],u=this.getChildren(i||null==i,n||null==i,!!r),l=0,h=u.length;for(s=0;s<h;s++)(o=u[s]).isActive()&&(a[l++]=o);return a},a.getLabelAfter=function(i){i||0!==i&&(i=this._time);var n,r=this.getLabelsArray(),s=r.length;for(n=0;n<s;n++)if(r[n].time>i)return r[n].name;return null},a.getLabelBefore=function(i){null==i&&(i=this._time);for(var n=this.getLabelsArray(),r=n.length;--r>-1;)if(n[r].time<i)return n[r].name;return null},a.getLabelsArray=function(){var i,n=[],r=0;for(i in this._labels)n[r++]={time:this._labels[i],name:i};return n.sort((function(i,n){return i.time-n.time})),n},a.invalidate=function(){return this._locked=!1,Ct.prototype.invalidate.call(this)},a.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-i:i)+this._cycle*(this._duration+this._repeatDelay),n):this._time/this.duration()||0},a.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this._totalTime/this.totalDuration()||0},a.totalDuration=function(i){return arguments.length?-1!==this._repeat&&i?this.timeScale(this.totalDuration()/i):this:(this._dirty&&(Ct.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},a.time=function(i,n){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var r=this._duration,s=this._cycle,o=s*(r+this._repeatDelay);return i>r&&(i=r),this.totalTime(this._yoyo&&1&s?r-i+o:this._repeat?i+o:i,n)},a.repeat=function(i){return arguments.length?(this._repeat=i,this._uncache(!0)):this._repeat},a.repeatDelay=function(i){return arguments.length?(this._repeatDelay=i,this._uncache(!0)):this._repeatDelay},a.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},a.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.getLabelBefore(this._time+1e-8)},TimelineMax}),!0);var Dt=bt.TimelineMax,Rt=(createCommonjsModule((function(i,n){var r;i.exports=((r=function(){var i=0,n=document.createElement("div");function e(i){return n.appendChild(i.dom),i}function t(r){for(var s=0;s<n.children.length;s++)n.children[s].style.display=s===r?"block":"none";i=r}n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(r){r.preventDefault(),t(++i%n.children.length)}),!1);var s=(performance||Date).now(),o=s,a=0,u=e(new r.Panel("FPS","#0ff","#002")),l=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:n,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){a++;var i=(performance||Date).now();if(l.update(i-s,200),o+1e3<=i&&(u.update(1e3*a/(i-o),100),o=i,a=0,h)){var n=performance.memory;h.update(n.usedJSHeapSize/1048576,n.jsHeapSizeLimit/1048576)}return i},update:function(){s=this.end()},domElement:n,setMode:t}}).Panel=function(i,n,r){var s=1/0,o=0,a=Math.round,u=a(window.devicePixelRatio||1),l=80*u,h=48*u,c=3*u,d=2*u,f=3*u,_=15*u,p=74*u,m=30*u,v=document.createElement("canvas");v.width=l,v.height=h,v.style.cssText="width:80px;height:48px";var g=v.getContext("2d");return g.font="bold "+9*u+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=r,g.fillRect(0,0,l,h),g.fillStyle=n,g.fillText(i,c,d),g.fillRect(f,_,p,m),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(f,_,p,m),{dom:v,update:function(h,y){s=Math.min(s,h),o=Math.max(o,h),g.fillStyle=r,g.globalAlpha=1,g.fillRect(0,0,l,_),g.fillStyle=n,g.fillText(a(h)+" "+i+" ("+a(s)+"-"+a(o)+")",c,d),g.drawImage(v,f+u,_,p-u,m,f,_,p-u,m),g.fillRect(f+p-u,_,u,m),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(f+p-u,_,u,a((1-h/y)*m))}}},r)})),{});Rt.Vector=y,Rt.Vector2=T,Rt.Vector3=w,Rt.Matrix4=b,Rt.Clock=E,Rt.Event=C,Rt.Container=I,Rt.Sprite=L,wt.defaultEase=Pt.easeNone,Rt.TWEEN=Dt;var Et={};Et.sys=function System(){return System.pixel=window.devicePixelRatio||2,System.width=document.body.clientWidth,System.height=document.body.clientHeight,System.ratio=System.width/System.height,System}(),Et.canvas=function Canvas(i,n){if(Canvas.main||document.body.appendChild(Canvas.main=document.createElement("canvas")),"main"==i)return Canvas.main;var r=document.createElement("canvas");return i>0&&(r.width=i),n>0&&(r.height=n),r},Et.context=Et.canvas("main").getContext("webgl"),Et.render=function WebglRender(i,n,r){if(!(i instanceof Array))return Render$1(i,n,r);for(var s=0;s<i.length;s++)Render$1(i[s],n,r)},Et.req=yt,Et.random=S,Et.time=new A,Et.image=new F(new X),Et.audio=new H(new Y),Et.touch=new R,Et.collision=new P,Et.clock=new E,Et.stage=new O,Et.dirty=new M(600),Et.run=function(i){var n=i.width,r=i.height,s=i.interval,o=function GetMainCanvasOffset(i,n,r){var s=n,o=0,a=r,u=0,l=n/r;return l<.4?(u=(r-(a=n/750*1334))/2,l=750/1334):l>.8&&(o=(n-(s=r/1334*750))/2,l=750/1334),i.style.position="absolute",i.style.top=u+"px",i.style.left=o+"px",i.style.width=s+"px",i.style.height=a+"px",{x:o,y:u,width:s,height:a,ratio:l}}(Et.context.canvas,Et.sys.width,Et.sys.height);r||(r=n/o.ratio),Et.stage.width=Et.context.canvas.width=n,Et.stage.height=Et.context.canvas.height=r,Et.touch.size.set(n/o.width,r/o.height),Et.touch.offset.set(o.x,o.y),TouchListen(!("ontouchstart"in window))(Et.touch),Et.touch.on("touchEnd",(function(i){if(!(i.long>200||i.distance>12)){var n=i.clone().multiplyMatrix4(Et.stage.matrix);Et.collision.Recursive(Et.stage,n)}})),Et.stage.matrix.setOrtho(0,n,r,0,0,1),Et.context.viewport(0,0,n,r);var a=Et.context;a.clearColor(0,0,0,1),a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),a.shader=new V(a),a.useProgram(a.shader.program),Et.clock.on("tick",(function(){Et.dirty.tick();var i=[];Et.stage.pushTo(i);for(var n=0,r=i.length;n<r;n++)Et.render(i[n],Et.context,Et.dirty);Et.dirty.dispose(Et.context)})),Et.clock.run(s||1e3/60),Et.run=function(){}},document.body.style.background="green",Et.sprite=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i&&(n.texture=i),"string"==typeof n.texture&&(n.texture=Et.image.get(n.texture)),new L(n)};var Mt=function(r){function ScrollContainer(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,ScrollContainer),(n=a(this,u(ScrollContainer).call(this,r))).width=r.width||300,n.height=r.height||150,n.realWidth=r.realWidth||300,n.realHeight=r.realHeight||150,n.maxWidth=Math.min(n.width-n.realWidth,0),n.maxHeight=Math.min(n.height-n.realHeight,0),n}return h(ScrollContainer,r),n(ScrollContainer,[{key:"touchMoveX",value:function touchMoveX(i){var n=this.x;return this.x=Math.min(Math.max(this.x+i,this.maxWidth),0),this.x!=n}},{key:"touchMoveY",value:function touchMoveY(i){var n=this.y;return this.y=Math.min(Math.max(this.y+i,this.maxHeight),0),this.y!=n}}]),ScrollContainer}(I),It=function(r){function ScrollElement(n){var r;return i(this,ScrollElement),(r=a(this,u(ScrollElement).call(this))).container=n,r.on("create",(function(){Et.touch.on("touchMove",this.touchMove,this)})),r.on("destroy",(function(){Et.touch.off("touchMove",this.touchMove,this)})),r.invertMatrix=new b,r.invertMatrixId=0,r}return h(ScrollElement,r),n(ScrollElement,[{key:"updateTransformInvert",value:function updateTransformInvert(){this.invertMatrixId!=this.transformId&&(this.invertMatrix.invert(this.matrix),this.invertMatrixId=this.transformId)}},{key:"checkPoint",value:function checkPoint(i){return this.updateTransformInvert(),i.multiplyMatrix4(this.invertMatrix),i.x>=0&&i.y>=0&&i.x<=this.container.width&&i.y<=this.container.height}},{key:"touchTap",value:function touchTap(i){var n=i.add(this.container.x,-this.container.y).multiplyMatrix4(this.container.matrix);Et.collision.Recursive(this.container,n)}},{key:"touchMove",value:function touchMove(i){var n=i.clone();this.checkPoint(n.multiplyMatrix4(Et.stage.matrix))&&(this.container.touchMoveX(i.tick.x),this.container.touchMoveY(i.tick.y))}},{key:"render",value:function render(i,n){var r=this.getWorldVector(new w),s=r.x,o=r.y,a=(s+1)*Et.stage.width/2,u=(o+1)*Et.stage.height/2-this.container.height;i.enable(i.SCISSOR_TEST),i.scissor(a,u,this.container.width,this.container.height),Et.render(this.container.pushTo(),i,n),i.disable(i.SCISSOR_TEST)}}]),ScrollElement}(I);Et.scroll=function(i,n){var r=new Mt(n||{height:300,realHeight:600});return r.add(i),r.parent=new It(r),r.parent};var Ot=function(){function RichAttrs(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,RichAttrs),this.fillStyle=n.fillStyle||"#FFFFFF",this.strokeStyle=n.strokeStyle||"#000000",this.lineWidth=n.lineWidth||0,this.family=n.family||"icanvas",this.size=n.size||36,this.weight=n.weight||!1,this.align=n.align||"center",this.baseline=n.baseline||"middle",this.wrapWidth=n.wrapWidth||-1,n.lineHeight>0?(this.lineHeight=n.lineHeight,this.autoLineHeight=!1):(this.lineHeight=this.size,this.autoLineHeight=!0),this.icons=n.icons,this.needUpdate=!0}return n(RichAttrs,[{key:"getAttrs",value:function getAttrs(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.fillStyle=this.fillStyle,i.strokeStyle=this.strokeStyle,i.lineWidth=this.lineWidth,i.family=this.family,i.size=this.size,i.weight=this.weight,i}},{key:"getTags",value:function getTags(i,n){var r={};return i.replace(/\<(fillStyle|strokeStyle|lineWidth|family|weight|size|i)\=(\S+?)\>/g,(function(i,s,o,a){if("i"==s){if(!n[o])return i;r[a]={action:s,arg:n[o],length:i.length-1}}else r[a]={action:s,arg:"@"==o?family[s]:o,length:i.length-1};return i})),r}},{key:"getFamily",value:function getFamily(i){return i.size+"px "+i.family+(i.weight?" bold":"")}},{key:"getStructure",value:function getStructure(i,n,r,s){n.font=this.getFamily(s);for(var o={width:this.wrapWidth,height:0,contents:[{width:0,height:this.lineHeight,contents:[]}]},a=0,u=i.length;a<u;a++){var l=i[a];if(r[a]){var h=r[a];a+=h.length,"i"!=h.action?(s[h.action]=h.arg,n.font=this.getFamily(s)):this.checkSize(o,h.arg.width,h.arg.height),o.contents[0].contents.push(h)}else if("\n"===l)this.addLine(o);else{var c=n.measureText(l).width;this.checkSize(o,c,s.size),o.contents[0].contents.push({value:l,width:c,height:s.size})}}return o.height+=o.contents[0].height,o.contents[0].width>o.width&&(o.width=o.contents[0].width),o}},{key:"checkSize",value:function checkSize(i,n,r){var s=i.contents;this.wrapWidth>=0&&s[0].width+n>this.wrapWidth&&this.addLine(i),this.autoLineHeight&&r>s[0].height&&(s[0].height=r),s[0].width+=n}},{key:"addLine",value:function addLine(i){var n=i.contents;i.height+=n[0].height,n[0].width>i.width&&(i.width=n[0].width),i.contents.unshift({width:0,height:this.lineHeight,contents:[]})}},{key:"compute",value:function compute(i,n){if(!n)return i.width=i.height=1,void(this.needUpdate=!1);var r=this.getTags(n,this.icons),s=this.getAttrs(),o=this.getStructure(n,i,r,s);this.getAttrs(s),i.canvas.width=o.width,i.canvas.height=o.height,i.font=this.getFamily(s),i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,i.lineWidth=s.lineWidth,i.textAlign="left",i.textBaseline="top";for(var a=o.width,u=0,l=o.contents.length-1;l>=0;l--){for(var h=o.contents[l],c=h.width,d=h.height,f=h.contents,_=.5*(a-c),p=0;p<f.length;p++){var m=f[p];if(m.value)i.fillText(m.value,_,u+.5*(d-m.height)),_+=m.width;else if("i"==m.action){var v=m.arg,g=u+.5*(d-v.height);i.drawImage(v.source,_,g,v.width,v.height),_+=v.width}else"fillStyle"==m.action||"strokeStyle"==m.action||"lineWidth"==m.action?(s[m.action]=m.arg,i[m.action]=m.arg):(s[m.action]=m.arg,i.font=this.getFamily(s))}u+=d}this.needUpdate=!1}}]),RichAttrs}(),Lt=function(r){function RichText(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,RichText),n=a(this,u(RichText).call(this,r)),g(o(n),"refresh",n.preUpdate),!n.texture||!n.texture.getContext)throw"\b\bcanvas纹理不存在";if(!r.text)throw"富文本计算器不存在";return n.text=r.text,n.needUpdateValue=!1,n}return h(RichText,r),n(RichText,[{key:"preUpdate",value:function preUpdate(){(this.needUpdateValue||this.text.needUpdate)&&(this.text.compute(this.texture.getContext("2d"),this.value),this.text.needUpdate=!1,this.needUpdateValue=!1,this.texture.update(),this.width=this.texture.width,this.height=this.texture.height)}},{key:"value",get:function get(){return this._value},set:function set(i){var n=""+i;n!=this._value&&(this._value=n,this.needUpdateValue=!0)}}]),RichText}(L);Et.text=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.texture=new U(Et.canvas()),n.text=new Ot(i);var r=new Lt(n);return r.value=i.value||"",i.value&&r.refresh(),r};var Bt=function(n){function Load(n){var r,s;return i(this,Load),(r=s=a(this,u(Load).call(this)),g(o(s),"Bar",Et.sprite("load/bar").setPosition(0,500)),r).add(Et.sprite("load/cloud"),s.Bar,s.Desc),s.on("loading",(function(i){s.Bar.Progress=i.progress})),n.extend(o(s)),s}return h(Load,n),Load}(Rt.Container),Ut=function(r){function Enemy(){var n;return i(this,Enemy),n=a(this,u(Enemy).call(this,{texture:Et.image.get("play/enemy")})),g(o(n),"Animation",new Rt.TWEEN({paused:!0}).to(o(n),3,{y:Et.stage.height}).set(o(n),{visible:!1})),n.on("destroy",(function(){return n.Animation.kill()})),n}return h(Enemy,r),n(Enemy,[{key:"Reset",value:function Reset(){return this.x=Et.random(Et.stage.width),this.y=0,this.Animation.play(0),this.visible=!0,this}}]),Enemy}(Rt.Sprite),Ft=function(r){function Enemys(){var n,r;i(this,Enemys);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return r=a(this,(n=u(Enemys)).call.apply(n,[this].concat(l))),g(o(r),"_Slow",!0),g(o(r),"Total",1),r}return h(Enemys,r),n(Enemys,[{key:"Collision",value:function Collision(i){for(var n=0,r=0;r<this.children.length;r++){var s=this.children[r];if(s.visible&&(n++,s.y>=Et.stage.height&&s.Reset(),s.updateTransform(),Et.collision.InComponent(s,i)))return Et.stage.go("Home")}n<this.Total&&this.Send()}},{key:"Send",value:function Send(){var i=this.children.find((function(i){return!i.visible}));i||this.add(i=new Ut),i.Animation.timeScale(this.Slow?.1:1),i.Reset()}},{key:"Slow",set:function set(i){i?this.children.forEach((function(i){return i.Animation.timeScale(.1)})):this.children.forEach((function(i){return i.Animation.timeScale(1)})),this._Slow=i},get:function get(){return this._Slow}}]),Enemys}(Rt.Container),Ht=function(r){function Bullet(){return i(this,Bullet),a(this,u(Bullet).call(this,{scaleX:.3,scaleY:.3,texture:Et.image.get("play/bullet")}))}return h(Bullet,r),n(Bullet,[{key:"preUpdate",value:function preUpdate(){this.y-=this.parent.Slow?1:10,this.y<0&&(this.visible=!1)}},{key:"Collision",value:function Collision(i){if(this.visible)for(var n=this.getWorldVector(new Rt.Vector2),r=0;r<i.length;r++)if(i[r].visible&&Et.collision.InComponent(i[r],n))return i[r].visible=!1,this.visible=!1,Et.audio.get("boom").play(),Et.stage.children[0].emit("Boom",this.x,this.y)}}]),Bullet}(Rt.Sprite),jt=function(r){function Bullets(){var n,r;i(this,Bullets);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return r=a(this,(n=u(Bullets)).call.apply(n,[this].concat(l))),g(o(r),"Slow",!0),r}return h(Bullets,r),n(Bullets,[{key:"Send",value:function Send(i,n){var r=this.children.find((function(i){return!i.visible}));r||this.add(r=new Ht),r.x=i,r.y=n-35,r.visible=!0,r.updateTransform(),Et.audio.get("bullet").play()}},{key:"Collision",value:function Collision(i){for(var n=0;n<this.children.length;n++)this.children[n].Collision(i)}}]),Bullets}(Rt.Container),Nt=function(r){function Background(){var n;return i(this,Background),n=a(this,u(Background).call(this)),g(o(n),"Background1",Et.sprite("play/bg",{width:Et.stage.width,height:Et.stage.height,x:Et.stage.center})),g(o(n),"Background2",Et.sprite("play/bg",{width:Et.stage.width,height:Et.stage.height,x:Et.stage.center,y:Et.stage.height})),n.add(n.Background1,n.Background2),n}return h(Background,r),n(Background,[{key:"preUpdate",value:function preUpdate(){this.y++,this.y>=Et.stage.middle&&(this.y=-Et.stage.middle)}}]),Background}(Rt.Container),zt=function(r){function Boom(){var n;return i(this,Boom),n=a(this,u(Boom).call(this,{scaleX:5,scaleY:5})),g(o(n),"State",20),g(o(n),"Textures",Array.apply(null,{length:19}).map((function(i,n){return"play/explosion"+(n+1)}))),n}return h(Boom,r),n(Boom,[{key:"preUpdate",value:function preUpdate(){if(this.State>=this.Textures.length)return!0;this.texture=Et.image.get(this.Textures[this.State]),this.State++}}]),Boom}(Rt.Sprite),Vt=function(r){function Booms(){return i(this,Booms),a(this,u(Booms).apply(this,arguments))}return h(Booms,r),n(Booms,[{key:"Boom",value:function Boom(i,n){var r=this.children.find((function(i){return i.State>=i.Textures.length}));r||this.add(r=new zt),r.x=i,r.y=n,r.State=0}}]),Booms}(Rt.Container),Gt=function(r){function Play(){var n,r;return i(this,Play),(n=r=a(this,u(Play).call(this)),g(o(r),"Background",new Nt),g(o(r),"Player",Et.sprite("play/hero",{x:Et.stage.center,y:Et.stage.height-200})),g(o(r),"Enemys",new Ft),g(o(r),"Bullets",new jt),g(o(r),"Booms",new Vt),g(o(r),"Animation",new Rt.TWEEN({repeat:-1}).addCallback((function(){return r.Bullets.Send(r.Player.x,r.Player.y)}),.2)),g(o(r),"Level",new Rt.TWEEN({repeat:-1}).addCallback((function(){return r.Enemys.Total++}),30)),n).add(r.Background,r.Player,r.Enemys,r.Bullets,r.Booms),(new Rt.Container).setPosition(-r.Player.width/3,-r.Player.height/3).put(r.Player),(new Rt.Container).setPosition(r.Player.width/3,-r.Player.height/3).put(r.Player),r.Animation.timeScale(.1),r.Level.timeScale(.1),r.Bullets.Slow=!0,r.Enemys.Slow=!0,r.on("create",(function(){Et.audio.get("bgm").play(),Et.audio.get("bgm").loop(),Et.touch.on("touchStart",this.TouchStart,this),Et.touch.on("touchMove",this.TouchMove,this),Et.touch.on("touchEnd",this.TouchEnd,this)})),r.on("destroy",(function(){Et.audio.get("bgm").stop(),Et.touch.off("touchStart",this.TouchStart,this),Et.touch.off("touchMove",this.TouchMove,this),Et.touch.off("touchEnd",this.TouchEnd,this),this.Animation.kill(),this.Level.kill()})),r.on("Boom",r.Booms.Boom,r.Booms),r}return h(Play,r),n(Play,[{key:"preUpdate",value:function preUpdate(){this.Enemys.Collision(this.Player.getWorldVector(new Rt.Vector2(-60,-40))),this.Enemys.Collision(this.Player.getWorldVector(new Rt.Vector2(60,-40))),this.Bullets.Collision(this.Enemys.children)}},{key:"TouchStart",value:function TouchStart(i){this.Animation.timeScale(1),this.Level.timeScale(1),this.Bullets.Slow=!1,this.Enemys.Slow=!1,Et.collision.InComponent(this.Player,Et.stage.getWorldVector(i,!0))&&(this.Player.Moving=!0)}},{key:"TouchMove",value:function TouchMove(i){this.Player.Moving&&(this.Player.x=i.x,this.Player.y=i.y)}},{key:"TouchEnd",value:function TouchEnd(i){this.Animation.timeScale(.1),this.Level.timeScale(.1),this.Bullets.Slow=!0,this.Enemys.Slow=!0,this.Player.Moving=!1}}]),Play}(Rt.Container),qt=function(r){function Home(){var n;i(this,Home),n=a(this,u(Home).call(this)),g(o(n),"Background",Et.sprite("play/bg").setPosition(Et.stage.width/2,Et.stage.height/2).setSize(Et.stage.width,Et.stage.height)),g(o(n),"Play",Et.sprite("play/Common").setClip(Et.image.get("play/Common").sprite.button).setSize(200,100).setPosition(-200,-100)),g(o(n),"Rank",Et.sprite("play/Common",{opacity:.5}).setClip(Et.image.get("play/Common").sprite.button).setSize(200,100).setPosition(200,-100)),g(o(n),"Share",Et.sprite("play/Common",{alpha:.5}).setClip(Et.image.get("play/Common").sprite.button).setSize(200,100).setPosition(-200,100)),g(o(n),"Audio",Et.sprite("play/Common").setClip(Et.image.get("play/Common").sprite.button).setSize(200,100).setPosition(200,100)),Et.text({fillStyle:"#ff0000",icons:{s:Et.image.get("load/shadow")},value:"开始游戏<i=s>\n富文<size=16>本<i=s>测<fillStyle=#FFFFFF>试"}).put(n.Play),n.Play.touchTap=function(){Et.stage.go(new Gt)},Et.text({size:20,fillStyle:"#00ff00",value:"排行榜"}).put(n.Rank),n.Rank.touchTap=function(){},Et.text({size:36,fillStyle:"#00ff00",value:"分享"}).put(n.Share),n.Share.touchTap=function(){};var r=Et.text({size:26,value:Et.audio.mute?"声音:关":"声音:开"}).put(n.Audio);n.Audio.touchTap=function(){return Et.audio.mute=!Et.audio.mute,r.value=Et.audio.mute?"声音:关":"声音:开","refresh"},n.add(n.Background),n.Background.add(n.Play,n.Rank,n.Share,n.Audio);var s=Et.sprite("play/Common").setClip(Et.image.get("play/Common").sprite.button).setSize(200,100).setPosition(0,300);s.touchTap=function(i){};var l=Et.scroll(s).setPosition(100,100),h=new Rt.Container({x:100,y:100});return h.add(l),n.add(h),n.touchTap=function(){h.x+=100},n}return h(Home,r),n(Home,[{key:"create",value:function create(){Et.audio.get("home").play()}},{key:"destroy",value:function destroy(){Et.audio.get("home").stop()}}]),Home}(Rt.Container),Wt=function(){function Table(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";i(this,Table),g(this,"Name","default_default"),g(this,"Data",null),this.Name=n+"_"+r}return n(Table,[{key:"Get",value:function Get(i){return void 0===i?this.Data:this.Data?this.Data[i]:void 0}},{key:"Set",value:function Set(i,n){return this.Data&&(this.Data[i]=n),this}},{key:"Add",value:function Add(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.Data[i]+=n,this}},{key:"GetString",value:function GetString(){return JSON.stringify(this.Data)}},{key:"SetString",value:function SetString(i){try{this.Data=JSON.parse(i)}catch(i){this.Data=null}return this}},{key:"Execute",value:function Execute(i){var n=i(this.Data,this);return n&&(this.Data=n),this}},{key:"SetStorage",value:function SetStorage(){var i,n,r,s=this;return(i={key:this.Name,data:this.GetString()},n=i.key,r=i.data,window.localStorage.setItem(n,r),Promise.resolve()).then((function(){return s.Data}))}},{key:"GetStorage",value:function GetStorage(i){var n,r=this;return(n=this.Name,Promise.resolve({data:window.localStorage.getItem(n)})).catch((function(i){return i})).then((function(n){return r.SetString(n.data,i)}))}},{key:"DelStorage",value:function DelStorage(){var i,n=this;return(i=this.Name,window.localStorage.removeItem(i),Promise.resolve()).then((function(){return n.SetString()}))}}]),Table}(),Xt=function(r){function ArrTable(n){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",l=arguments.length>2?arguments[2]:void 0;if(i(this,ArrTable),r=a(this,u(ArrTable).call(this,n,s)),g(o(r),"Data",[]),l){var h=l instanceof Wt?l.Data:l;h&&r.Merge(h)}return r}return h(ArrTable,r),n(ArrTable,[{key:"Merge",value:function Merge(i){return this.Data=this.Data.concat(i),this}},{key:"MergeTo",value:function MergeTo(i){return i.concat(this.Data)}},{key:"SetString",value:function SetString(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.Data;return d(u(ArrTable.prototype),"SetString",this).call(this,i),!this.Data instanceof Array&&(this.Data=[]),n&&(this.Data=r.concat(this.Data)),this}},{key:"Insert",value:function Insert(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return-1==n?this.Data.push(i):0==n?this.Data.unshift(i):this.Data.splice(n,0,i),this}},{key:"length",get:function get(){return this.Data.length}},{key:"keys",get:function get(){return Object.keys(this.Data)}}]),ArrTable}(Wt),Yt=function(r){function MapTable(n){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",l=arguments.length>2?arguments[2]:void 0;if(i(this,MapTable),r=a(this,u(MapTable).call(this,n,s)),g(o(r),"Data",{}),l){var h=l instanceof Wt?l.Data:l;h&&r.Merge(h)}return r}return h(MapTable,r),n(MapTable,[{key:"MergeTo",value:function MergeTo(i){return Object.assign(i,this.Data)}},{key:"Merge",value:function Merge(i){return this.Data=Object.assign(this.Data||{},i||{}),this}},{key:"SetString",value:function SetString(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.Data;return d(u(MapTable.prototype),"SetString",this).call(this,i),"object"!=s(this.Data)&&(this.Data={}),n&&(this.Data=Object.assign(r,this.Data)),this}}]),MapTable}(Wt),$t=function(){function Database(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";i(this,Database),g(this,"Name","default"),g(this,"Data",{}),this.Name=n}return n(Database,[{key:"Map",value:function Map(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[i]instanceof Yt||(this.Data[i]=new Yt(this.Name,i,this.Data[i])),this.Data[i]}},{key:"Arr",value:function Arr(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[i]instanceof Xt||(this.Data[i]=new Xt(this.Name,i,this.Data[i])),this.Data[i]}},{key:"Table",value:function Table(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.Data[i]||(this.Data[i]=new Wt(this.Name,i)),this.Data[i]}},{key:"MergeMap",value:function MergeMap(i,n){return this.Map(i).Merge(n)}},{key:"MergeArr",value:function MergeArr(i,n){return this.Arr(i).Merge(n)}},{key:"GetString",value:function GetString(){for(var i=arguments.length?arguments:Object.keys(this.Data),n={},r=0;r<i.length;r++)n[i[r]]=this.Data[i[r]].GetString();return JSON.stringify(n)}},{key:"SetString",value:function SetString(i){var n=this;try{i=JSON.parse(i)}catch(i){return this}return Object.keys(i).forEach((function(r){n.Data[r]=n.Table(r).SetString(i[r])})),this}}]),Database}();var Qt=function(r){function Progress(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i(this,Progress),(n=a(this,u(Progress).call(this))).name=r,n.full=s||0,n.current=o,n}return h(Progress,r),n(Progress,[{key:"progress",get:function get(){return this._full?this._current/this._full:1}}]),n(Progress,[{key:"full",set:function set(i){this._full=i,this.emit("loading")}},{key:"current",set:function set(i){this._current=i,this.emit("loading")},get:function get(){return this._current}}]),Progress}(Rt.Event),Zt=function(r){function Listen(){var n;return i(this,Listen),(n=a(this,u(Listen).call(this))).loading=null,n.progresses=[],n}return h(Listen,r),n(Listen,[{key:"add",value:function add(i,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=this.progresses.length,o=new Qt(i,n,r);return this.progresses.push(o),this.tagNext(s),o}},{key:"tagNext",value:function tagNext(i){var n=this;if(this.loading)return this.loading.emit("loading");for(var r=function _loop(i){var r=n.progresses[i];if(r.finish)return"continue";n.loading=r,r.on("loading",(function(){return n.emit("loading",r)})),r.once("finish",(function(){n.loading=null,r.finish=!0,r.off("loading"),n.tagNext(i)}))},s=i;s<this.progresses.length;s++)r(s)}},{key:"extendLoading",value:function extendLoading(i){this.emit("loading",i)}},{key:"extend",value:function extend(i){var n=this;this.on("loading",this.extendLoading,i),i.once("destroy",(function(){return n.off("loading",n.extendLoading,i)})),this.loading&&this.loading.emit("loading",this.loading)}},{key:"destroy",value:function destroy(){this.off("loading"),this.loading=null,this.progresses.length=0,this.emit("finish")}}]),Listen}(Rt.Event);function loadMap(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0,o={};return Object.keys(i).forEach((function(a){if("_"==a){if(-1==s.indexOf(i[a]))return;var u=r.slice(0,-1),l=n+r.slice(0,-1)+"."+i[a];o[u]=l}else if("string"==typeof i[a]){if(-1==s.indexOf(i[a]))return;var h=r+a,c=n+r+a+"."+i[a];o[h]=c}else Object.assign(o,loadMap(i[a],n,r+a+"/",s))})),o}Et.stage.set(Bt,qt),Et.data=new $t("global_production"),Et.data.Map("Setting").Merge({Audio:!0,Shock:!0}),Et.run({width:750,interval:1e3/60});var Jt=new Zt;Promise.all([Promise.all([Et.image.loads(loadMap({load:{bar:"png",cloud:"png",shadow:"png",shadowpx:"png"},share:"png"},"resource/local/","",["png","jpg"])),Et.data.Map("Setting").GetStorage(!0).then((function(){return Et.audio.mute=!Et.data.Map("Setting").Get("Audio")}))]),Promise.resolve(Jt.add("资源包下载",100)).then((function(i){return function Remote(i,n){return n(100),Promise.resolve({assetsUrl:i,resourceMap:{audio:{bgm:"mp3",boom:"mp3",bullet:"mp3",home:"mp3"},modal:{add:"png",close:"png",title:"png"},play:{Common:"png",bg:"jpg",bullet:"png",enemy:"png",explosion1:"png",explosion10:"png",explosion11:"png",explosion12:"png",explosion13:"png",explosion14:"png",explosion15:"png",explosion16:"png",explosion17:"png",explosion18:"png",explosion19:"png",explosion2:"png",explosion3:"png",explosion4:"png",explosion5:"png",explosion6:"png",explosion7:"png",explosion8:"png",explosion9:"png",hero:"png"}}})}("resource/remote",(function(n){return i.current=n}))})).then((function(i){var n=loadMap(i.resourceMap,i.assetsUrl+"/","",["png","jpg"]),r=Jt.add("图片预读",Object.keys(n).length),s=loadMap(i.resourceMap.audio,i.assetsUrl+"/audio/","",["mp3"]),o=Jt.add("音频加载",Object.keys(s).length);return Promise.all([Et.image.loads(n,"",(function(){return r.current++})),Et.audio.loads(s,"",(function(){return o.current++}))])})).then((function(){Et.image.get("play/Common").sprite={button:{x:121,y:7.3,width:37,height:21.7}}}))]).then((function(){return Jt.destroy()})).then((function(){return Et.stage.go("Home")})).catch((function(i){}))}();
